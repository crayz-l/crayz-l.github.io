<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>CPP_第15周</title>
      <link href="/posts/1935878460/"/>
      <url>/posts/1935878460/</url>
      
        <content type="html"><![CDATA[<h1 id="a-一-会员积分-期末模拟">A.一、会员积分（期末模拟）</h1><h2 id="题目描述">题目描述</h2><p>某电商网站的会员分为：普通、贵宾两个级别</p><p>普通会员类Member，包含编号、姓名、积分三个属性，编号和积分是整数，姓名是字符串<br>操作包括构造、打印、积分累加、积分兑换，操作定义如下：<br>1、积分累加add，是根据消费金额累加积分，无返回值，参数是消费金额（整数），积分根据消费金额按1比1的比例累加。<br>2、积分兑换exchange，是按照每100积分换1元的比例，把积分兑换成现金。参数是要兑换的积分数量，返回值是兑换的现金数量。<br>注意：兑换积分数量不足100的部分是不能兑换的，例如会员原有500积分，要兑换积分数量为450，则450/100=4，最终用400积分兑换4元，会员余100积分。<br>3、打印是输出会员信息，格式参考输出样例</p><p>贵宾会员类VIP，继承了普通会员的属性与操作，新增两个属性：累加比例(整数)、兑换比例(整数)。并且重定义了所有操作：<br>1、积分累加中，积分按累加比例进行累加。例如累加比例是2，消费金额100元，则累加积分=100*2=200<br>2、积分兑换中，按照兑换比例的数值把积分抵扣消费金额。例如兑换比例是90，会员原有500积分，要兑换积分数量为420，则420/90=4，最终用360积分兑换4元，会员余140积分。<br>3、打印是输出会员信息，格式参考输出样例</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Member</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> number;</span><br><span class="line"><span class="type">int</span> points;</span><br><span class="line">string name;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Member</span>(<span class="type">int</span> num,<span class="type">int</span> p,string na):<span class="built_in">number</span>(num),<span class="built_in">points</span>(p),<span class="built_in">name</span>(na)&#123;&#125;</span><br><span class="line"> <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a)</span></span>;</span><br><span class="line"> <span class="function"><span class="keyword">virtual</span> <span class="type">int</span> <span class="title">exchange</span><span class="params">(<span class="type">int</span> p)</span></span>;</span><br><span class="line"> <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Member::add</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">points += a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Member::exchange</span><span class="params">(<span class="type">int</span> p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> amount;</span><br><span class="line"><span class="keyword">if</span> (p % <span class="number">100</span> != <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">p -= p % <span class="number">100</span>;</span><br><span class="line">points -= p;</span><br><span class="line">amount = p / <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">points -= p;</span><br><span class="line">amount = p / <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> amount;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Member::print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;普通会员&quot;</span> &lt;&lt; number &lt;&lt; <span class="string">&quot;--&quot;</span> &lt;&lt; name &lt;&lt; <span class="string">&quot;--&quot;</span> &lt;&lt; points &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vip</span>:<span class="keyword">public</span> Member</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> add_page;</span><br><span class="line"><span class="type">int</span> exchange_page;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Vip</span>(<span class="type">int</span> num, <span class="type">int</span> p, string na, <span class="type">int</span> ap, <span class="type">int</span> ep) :<span class="built_in">Member</span>(num, p, na)</span><br><span class="line">&#123;</span><br><span class="line">add_page = ap;</span><br><span class="line">exchange_page = ep;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">int</span> <span class="title">exchange</span><span class="params">(<span class="type">int</span> p)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Vip::add</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> po;</span><br><span class="line">po = a * add_page;</span><br><span class="line">points += po;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Vip::exchange</span><span class="params">(<span class="type">int</span> p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> amount;</span><br><span class="line"><span class="keyword">if</span> (p % exchange_page != <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">p -= p % exchange_page;</span><br><span class="line">points -= p;</span><br><span class="line">amount = p / exchange_page;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">points -= p;</span><br><span class="line">amount = p / exchange_page;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> amount;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Vip::print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;贵宾会员&quot;</span> &lt;&lt; number &lt;&lt; <span class="string">&quot;--&quot;</span> &lt;&lt; name &lt;&lt; <span class="string">&quot;--&quot;</span> &lt;&lt; points &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Member* pm;</span><br><span class="line"><span class="type">int</span> number, points, apage, epage;</span><br><span class="line"><span class="type">int</span> amount, change_point;</span><br><span class="line">string name;</span><br><span class="line"></span><br><span class="line">cin &gt;&gt; number &gt;&gt; name &gt;&gt; points;</span><br><span class="line"><span class="function">Member <span class="title">mm</span><span class="params">(number, points, name)</span></span>;</span><br><span class="line">pm = &amp;mm;</span><br><span class="line">cin &gt;&gt; amount &gt;&gt; change_point;</span><br><span class="line">pm-&gt;<span class="built_in">add</span>(amount);</span><br><span class="line">pm-&gt;<span class="built_in">exchange</span>(change_point);</span><br><span class="line">pm-&gt;<span class="built_in">print</span>();</span><br><span class="line"></span><br><span class="line">cin &gt;&gt; number &gt;&gt; name &gt;&gt; points &gt;&gt; apage &gt;&gt; epage;</span><br><span class="line"><span class="function">Vip <span class="title">vv</span><span class="params">(number, points, name, apage, epage)</span></span>;</span><br><span class="line">pm = &amp;vv;</span><br><span class="line">cin &gt;&gt; amount &gt;&gt; change_point;</span><br><span class="line">pm-&gt;<span class="built_in">add</span>(amount);</span><br><span class="line">pm-&gt;<span class="built_in">exchange</span>(change_point);</span><br><span class="line">pm-&gt;<span class="built_in">print</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="b-二-金属加工-期末模拟">B.二、金属加工（期末模拟）</h1><h2 id="题目描述">题目描述</h2><p>在金属加工中，金属具有硬度、重量、体积的属性（都是整数），包括四种操作：<br>1、合并，每两块金属可以合并成一块新的金属。新金属的重量等于原两块金属的重量之和，体积和硬度也类似计算。<br>2、巨化，金属通过熔炼风吹的方法会巨化，体积变大n倍，重量和硬度不变<br>3、硬化，在金属中加入高分子材料可以硬化金属，每提升硬度一级，重量和体积都增加10%。<br>4、软化，在金属中加入特殊化学溶液可以降低金属硬度，每降低硬度一级，重量和体积都减少10%</p><p>用类来描述金属，用运算符重载方式实现金属的四种操作，并定义打印函数，具体要求如下<br>1、用加法运算符、友元的方式实现合并<br>2、用乘法运算符、友元的方式实现巨化，含两个参数：金属对象、巨化倍数<br>3、用++运算符、成员函数、前增量的方式实现硬化<br>4、用–运算符、成员函数、后增量的方式实现软化<br>5、打印函数用来输出金属的信息，输出格式看参考样本</p><p>操作中所有属性的运算结果都只保留整数部分。</p><p>上述所有类属性都不是public，用面向对象思想和C++语言实现上述要求</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mental</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> hardness;</span><br><span class="line"><span class="type">int</span> weight;</span><br><span class="line"><span class="type">int</span> volume;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Mental</span>()&#123;&#125;</span><br><span class="line"><span class="built_in">Mental</span>(<span class="type">int</span> h,<span class="type">int</span> w,<span class="type">int</span> v):<span class="built_in">hardness</span>(h),<span class="built_in">weight</span>(w),<span class="built_in">volume</span>(v)&#123;&#125;</span><br><span class="line"><span class="keyword">friend</span> Mental <span class="keyword">operator</span>+ (Mental m1,Mental m2);</span><br><span class="line"><span class="keyword">friend</span> Mental <span class="keyword">operator</span>*(Mental m, <span class="type">int</span> n);</span><br><span class="line">Mental &amp;<span class="keyword">operator</span>++()</span><br><span class="line">&#123;</span><br><span class="line">hardness++;</span><br><span class="line">volume *= <span class="number">1.1</span>;</span><br><span class="line">weight *= <span class="number">1.1</span>;</span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">Mental&amp; <span class="keyword">operator</span>--(<span class="type">int</span>)</span><br><span class="line">&#123;</span><br><span class="line">hardness--;</span><br><span class="line">volume *= <span class="number">0.9</span>;</span><br><span class="line">weight *= <span class="number">0.9</span>;</span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Mental <span class="keyword">operator</span>+(Mental m1, Mental m2)</span><br><span class="line">&#123;</span><br><span class="line">Mental m3;</span><br><span class="line">m<span class="number">3.</span>hardness = m<span class="number">1.</span>hardness + m<span class="number">2.</span>hardness;</span><br><span class="line">m<span class="number">3.</span>volume = m<span class="number">1.</span>volume + m<span class="number">2.</span>volume;</span><br><span class="line">m<span class="number">3.</span>weight = m<span class="number">1.</span>weight + m<span class="number">2.</span>weight;</span><br><span class="line"><span class="keyword">return</span> m3;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Mental <span class="keyword">operator</span>*(Mental m, <span class="type">int</span> n)</span><br><span class="line">&#123;</span><br><span class="line">m.volume *= n;</span><br><span class="line"><span class="keyword">return</span> m;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Mental::print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;硬度&quot;</span> &lt;&lt; hardness &lt;&lt; <span class="string">&quot;--重量&quot;</span> &lt;&lt; weight &lt;&lt; <span class="string">&quot;--体积&quot;</span> &lt;&lt; volume &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> h, w, v;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin &gt;&gt; h &gt;&gt; w &gt;&gt; v;</span><br><span class="line"><span class="function">Mental <span class="title">m1</span><span class="params">(h, w, v)</span></span>;</span><br><span class="line">cin &gt;&gt; h &gt;&gt; w &gt;&gt; v;</span><br><span class="line"><span class="function">Mental <span class="title">m2</span><span class="params">(h, w, v)</span></span>;</span><br><span class="line">Mental m3;</span><br><span class="line">m3 = m1 + m2;</span><br><span class="line">m<span class="number">3.</span><span class="built_in">print</span>();</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line">m3 = m1 * n;</span><br><span class="line">m<span class="number">3.</span><span class="built_in">print</span>();</span><br><span class="line">++m1;</span><br><span class="line">m<span class="number">1.</span><span class="built_in">print</span>();</span><br><span class="line">m2--;</span><br><span class="line">m<span class="number">2.</span><span class="built_in">print</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="c-三-加密模板-期末模拟">C.三、加密模板（期末模拟）</h1><h2 id="题目描述">题目描述</h2><p>加密机制包括明文、密文、密钥。用密钥对明文进行加密后就得到密文。<br>在古典加密机制中，偏离值是一种常见的方法，加密过程为<br>1、在已知数据中找出最大值<br>2、用最大值减去各个数值，得到相应的偏离值<br>3、偏离值加上密钥就得到密文</p><p>例如明文为1 2 3 4 5，密钥是10，加密过程为：<br>1、找出明文的最大值是5<br>2、用5减去明文的各个数值，得到偏离值4 3 2 1 0<br>3、用偏离值加上密钥，得到密文14 13 12 11 10<br>定义一个函数模板，名为max，参数包括数组和数组长度，返回值是数组中的最大值，要求支持整数、浮点数和字符三种类型。</p><p>用类模板定义一个加密类，包含四个属性：明文、密文、密钥、长度，前三个属性都是同一种类型，长度是整数。长度是指明文的长度。<br>类模板包含操作构造、加密、打印，说明如下：<br>1、加密是调用函数模板max得到数组最大值，按照前面的方法使用最大值和密钥进行加密，得到密文<br>2、打印是输出密文</p><p>要求类模板支持整数、浮点数和字符三种类型。<br>参考代码给出了加密类界面（只支持整数类型）、主函数（支持三种数据类型），程序要求<br>1、根据要求编写函数模板max<br>2、使用类模板方法改造加密类界面，不能增加任何属性和操作，必须在类外实现构造函数和加密方法<br>3、主函数不能有任何修改<br>上述所有类属性都不是public，用面向对象思想和C++语言实现上述要求</p><p>----参考代码----</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//只支持整数类型的加密类界面</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cryption</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> ptxt[<span class="number">100</span>]; <span class="comment">//明文</span></span><br><span class="line"><span class="type">int</span> ctxt[<span class="number">100</span>]; <span class="comment">//密文</span></span><br><span class="line"><span class="type">int</span> key; <span class="comment">//密钥</span></span><br><span class="line"><span class="type">int</span> len; <span class="comment">//长度</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Cryption</span>(<span class="type">int</span> tk, <span class="type">int</span> tt[], <span class="type">int</span> n); <span class="comment">//参数依次对应密钥、明文、长度</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">encrypt</span><span class="params">()</span></span>; <span class="comment">//加密</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span> <span class="comment">//打印，无需改造</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len - <span class="number">1</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; ctxt[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; ctxt[i] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//支持三种类型的主函数</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="type">int</span> length; <span class="comment">//长度</span></span><br><span class="line"><span class="type">int</span> ik, itxt[<span class="number">100</span>];</span><br><span class="line"><span class="type">double</span> dk, dtxt[<span class="number">100</span>];</span><br><span class="line"><span class="type">char</span> ck, ctxt[<span class="number">100</span>];</span><br><span class="line"><span class="comment">//整数加密</span></span><br><span class="line">cin &gt;&gt; ik &gt;&gt; length;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; itxt[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Cryption&lt;<span class="type">int</span>&gt; <span class="title">ic</span><span class="params">(ik, itxt, length)</span></span>;</span><br><span class="line">ic.<span class="built_in">encrypt</span>();</span><br><span class="line">ic.<span class="built_in">print</span>();</span><br><span class="line"><span class="comment">//浮点数加密</span></span><br><span class="line">cin &gt;&gt; dk &gt;&gt; length;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; dtxt[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Cryption&lt;<span class="type">double</span>&gt; <span class="title">dc</span><span class="params">(dk, dtxt, length)</span></span>;</span><br><span class="line">dc.<span class="built_in">encrypt</span>();</span><br><span class="line">dc.<span class="built_in">print</span>();</span><br><span class="line"><span class="comment">//字符加密</span></span><br><span class="line">cin &gt;&gt; ck &gt;&gt; length;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; ctxt[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Cryption&lt;<span class="type">char</span>&gt; <span class="title">cc</span><span class="params">(ck, ctxt, length)</span></span>;</span><br><span class="line">cc.<span class="built_in">encrypt</span>();</span><br><span class="line">cc.<span class="built_in">print</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> Type&gt;</span></span><br><span class="line"><span class="function">Type <span class="title">max</span><span class="params">(Type *p,<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Type max = p[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (max &lt; p[i])</span><br><span class="line">        &#123;</span><br><span class="line">max = p[i];</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">Type</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cryption</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Type ptxt[<span class="number">100</span>]; <span class="comment">//明文</span></span><br><span class="line">Type ctxt[<span class="number">100</span>]; <span class="comment">//密文</span></span><br><span class="line">Type key; <span class="comment">//密钥</span></span><br><span class="line"><span class="type">int</span> len; <span class="comment">//长度</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Cryption</span>(Type tk, Type tt[], <span class="type">int</span> n) :<span class="built_in">key</span>(tk), <span class="built_in">len</span>(n) <span class="comment">//参数依次对应密钥、明文、长度</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">&#123;</span><br><span class="line">ptxt[i] = tt[i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">encrypt</span><span class="params">()</span></span>; <span class="comment">//加密</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>; <span class="comment">//打印，无需改造</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">Type</span>&gt;</span><br><span class="line"><span class="type">void</span> Cryption&lt;Type&gt;::<span class="built_in">encrypt</span>()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">&#123;</span><br><span class="line">ctxt[i] = key + (<span class="built_in">max</span>(ptxt, len) - ptxt[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">Type</span>&gt;</span><br><span class="line"><span class="type">void</span> Cryption&lt;Type&gt;::<span class="built_in">print</span>()</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len - <span class="number">1</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; ctxt[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; ctxt[i] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//支持三种类型的主函数</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="type">int</span> length; <span class="comment">//长度</span></span><br><span class="line"><span class="type">int</span> ik, itxt[<span class="number">100</span>];</span><br><span class="line"><span class="type">double</span> dk, dtxt[<span class="number">100</span>];</span><br><span class="line"><span class="type">char</span> ck, ctxt[<span class="number">100</span>];</span><br><span class="line"><span class="comment">//整数加密</span></span><br><span class="line">cin &gt;&gt; ik &gt;&gt; length;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; itxt[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Cryption&lt;<span class="type">int</span>&gt; <span class="title">ic</span><span class="params">(ik, itxt, length)</span></span>;</span><br><span class="line">ic.<span class="built_in">encrypt</span>();</span><br><span class="line">ic.<span class="built_in">print</span>();</span><br><span class="line"><span class="comment">//浮点数加密</span></span><br><span class="line">cin &gt;&gt; dk &gt;&gt; length;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; dtxt[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Cryption&lt;<span class="type">double</span>&gt; <span class="title">dc</span><span class="params">(dk, dtxt, length)</span></span>;</span><br><span class="line">dc.<span class="built_in">encrypt</span>();</span><br><span class="line">dc.<span class="built_in">print</span>();</span><br><span class="line"><span class="comment">//字符加密</span></span><br><span class="line">cin &gt;&gt; ck &gt;&gt; length;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; ctxt[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Cryption&lt;<span class="type">char</span>&gt; <span class="title">cc</span><span class="params">(ck, ctxt, length)</span></span>;</span><br><span class="line">cc.<span class="built_in">encrypt</span>();</span><br><span class="line">cc.<span class="built_in">print</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="d-四-加湿风扇-期末模拟">D.四、加湿风扇（期末模拟）</h1><h2 id="题目描述">题目描述</h2><p>已知家电有编号、功率的属性，属性都是整数，操作包括构造和打印等</p><p>电风扇继承家电的特点，新增两个属性（整数）：风向和风力，其中风向为0表示定向吹风，状态为1表示旋转吹风。<br>风扇包含两个新操作：风向控制和风力控制<br>1、风向控制含一个整数参数，无返回，把风向设置为参数值，参数为0表示定向吹风，为1表示旋转吹风。<br>2、风力控制含一个整数参数，无返回，把风力设置为参数值，参数表示风力级别，例如1级、2级、3级等。<br>加湿器继承家电的特点，新增两个属性（浮点数）：实际水容量和最大水容量</p><p>新增操作是预警，无参数，返回值为整数，当实际水容量不小于最大水容量的50%，则返回1；小于50%且不小于10%则返回2，小于10%则返回3<br>加湿风扇继承了风扇和加湿器的特点，新增属性档位（整数）<br>新增操作调整档位，含一个参数，无返回值，先设置档位为参数值，再调用风向控制和风力控制来设置相关属性，包括：<br>1、参数为0，不做其他属性修改<br>2、参数为1，设置定向吹风且风力1级<br>3、参数为2，设置旋转吹风且风力2级<br>4、参数为3，设置旋转吹风且风力3级</p><p>档位只可能是0、1、2、3四个数值，其他数值忽略。<br>加湿风扇重载打印操作，输出格式参考样本。输出要求如下：<br>1、如果风向为0，则输出定向吹风，风向为1则输出旋转吹风。<br>2、调用预警操作，并根据返回结果1、2、3输出不同信息，分别是：水量正常、水量偏低、水量不足</p><p>程序要求<br>1、采用虚拟继承机制实现上述电器的关系，明确谁是虚基类、基类、派生类<br>2、基类和派生类的构造要考虑虚基类、基类的属性构造<br>上述所有类属性都不是public，用面向对象思想和C++语言实现上述要求</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">appliance</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> number;</span><br><span class="line"><span class="type">int</span> power;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">appliance</span>()&#123;&#125;</span><br><span class="line"><span class="built_in">appliance</span>(<span class="type">int</span> n,<span class="type">int</span> p):<span class="built_in">number</span>(n),<span class="built_in">power</span>(p)&#123;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Fan</span>:<span class="keyword">virtual</span> <span class="keyword">public</span> appliance</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> w_direction;</span><br><span class="line"><span class="type">int</span> w_power;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Fan</span>()&#123;&#125;</span><br><span class="line"><span class="built_in">Fan</span>(<span class="type">int</span> n,<span class="type">int</span> p,<span class="type">int</span> w_d,<span class="type">int</span> w_p):<span class="built_in">appliance</span>(n,p),<span class="built_in">w_direction</span>(w_d),<span class="built_in">w_power</span>(w_p)&#123;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">d_control</span><span class="params">(<span class="type">int</span> d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">w_direction = d;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">p_control</span><span class="params">(<span class="type">int</span> p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">w_power = p;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Hum</span>:<span class="keyword">virtual</span> <span class="keyword">public</span> appliance</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">double</span>  volume;</span><br><span class="line"><span class="type">double</span> max_volume;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Hum</span>()&#123;&#125;</span><br><span class="line"><span class="built_in">Hum</span>(<span class="type">int</span> n,<span class="type">int</span> p,<span class="type">int</span> v,<span class="type">int</span> max):<span class="built_in">appliance</span>(n,p),<span class="built_in">volume</span>(v),<span class="built_in">max_volume</span>(max)&#123;&#125;</span><br><span class="line"><span class="function"><span class="type">int</span>  <span class="title">warning</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Hum::warning</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (volume &gt;= <span class="number">0.5</span> * max_volume)</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (volume &gt;= (<span class="number">0.1</span> * max_volume) &amp;&amp; volume &lt; (<span class="number">0.5</span> * max_volume))</span><br><span class="line"><span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (volume &lt; (<span class="number">0.1</span> * max_volume))</span><br><span class="line"><span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Hum_Fan</span> :<span class="keyword">public</span> Fan, <span class="keyword">public</span> Hum</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> state;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line"><span class="built_in">Hum_Fan</span>(<span class="type">int</span> n, <span class="type">int</span> p, <span class="type">int</span> w_d, <span class="type">int</span> w_p, <span class="type">int</span> v, <span class="type">int</span> max, <span class="type">int</span> s) </span><br><span class="line">&#123;</span><br><span class="line">number = n;</span><br><span class="line">power = p;</span><br><span class="line">w_direction = w_d;</span><br><span class="line">w_power = w_p;</span><br><span class="line">volume = v;</span><br><span class="line">max_volume = max;</span><br><span class="line">state = s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">control</span><span class="params">(<span class="type">int</span> x)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Hum_Fan::control</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">state = x;</span><br><span class="line"><span class="keyword">if</span> (state == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (state == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">d_control</span>(<span class="number">0</span>);</span><br><span class="line"><span class="built_in">p_control</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (state == <span class="number">2</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">d_control</span>(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">p_control</span>(<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (state == <span class="number">3</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">d_control</span>(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">p_control</span>(<span class="number">3</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Hum_Fan::print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;加湿风扇--档位&quot;</span> &lt;&lt; state &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;编号&quot;</span> &lt;&lt; number &lt;&lt; <span class="string">&quot;--功率&quot;</span> &lt;&lt; power &lt;&lt; <span class="string">&quot;W&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">if</span> (w_direction == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;定向吹风--风力&quot;</span> &lt;&lt; w_power &lt;&lt; <span class="string">&quot;级&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (w_direction == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;旋转吹风--风力&quot;</span> &lt;&lt; w_power &lt;&lt; <span class="string">&quot;级&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">warning</span>() == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;实际水容量&quot;</span> &lt;&lt; volume &lt;&lt; <span class="string">&quot;升--水量正常&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">warning</span>() == <span class="number">2</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;实际水容量&quot;</span> &lt;&lt; volume &lt;&lt; <span class="string">&quot;升--水量偏低&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">warning</span>() == <span class="number">3</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;实际水容量&quot;</span> &lt;&lt; volume &lt;&lt; <span class="string">&quot;升--水量不足&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line"><span class="type">int</span> number, power, w_direction, w_power, volume, max_volume, state;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; number &gt;&gt; power &gt;&gt; w_direction &gt;&gt; w_power &gt;&gt; volume &gt;&gt; max_volume &gt;&gt; state;</span><br><span class="line"><span class="function">Hum_Fan <span class="title">app</span><span class="params">(number, power, w_direction, w_power, volume, max_volume, state)</span></span>;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line">app.<span class="built_in">control</span>(n);</span><br><span class="line">app.<span class="built_in">print</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="e-计重转换-期末模拟">E.计重转换（期末模拟）</h1><h2 id="题目描述">题目描述</h2><p>目前国际计重最基本的单位是克。在古代各个国家的计重单位是不同的。<br>中国使用斤、两、钱来表示重量，其中1斤=10两，1两=10钱<br>中国计重单位与克的关系为：1斤=500克，1两=50克，1钱=5克</p><p>英国使用磅、盎司、打兰来表示重量，其中1磅=16盎司，1盎司=16打兰<br>英国计重单位与克的关系为：1磅=512克，1盎司=32克，1打兰=2克</p><p>以下参考代码包含了抽象类Weight，中国计重和英国计重都继承了抽象类。<br>中国计重类新增了斤、两、钱三个属性，并新增了一个操作：计重转换Convert。<br>Convert能够把输入的克数转成中国计重，例如1234克转成2斤4两6钱4克，并且把数值放入斤、两、钱、克四个属性中<br>英国计重类新增了磅、盎司、打兰三个属性，并新增了两个操作：<br>1、计重转换Convert，功能与上述类似，例如2345克转成4磅9盎司4打兰1克，并且把数值放入对应的四个属性中<br>2、计重等价，重载类型转换运算符，实现将英国计重类的对象转换成中国计重类的对象，例如英国计重类对象en（2磅2盎司11打兰1克）等价于（转换成）中国计重类对象cn（2斤2两2钱1克）。</p><p>程序要求如下<br>1、参考代码框架不能做任何修改，在要求的地方添加代码<br>2、主函数不能有任何修改<br>以上数据纯粹为题目设计，方便计算，实际换算数据是不同的。</p><p>上述所有类属性都不是public，用面向对象思想和C++语言实现上述要求</p><p>----参考代码----</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CN</span>; <span class="comment">//提前声明</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EN</span>; <span class="comment">//提前声明</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 抽象类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Weight</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">char</span> kind[<span class="number">20</span>]; <span class="comment">//计重类型</span></span><br><span class="line"><span class="type">int</span> gram; <span class="comment">// 克</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Weight</span>(<span class="type">const</span> <span class="type">char</span> tk[] = <span class="string">&quot;no name&quot;</span>, <span class="type">int</span> tg = <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">strcpy</span>(kind, tk);</span><br><span class="line">gram = tg;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">print</span><span class="params">(ostream&amp; out)</span> </span>= <span class="number">0</span>; <span class="comment">// 输出不同类型的计重信息</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 中国计重</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CN</span> : <span class="keyword">public</span> Weight</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// ....类定义自行编写</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 英国计重</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EN</span> : <span class="keyword">public</span> Weight</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// ....类定义自行编写</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 以全局函数方式重载输出运算符，代码3-5行....自行编写</span></span><br><span class="line"><span class="comment">// 重载函数包含两个参数：ostream流对象、Weight类对象，参数可以是对象或对象引用</span></span><br><span class="line"><span class="comment">// 重载函数必须调用参数Weight对象的print方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 主函数</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> tw;</span><br><span class="line"><span class="comment">// 创建一个中国计重类对象cn</span></span><br><span class="line"><span class="comment">// 构造参数对应斤、两、钱、克、类型，其中克和类型是对应基类属性gram和kind</span></span><br><span class="line"><span class="function">CN <span class="title">cn</span><span class="params">(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&quot;中国计重&quot;</span>)</span></span>;</span><br><span class="line">cin &gt;&gt; tw;</span><br><span class="line">cn.<span class="built_in">Convert</span>(tw); <span class="comment">// 把输入的克数转成中国计重</span></span><br><span class="line">cout &lt;&lt; cn;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建英国计重类对象en</span></span><br><span class="line"><span class="comment">// 构造参数对应磅、盎司、打兰、克、类型，其中克和类型是对应基类属性gram和kind</span></span><br><span class="line"><span class="function">EN <span class="title">en</span><span class="params">(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&quot;英国计重&quot;</span>)</span></span>;</span><br><span class="line">cin &gt;&gt; tw;</span><br><span class="line">en.<span class="built_in">Convert</span>(tw); <span class="comment">// 把输入的克数转成英国计重</span></span><br><span class="line">cout &lt;&lt; en;</span><br><span class="line">cn = en; <span class="comment">// 把英国计重转成中国计重</span></span><br><span class="line">cout &lt;&lt; cn;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CN</span>; <span class="comment">//提前声明</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EN</span>; <span class="comment">//提前声明</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 抽象类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Weight</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">char</span> kind[<span class="number">20</span>]; <span class="comment">//计重类型</span></span><br><span class="line"><span class="type">int</span> gram; <span class="comment">// 克</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Weight</span>(<span class="type">const</span> <span class="type">char</span> tk[] = <span class="string">&quot;no name&quot;</span>, <span class="type">int</span> tg = <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">strcpy</span>(kind, tk);</span><br><span class="line">gram = tg;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">print</span><span class="params">(ostream&amp; out)</span> </span>= <span class="number">0</span>; <span class="comment">// 输出不同类型的计重信息</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 中国计重</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CN</span> : <span class="keyword">public</span> Weight</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> jin, liang, qian;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">CN</span>(<span class="type">int</span> j,<span class="type">int</span> l,<span class="type">int</span> q,<span class="type">int</span> g,<span class="type">const</span> <span class="type">char</span> *p):<span class="built_in">jin</span>(j),<span class="built_in">liang</span>(l),<span class="built_in">qian</span>(q)</span><br><span class="line">&#123;</span><br><span class="line">gram = g;</span><br><span class="line"><span class="built_in">strcpy</span>(kind, p);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Convert</span><span class="params">(<span class="type">int</span> g)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(ostream&amp; out)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> CN :: <span class="built_in">Convert</span>(<span class="type">int</span> g)</span><br><span class="line">&#123;</span><br><span class="line">jin = g / <span class="number">500</span>;</span><br><span class="line">liang = g % <span class="number">500</span> / <span class="number">50</span>;</span><br><span class="line">qian = g % <span class="number">500</span> % <span class="number">50</span> / <span class="number">5</span>;</span><br><span class="line">gram = g % <span class="number">500</span> % <span class="number">50</span> % <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CN::print</span><span class="params">(ostream&amp; out)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">out &lt;&lt; <span class="string">&quot;中国计重:&quot;</span> &lt;&lt; jin &lt;&lt; <span class="string">&quot;斤&quot;</span> &lt;&lt; liang &lt;&lt; <span class="string">&quot;两&quot;</span> &lt;&lt; qian &lt;&lt; <span class="string">&quot;钱&quot;</span> &lt;&lt; gram &lt;&lt; <span class="string">&quot;克&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 英国计重</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EN</span> : <span class="keyword">public</span> Weight</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> pound, ounce, beaten;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">EN</span>(<span class="type">int</span> p,<span class="type">int</span> o,<span class="type">int</span> b,<span class="type">int</span> g,<span class="type">const</span> <span class="type">char</span> *q):<span class="built_in">pound</span>(p),<span class="built_in">ounce</span>(o),<span class="built_in">beaten</span>(b)</span><br><span class="line">&#123;</span><br><span class="line">gram = g;</span><br><span class="line"><span class="built_in">strcpy</span>(kind, q);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Convert</span><span class="params">(<span class="type">int</span> g)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(ostream&amp; out)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">operator</span> <span class="title">CN</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> g;</span><br><span class="line">g = pound * <span class="number">512</span> + ounce * <span class="number">32</span> + beaten * <span class="number">2</span> + gram;</span><br><span class="line"><span class="function">CN <span class="title">cn</span><span class="params">(g / <span class="number">500</span>, g % <span class="number">500</span> / <span class="number">50</span>, g % <span class="number">500</span> % <span class="number">50</span> / <span class="number">5</span>, g % <span class="number">500</span> % <span class="number">50</span> % <span class="number">5</span>, <span class="string">&quot;中国计重&quot;</span>)</span></span>;</span><br><span class="line"><span class="keyword">return</span> cn;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">EN::Convert</span><span class="params">(<span class="type">int</span> g)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">pound = g / <span class="number">512</span>;</span><br><span class="line">ounce = g % <span class="number">512</span> / <span class="number">32</span>;</span><br><span class="line">beaten = g % <span class="number">512</span> % <span class="number">32</span> / <span class="number">2</span>;</span><br><span class="line">gram = g % <span class="number">512</span> % <span class="number">32</span> % <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">EN::print</span><span class="params">(ostream&amp;out)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">out &lt;&lt; <span class="string">&quot;英国计重:&quot;</span> &lt;&lt; pound &lt;&lt; <span class="string">&quot;磅&quot;</span> &lt;&lt; ounce &lt;&lt; <span class="string">&quot;盎司&quot;</span> &lt;&lt; beaten &lt;&lt; <span class="string">&quot;打兰&quot;</span> &lt;&lt; gram &lt;&lt; <span class="string">&quot;克&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 以全局函数方式重载输出运算符，代码3-5行....自行编写</span></span><br><span class="line"><span class="comment">// 重载函数包含两个参数：ostream流对象、Weight类对象，参数可以是对象或对象引用</span></span><br><span class="line"><span class="comment">// 重载函数必须调用参数Weight对象的print方法</span></span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; out, Weight&amp; w)</span><br><span class="line">&#123;</span><br><span class="line">w.<span class="built_in">print</span>(out);</span><br><span class="line"><span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 主函数</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> tw;</span><br><span class="line"><span class="comment">// 创建一个中国计重类对象cn</span></span><br><span class="line"><span class="comment">// 构造参数对应斤、两、钱、克、类型，其中克和类型是对应基类属性gram和kind</span></span><br><span class="line"><span class="function">CN <span class="title">cn</span><span class="params">(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&quot;中国计重&quot;</span>)</span></span>;</span><br><span class="line">cin &gt;&gt; tw;</span><br><span class="line">cn.<span class="built_in">Convert</span>(tw); <span class="comment">// 把输入的克数转成中国计重</span></span><br><span class="line">cout &lt;&lt; cn;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建英国计重类对象en</span></span><br><span class="line"><span class="comment">// 构造参数对应磅、盎司、打兰、克、类型，其中克和类型是对应基类属性gram和kind</span></span><br><span class="line"><span class="function">EN <span class="title">en</span><span class="params">(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&quot;英国计重&quot;</span>)</span></span>;</span><br><span class="line">cin &gt;&gt; tw;</span><br><span class="line">en.<span class="built_in">Convert</span>(tw); <span class="comment">// 把输入的克数转成英国计重</span></span><br><span class="line">cout &lt;&lt; en;</span><br><span class="line">cn = en; <span class="comment">// 把英国计重转成中国计重</span></span><br><span class="line">cout &lt;&lt; cn;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面向对象程序设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CPP_第14周</title>
      <link href="/posts/3420409433/"/>
      <url>/posts/3420409433/</url>
      
        <content type="html"><![CDATA[<h1 id="a-元素查找-函数模板">A.元素查找（函数模板）</h1><h2 id="题目描述">题目描述</h2><p>编写一个在数组中进行查找的函数模板，其中数组为具有_n_个元素，类型为T，要查找的元素为key。</p><p>注意：必须使用模板函数</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> Type&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">search</span><span class="params">(Type *a,Type key,<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (a[i] == key)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; i + <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; <span class="string">&#x27;0&#x27;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line"><span class="type">char</span> ch;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin &gt;&gt; ch &gt;&gt; n;</span><br><span class="line"><span class="keyword">if</span> (ch == <span class="string">&#x27;I&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span>* a = <span class="keyword">new</span> <span class="type">int</span>[n];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> key;</span><br><span class="line">cin &gt;&gt; key;</span><br><span class="line"><span class="built_in">search</span>(a, key, n);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">&#x27;D&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">double</span>* a = <span class="keyword">new</span> <span class="type">double</span>[n];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">double</span> key;</span><br><span class="line">cin &gt;&gt; key;</span><br><span class="line"><span class="built_in">search</span>(a, key, n);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">&#x27;C&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">char</span>* a = <span class="keyword">new</span> <span class="type">char</span>[n];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">char</span> key;</span><br><span class="line">cin &gt;&gt; key;</span><br><span class="line"><span class="built_in">search</span>(a, key, n);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">&#x27;S&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">string* a = <span class="keyword">new</span> string[n];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line">string key;</span><br><span class="line">cin &gt;&gt; key;</span><br><span class="line"><span class="built_in">search</span>(a, key, n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="b-谁的票数最高-函数模板">B.谁的票数最高（函数模板）</h1><h2 id="题目描述">题目描述</h2><p>某小镇要票选镇长，得票最高者当选。但由于投票机制不健全，导致每届投票时，候选人在投票系统的识别码类型不一致。请编写函数模板，能针对多种类型的数据，查找出得票最高的元素。其中，每届投票的选票有<em>n</em>张，识别码类型为T</p><p><strong>注意：必须使用模板函数</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">Type</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Max</span><span class="params">(Type *a, <span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> i, j;</span><br><span class="line">Type tmp;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n<span class="number">-1</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (j = i + <span class="number">1</span>; j &lt; n; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(a[i]&gt;a[j])</span><br><span class="line">&#123;</span><br><span class="line">tmp = a[i];</span><br><span class="line">a[i] = a[j];</span><br><span class="line">a[j] = tmp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">Type max_person = a[<span class="number">0</span>];</span><br><span class="line">Type person = a[<span class="number">0</span>];</span><br><span class="line"><span class="type">int</span> max = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> num = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (person == a[i + <span class="number">1</span>])</span><br><span class="line">&#123;</span><br><span class="line">num++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (num &gt; max)</span><br><span class="line">&#123;</span><br><span class="line">max = num;</span><br><span class="line">max_person = person;</span><br><span class="line">&#125;</span><br><span class="line">num = <span class="number">1</span>;</span><br><span class="line">person = a[i + <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; max_person &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; max &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">char</span> ch;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin &gt;&gt; ch &gt;&gt; n;</span><br><span class="line"><span class="keyword">if</span> (ch == <span class="string">&#x27;I&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span>* a = <span class="keyword">new</span> <span class="type">int</span>[n<span class="number">+1</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Max</span>(a, n);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">&#x27;C&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">char</span>* a = <span class="keyword">new</span> <span class="type">char</span>[n<span class="number">+1</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Max</span>(a, n);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">&#x27;S&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">string* a = <span class="keyword">new</span> string[n<span class="number">+1</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Max</span>(a, n);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="c-抢票验证码-函数模板">C.抢票验证码（函数模板）</h1><h2 id="题目描述">题目描述</h2><p>对于某抢票系统，存在一个长度为六的验证码，验证码可以为整形，字符型，浮点型，我们认为验证码是有效的当且仅当验证码是非递减序列（递增或者相等）。现请你利用函数模板，完成对验证码的检验</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">Type</span>&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">check</span><span class="params">(Type* a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (a[i] - a[i - <span class="number">1</span>] &lt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Invalid&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Valid&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">char</span> ch;</span><br><span class="line"><span class="keyword">while</span> (cin &gt;&gt; ch)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (ch == <span class="string">&#x27;i&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span>* a = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">6</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">check</span>(a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">&#x27;c&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">char</span>* a = <span class="keyword">new</span> <span class="type">char</span>[<span class="number">6</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">check</span>(a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">&#x27;f&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">double</span>* a = <span class="keyword">new</span> <span class="type">double</span>[<span class="number">6</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">check</span>(a);</span><br><span class="line">&#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="d-矩阵类模板-类模板">D.矩阵类模板（类模板）</h1><h2 id="题目描述">题目描述</h2><p>设计一个矩阵类模板Matrix，支持任意数据类型的数据。</p><p>要求至少包含2个成员函数：矩阵转置函数transport、以及打印输出函数print</p><p>编写main函数进行测试，调用类的成员函数完成转置和输出。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">Type</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Matrix</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> m;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">Type** mat;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Matrix</span>(<span class="type">int</span> _m, <span class="type">int</span> _n, Type** set);</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">transport</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line">~<span class="built_in">Matrix</span>();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">Type</span>&gt;</span><br><span class="line">Matrix&lt;Type&gt;::<span class="built_in">Matrix</span>(<span class="type">int</span> _m, <span class="type">int</span> _n, Type** set) :<span class="built_in">m</span>(_m), <span class="built_in">n</span>(_n)</span><br><span class="line">&#123;</span><br><span class="line">mat = <span class="keyword">new</span> Type * [m];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">&#123;</span><br><span class="line">mat[i] = <span class="keyword">new</span> Type[n];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">&#123;</span><br><span class="line">mat[i][j]=set[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">Type</span>&gt;</span><br><span class="line"><span class="type">void</span> Matrix&lt;Type&gt;::<span class="built_in">transport</span>()</span><br><span class="line">&#123;</span><br><span class="line">Type** middle;</span><br><span class="line"><span class="type">int</span> i, j;</span><br><span class="line">middle = <span class="keyword">new</span> Type * [n];</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">middle[i] = <span class="keyword">new</span> Type[m];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; m; j++)</span><br><span class="line">&#123;</span><br><span class="line">middle[i][j] = mat[j][i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span>[]mat[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span>[]mat;</span><br><span class="line"></span><br><span class="line">mat = <span class="keyword">new</span> Type *[n];</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">mat[i] = <span class="keyword">new</span> Type[m];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; m; j++)</span><br><span class="line">&#123;</span><br><span class="line">mat[i][j] = middle[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> tmp;</span><br><span class="line">tmp = m;</span><br><span class="line">m = n;</span><br><span class="line">n = tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">Type</span>&gt;</span><br><span class="line"><span class="type">void</span> Matrix&lt;Type&gt;::<span class="built_in">print</span>()</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> i, j;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; n - <span class="number">1</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; mat[i][j] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; mat[i][j] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">Type</span>&gt;</span><br><span class="line">Matrix&lt;Type&gt;::~<span class="built_in">Matrix</span>()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span>[]mat[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span>[]mat;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line"><span class="type">int</span> i, j;</span><br><span class="line"><span class="type">char</span> ch;</span><br><span class="line"><span class="type">int</span> m, n;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; ch &gt;&gt; m &gt;&gt; n;</span><br><span class="line"><span class="keyword">if</span> (ch == <span class="string">&#x27;I&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span>** mat = <span class="keyword">new</span> <span class="type">int</span>* [m];</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">&#123;</span><br><span class="line">mat[i] = <span class="keyword">new</span> <span class="type">int</span>[n];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; mat[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Matrix&lt;<span class="type">int</span>&gt; <span class="title">Mat</span><span class="params">(m, n, mat)</span></span>;</span><br><span class="line">Mat.<span class="built_in">transport</span>();</span><br><span class="line">Mat.<span class="built_in">print</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">&#x27;D&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">double</span>** mat = <span class="keyword">new</span> <span class="type">double</span>* [m];</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">&#123;</span><br><span class="line">mat[i] = <span class="keyword">new</span> <span class="type">double</span>[n];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; mat[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Matrix&lt;<span class="type">double</span>&gt; <span class="title">Mat</span><span class="params">(m, n, mat)</span></span>;</span><br><span class="line">Mat.<span class="built_in">transport</span>();</span><br><span class="line">Mat.<span class="built_in">print</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">&#x27;C&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">char</span>** mat = <span class="keyword">new</span> <span class="type">char</span>* [m];</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">&#123;</span><br><span class="line">mat[i] = <span class="keyword">new</span> <span class="type">char</span>[n];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; mat[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Matrix&lt;<span class="type">char</span>&gt; <span class="title">Mat</span><span class="params">(m, n, mat)</span></span>;</span><br><span class="line">Mat.<span class="built_in">transport</span>();</span><br><span class="line">Mat.<span class="built_in">print</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="e-简单类模板-类模板">E.简单类模板(类模板)</h1><h2 id="题目描述">题目描述</h2><p>定义一个列表类，该列表包含属性：数值列表（用长度为100的数组表示），数据长度（实际的数据个数）；包含的方法：初始化、插入、删除、打印，方法定义为：</p><p>1）初始化，接受外来参数，把数据保存在数值列表中，未使用的列表部分全部初始化为-1<br>2）插入，接受外来参数的插入位置和插入数值，插入位置从0开始计算，注意从插入位置开始，原有数据都要往后移动一位，且数据长度+1<br>3）删除，接受外来参数的删除位置，删除位置从0开始计算，注意从删除位置后一位开始，原有数据都要往前移动一位，且数据长度-1<br>4）打印，把包含的数据按位置顺序输出一行，数据之间单个空格隔开</p><p>使用类模板的方法，使得这个类支持整数int类型和浮点数double类型</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">Type</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">List</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">Type list[<span class="number">100</span>];</span><br><span class="line"><span class="type">int</span> num;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">List</span>(<span class="type">int</span> n);</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> a,Type cl)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">back</span><span class="params">(<span class="type">int</span> a)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">int</span> n)</span></span>;</span><br><span class="line">~<span class="built_in">List</span>() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">Type</span>&gt;</span><br><span class="line">List &lt;Type&gt;::<span class="built_in">List</span>(<span class="type">int</span> n): <span class="built_in">num</span>(n)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; num; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; list[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = num; i &lt; <span class="number">100</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">list[i] = <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">Type</span>&gt;</span><br><span class="line"><span class="type">void</span> List&lt;Type&gt;::<span class="built_in">insert</span>(<span class="type">int</span> a,Type n)</span><br><span class="line">&#123;</span><br><span class="line">num++;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = num; i &gt; a; i--)</span><br><span class="line">&#123;</span><br><span class="line">list[i] = list[i - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line">list[a] = n;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">Type</span>&gt;</span><br><span class="line"><span class="type">void</span> List&lt;Type&gt;::<span class="built_in">back</span>(<span class="type">int</span> a)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = a; i &lt; num; i++)</span><br><span class="line">&#123;</span><br><span class="line">list[i] = list[i + <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line">num++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">Type</span>&gt;</span><br><span class="line"><span class="type">void</span> List&lt;Type&gt;::<span class="built_in">print</span>(<span class="type">int</span> n)</span><br><span class="line">&#123;</span><br><span class="line">num = n;</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; num<span class="number">-1</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; list[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; list[i] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> tmp = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (cin &gt;&gt; n)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> start, end;</span><br><span class="line"><span class="keyword">if</span> (tmp == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> sta;</span><br><span class="line">List &lt;<span class="type">int</span>&gt;<span class="built_in">L1</span>(n);</span><br><span class="line">cin &gt;&gt; start &gt;&gt; sta;</span><br><span class="line">L<span class="number">1.</span><span class="built_in">insert</span>(start, sta);</span><br><span class="line">cin &gt;&gt; end;</span><br><span class="line">L<span class="number">1.</span><span class="built_in">back</span>(end);</span><br><span class="line">L<span class="number">1.</span><span class="built_in">print</span>(n);</span><br><span class="line">tmp = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (tmp == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">double</span> sta;</span><br><span class="line">List&lt;<span class="type">double</span>&gt;<span class="built_in">L2</span>(n);</span><br><span class="line">cin &gt;&gt; start &gt;&gt; sta;</span><br><span class="line">L<span class="number">2.</span><span class="built_in">insert</span>(start, sta);</span><br><span class="line">cin &gt;&gt; end;</span><br><span class="line">L<span class="number">2.</span><span class="built_in">back</span>(end);</span><br><span class="line">L<span class="number">2.</span><span class="built_in">print</span>(n);</span><br><span class="line">tmp = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面向对象程序设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CPP_第13周</title>
      <link href="/posts/1443395296/"/>
      <url>/posts/1443395296/</url>
      
        <content type="html"><![CDATA[<h1 id="a-三维坐标点的平移-运算符重载">A.三维坐标点的平移（运算符重载）</h1><h2 id="题目描述">题目描述</h2><p>定义一个三维点Point类，利用友元函数重载&quot;++“和”–&quot;运算符，并区分这两种运算符的前置和后置运算。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">point</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> x;</span><br><span class="line"><span class="type">int</span> y;</span><br><span class="line"><span class="type">int</span> z;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">point</span>(<span class="type">int</span> X=<span class="number">0</span>,<span class="type">int</span> Y=<span class="number">0</span>,<span class="type">int</span> Z=<span class="number">0</span>);</span><br><span class="line">&#123;x=X;y=Y;z=Z;&#125;</span><br><span class="line"><span class="keyword">friend</span> point <span class="keyword">operator</span> ++(point &amp;a);</span><br><span class="line"><span class="keyword">friend</span> point <span class="keyword">operator</span> ++(point &amp;,<span class="type">int</span>);</span><br><span class="line"><span class="keyword">friend</span> point <span class="keyword">operator</span> --(point &amp;);</span><br><span class="line"><span class="keyword">friend</span> point <span class="keyword">operator</span> --(point &amp;,<span class="type">int</span>);</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot;x=&quot;</span>&lt;&lt;x&lt;&lt;<span class="string">&#x27; &#x27;</span>&lt;&lt;<span class="string">&quot;y=&quot;</span>&lt;&lt;y&lt;&lt;<span class="string">&#x27;&#x27;&lt;&lt;&quot;z=&quot;&lt;&lt;z&lt;&lt;endl;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><p>要求如下：<br>1.实现Point类；<br>2.编写main函数，初始化1个Point对象，将这个对象++或–后赋给另外一个对象，并输出计算后对象的坐标信息。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">point</span> </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> x;</span><br><span class="line"><span class="type">int</span> y;</span><br><span class="line"><span class="type">int</span> z;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">point</span>(<span class="type">int</span> X = <span class="number">0</span>, <span class="type">int</span> Y = <span class="number">0</span>, <span class="type">int</span> Z = <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">x = X;</span><br><span class="line">y = Y;</span><br><span class="line">z = Z;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">set</span><span class="params">(<span class="type">int</span> _x, <span class="type">int</span> _y, <span class="type">int</span> _z)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">x = _x;</span><br><span class="line">y = _y;</span><br><span class="line">z = _z;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">friend</span> point <span class="keyword">operator</span>++(point&amp; a)</span><br><span class="line">&#123;</span><br><span class="line">a.x++;</span><br><span class="line">a.y++;</span><br><span class="line">a.z++;</span><br><span class="line"><span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">friend</span> point <span class="keyword">operator</span>++(point&amp; a, <span class="type">int</span> x)</span><br><span class="line">&#123;</span><br><span class="line"><span class="function">point <span class="title">p</span><span class="params">(a)</span></span>;</span><br><span class="line">a.x++;</span><br><span class="line">a.y++;</span><br><span class="line">a.z++;</span><br><span class="line"><span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">friend</span> point <span class="keyword">operator</span>--(point&amp; a)</span><br><span class="line">&#123;</span><br><span class="line">a.x--;</span><br><span class="line">a.y--;</span><br><span class="line">a.z--;</span><br><span class="line"><span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">friend</span> point <span class="keyword">operator</span>--(point&amp; a, <span class="type">int</span> x)</span><br><span class="line">&#123;</span><br><span class="line"><span class="function">point <span class="title">p</span><span class="params">(a)</span></span>;</span><br><span class="line">a.x--;</span><br><span class="line">a.y--;</span><br><span class="line">a.z--;</span><br><span class="line"><span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;x=&quot;</span> &lt;&lt; x &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; <span class="string">&quot;y=&quot;</span> &lt;&lt; y &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; <span class="string">&quot;z=&quot;</span> &lt;&lt; z &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> x, y, z;</span><br><span class="line">cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;</span><br><span class="line"><span class="function">point <span class="title">p1</span><span class="params">(x, y, z)</span></span>;</span><br><span class="line">point p2;</span><br><span class="line">p1++;</span><br><span class="line">p<span class="number">1.</span><span class="built_in">show</span>();</span><br><span class="line">p<span class="number">1.</span><span class="built_in">set</span>(x, y, z);</span><br><span class="line">p2 = p1;</span><br><span class="line">p<span class="number">2.</span><span class="built_in">show</span>();</span><br><span class="line">p<span class="number">1.</span><span class="built_in">set</span>(x, y, z);</span><br><span class="line">(++p1).<span class="built_in">show</span>();</span><br><span class="line">p<span class="number">1.</span><span class="built_in">show</span>();</span><br><span class="line">p<span class="number">1.</span><span class="built_in">set</span>(x, y, z);</span><br><span class="line">p1--;</span><br><span class="line">p<span class="number">1.</span><span class="built_in">show</span>();</span><br><span class="line">p<span class="number">1.</span><span class="built_in">set</span>(x, y, z);</span><br><span class="line">p<span class="number">1.</span><span class="built_in">show</span>();</span><br><span class="line">p<span class="number">1.</span><span class="built_in">set</span>(x, y, z);</span><br><span class="line">(--p1).<span class="built_in">show</span>();</span><br><span class="line">p<span class="number">1.</span><span class="built_in">show</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="b-货币加减-运算符重载">B.货币加减（运算符重载）</h1><h2 id="题目描述">题目描述</h2><p>定义CMoney类，包含元、角、分三个数据成员，<strong>友元函数重载‘+’、’-’，实现货币的加减运算</strong>（假设a-b中a的金额始终大于等于b的金额），<strong>重载输入及输出，实现货币的输入，输出</strong>。<br>读入最初的货币值，对其不断进行加、减操作，输出结果。<br>可根据需要，为CMoney类添加构造函数或其它成员函数。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CMoney</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> yuan;</span><br><span class="line"><span class="type">int</span> corn;</span><br><span class="line"><span class="type">int</span> coin;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">CMoney</span>()&#123;&#125;</span><br><span class="line"><span class="built_in">CMoney</span>(<span class="type">int</span> y,<span class="type">int</span> cr,<span class="type">int</span> ci):<span class="built_in">yuan</span>(y),<span class="built_in">corn</span>(cr),<span class="built_in">coin</span>(ci)&#123;&#125;</span><br><span class="line"><span class="keyword">friend</span> CMoney <span class="keyword">operator</span> +(CMoney&amp; a, CMoney&amp; b)</span><br><span class="line">&#123;</span><br><span class="line">CMoney c;</span><br><span class="line"><span class="type">int</span> c1, c2, sum;</span><br><span class="line">c1 = a.yuan * <span class="number">100</span> + a.corn * <span class="number">10</span> + a.coin;</span><br><span class="line">c2 = b.yuan * <span class="number">100</span> + b.corn * <span class="number">10</span> + b.coin;</span><br><span class="line">sum = c1 + c2;</span><br><span class="line">c.yuan = sum / <span class="number">100</span>;</span><br><span class="line">c.corn = (sum / <span class="number">10</span>) % <span class="number">10</span>;</span><br><span class="line">c.coin = sum % <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line"><span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">friend</span> CMoney <span class="keyword">operator</span>-(CMoney&amp; a, CMoney&amp; b)</span><br><span class="line">&#123;</span><br><span class="line">CMoney c;</span><br><span class="line"><span class="type">int</span> c1, c2, sum;</span><br><span class="line">c1 = a.yuan * <span class="number">100</span> + a.corn * <span class="number">10</span> + a.coin;</span><br><span class="line">c2 = b.yuan * <span class="number">100</span> + b.corn * <span class="number">10</span> + b.coin;</span><br><span class="line">sum = c1 - c2;</span><br><span class="line">c.yuan = sum / <span class="number">100</span>;</span><br><span class="line">c.corn = (sum / <span class="number">10</span>) % <span class="number">10</span>;</span><br><span class="line">c.coin = sum % <span class="number">10</span>;</span><br><span class="line"><span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span> &lt;&lt;(ostream&amp; out, CMoney&amp; a)</span><br><span class="line">&#123;</span><br><span class="line">out &lt;&lt; a.yuan &lt;&lt; <span class="string">&quot;元&quot;</span> &lt;&lt; a.corn &lt;&lt; <span class="string">&quot;角&quot;</span> &lt;&lt; a.coin &lt;&lt; <span class="string">&quot;分&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">friend</span> istream&amp; <span class="keyword">operator</span>&gt;&gt;(istream&amp; input, CMoney&amp; a)</span><br><span class="line">&#123;</span><br><span class="line">input &gt;&gt; a.yuan &gt;&gt; a.corn &gt;&gt; a.coin;</span><br><span class="line"><span class="keyword">return</span> input;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line"><span class="type">int</span> y, j, f;</span><br><span class="line">string a;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; y &gt;&gt; j &gt;&gt; f;</span><br><span class="line"><span class="function">CMoney <span class="title">m1</span><span class="params">(y, j, f)</span></span>;</span><br><span class="line">CMoney m;</span><br><span class="line">cin &gt;&gt; a;</span><br><span class="line"><span class="keyword">while</span>(a!=<span class="string">&quot;stop&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (a == <span class="string">&quot;add&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; y &gt;&gt; j &gt;&gt; f;</span><br><span class="line"><span class="function">CMoney <span class="title">m2</span><span class="params">(y, j, f)</span></span>;</span><br><span class="line">m = m1 + m2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (a == <span class="string">&quot;minus&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; y &gt;&gt; j &gt;&gt; f;</span><br><span class="line"><span class="function">CMoney <span class="title">m2</span><span class="params">(y, j, f)</span></span>;</span><br><span class="line">m = m1 - m2;</span><br><span class="line">&#125;</span><br><span class="line">m1 = m;</span><br><span class="line">cin &gt;&gt; a;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; m;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="c-时钟调整-运算符前后增量">C.时钟调整（运算符前后增量）</h1><h2 id="题目描述">题目描述</h2><p>假定一个时钟包含时、分、秒三个属性，取值范围分别为0~11，0~59，0~59，具体要求如下：<br>1、用一元运算符++，并且是前增量的方法，实现时钟的调快操作。例如要把时钟调快5秒，则执行5次”  ++&lt;对象&gt; “ 的操作<br>2、用一元运算符–，并且是后增量的方法，实现时钟的调慢操作。例如要把时钟调慢10秒，则执行10次” &lt;对象&gt;-- “的操作<br>3、用构造函数的方法实现时钟对象的初始化，用输出函数实现时钟信息的输出<br>clock和time是系统内部函数，所以不要用来做类名或者其他</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CClock</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> hour;</span><br><span class="line"><span class="type">int</span> minute;</span><br><span class="line"><span class="type">int</span> second;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">CClock</span>(<span class="type">int</span> h, <span class="type">int</span> m, <span class="type">int</span> s) :<span class="built_in">hour</span>(h), <span class="built_in">minute</span>(m), <span class="built_in">second</span>(s) &#123;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; hour &lt;&lt; <span class="string">&quot;:&quot;</span> &lt;&lt; minute &lt;&lt; <span class="string">&quot;:&quot;</span> &lt;&lt; second &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"> CClock <span class="keyword">operator</span>++()</span><br><span class="line">&#123;</span><br><span class="line">second++;</span><br><span class="line"><span class="keyword">if</span> (second &gt; <span class="number">59</span>)</span><br><span class="line">&#123;</span><br><span class="line">     second = <span class="number">0</span>;</span><br><span class="line">minute++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (minute &gt; <span class="number">59</span>)</span><br><span class="line">&#123;</span><br><span class="line">minute = <span class="number">0</span>;</span><br><span class="line">hour++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (hour &gt; <span class="number">11</span>)</span><br><span class="line">&#123;</span><br><span class="line">hour = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"> CClock <span class="keyword">operator</span>--(<span class="type">int</span>)</span><br><span class="line">&#123;</span><br><span class="line"> <span class="function">CClock <span class="title">temp</span><span class="params">(*<span class="keyword">this</span>)</span></span>;</span><br><span class="line">second--;</span><br><span class="line"><span class="keyword">if</span> (second &lt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">second = <span class="number">59</span>;</span><br><span class="line">minute--;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (minute &lt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">minute = <span class="number">59</span>;</span><br><span class="line">hour--;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (hour &lt; <span class="number">0</span>)</span><br><span class="line">hour = <span class="number">11</span>;</span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> hour, minute, second;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; hour &gt;&gt; minute &gt;&gt; second;</span><br><span class="line"><span class="function">CClock <span class="title">c</span><span class="params">(hour, minute, second)</span></span>;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> tmp;</span><br><span class="line">cin &gt;&gt; tmp;</span><br><span class="line"><span class="type">int</span> num = <span class="built_in">abs</span>(tmp);</span><br><span class="line"><span class="keyword">while</span> (num--)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (tmp &gt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">++c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">c--;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">c.<span class="built_in">show</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="d-x的放大与缩小-运算符重载">D.X的放大与缩小（运算符重载）</h1><h2 id="题目描述">题目描述</h2><p>X字母可以放大和缩小，变为n行X（n=1,3,5,7,9,…,21）。例如，3行x图案如下：<br><img src="https://raw.githubusercontent.com/crayz-l/Learning_picgo/main/img/CPP_week13_1" alt="image.png"></p><p>现假设一个n行（n&gt;0，奇数）X图案，遥控器可以控制X图案的放大与缩小。遥控器有5个按键，1）show，显示当前X图案；2）show++, 显示当前X图案，再放大图案，n+2；3）++show，先放大图案，n+2，再显示图案；4）show–，显示当前X图案，再缩小图案，n-2；5）–show，先缩小图案，n-2，再显示图案。假设X图案的放大和缩小在1-21之间。n=1时，缩小不起作用，n=21时，放大不起作用。</p><p>用类CXGraph表示X图案及其放大、缩小、显示。主函数模拟遥控器，代码如下，不可修改。请补充CXGraph类的定义和实现。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t, n;</span><br><span class="line">    string command;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="function">CXGraph <span class="title">xGraph</span><span class="params">(n)</span></span>;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; command;</span><br><span class="line">        <span class="keyword">if</span> (command == <span class="string">&quot;show++&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; xGraph++ &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(command == <span class="string">&quot;++show&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; ++xGraph &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (command == <span class="string">&quot;show--&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; xGraph-- &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (command == <span class="string">&quot;--show&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; --xGraph &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (command == <span class="string">&quot;show&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; xGraph &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CXGraph</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">CXGraph</span>(<span class="type">int</span> _n):<span class="built_in">n</span>(_n)&#123;&#125;</span><br><span class="line"><span class="keyword">friend</span> CXGraph <span class="keyword">operator</span> ++(CXGraph&amp; a)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(a.n!=<span class="number">21</span>)</span><br><span class="line">&#123;</span><br><span class="line">a.n+=<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">friend</span> CXGraph <span class="keyword">operator</span> ++(CXGraph&amp; a, <span class="type">int</span>)</span><br><span class="line">&#123;</span><br><span class="line">CXGraph b=a;</span><br><span class="line"><span class="keyword">if</span> (a.n != <span class="number">21</span>)</span><br><span class="line">&#123;</span><br><span class="line">a.n+=<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">friend</span> CXGraph <span class="keyword">operator</span> --(CXGraph&amp; a)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (a.n != <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">a.n-=<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">friend</span> CXGraph <span class="keyword">operator</span> --(CXGraph&amp; a, <span class="type">int</span>)</span><br><span class="line">&#123;</span><br><span class="line">CXGraph b = a;</span><br><span class="line"><span class="keyword">if</span> (a.n != <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">a.n-=<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; out, CXGraph <span class="type">const</span>&amp; a)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> i, j, k;</span><br><span class="line">k = a.n;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;(a.n<span class="number">+1</span>)/<span class="number">2</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; (a.n - k) / <span class="number">2</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line">out &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (j = k; j &gt; <span class="number">0</span>; j--)</span><br><span class="line">&#123;</span><br><span class="line">out &lt;&lt; <span class="string">&quot;X&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">out &lt;&lt; endl;</span><br><span class="line">k -= <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">k = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">for</span> (i = (a.n + <span class="number">1</span>) / <span class="number">2</span>; i &lt; a.n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (j = (a.n - k) / <span class="number">2</span>; j &gt; <span class="number">0</span>; j--)</span><br><span class="line">&#123;</span><br><span class="line">out &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; k; j++)</span><br><span class="line">&#123;</span><br><span class="line">out &lt;&lt; <span class="string">&quot;X&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">out &lt;&lt; endl;</span><br><span class="line">k += <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t, n;</span><br><span class="line">string command;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="function">CXGraph <span class="title">xGraph</span><span class="params">(n)</span></span>;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; command;</span><br><span class="line"><span class="keyword">if</span> (command == <span class="string">&quot;show++&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; xGraph++ &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (command == <span class="string">&quot;++show&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; ++xGraph &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (command == <span class="string">&quot;show--&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; xGraph-- &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (command == <span class="string">&quot;--show&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; --xGraph &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (command == <span class="string">&quot;show&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; xGraph &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="e-矩形关系-运算符重载">E.矩形关系（运算符重载）</h1><h2 id="题目描述">题目描述</h2><p>假设坐标采用二维平面坐标。</p><p>定义点类CPoint，包含属性x,y（整型）。方法有：带参构造函数，getX，getY分别返回点的x坐标，y坐标。<br>定义矩形类CRectangle，包含属性：矩形的左上角坐标leftPoint，右下角坐标rightPoint。类中方法有：<br>1）带参构造函数，初始化矩形的左上角、右下角<br>2）重载&gt;运算符，参数为CPoint点对象，假设为p，若p在矩形内，返回true,否则返回false。<br>3）重载&gt;运算符，第一个矩形若包含第二个矩形（部分边界可以相等），返回true，否则返回false。（要求该函数调用2）实现）<br>4）重载==运算符，判断两个矩形是否一致，返回true或false。<br>5）重载*运算符，判断两个矩形是否有重叠部分，返回true或false。<br>6）重载类型转换运算符，计算矩形的面积并返回，面积是整型。<br>7）重载&lt;&lt;运算符，输出矩形的两个角坐标，具体格式见样例。<br>输入2个矩形，计算面积，判断矩形的关系。主函数如下，不可修改。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t, x1, x2, y1, y2;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 矩形1的左上角、右下角</span></span><br><span class="line">        cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;</span><br><span class="line">        <span class="function">CRectangle <span class="title">rect1</span><span class="params">(x1, y1, x2, y2)</span></span>;</span><br><span class="line">        <span class="comment">// 矩形2的左上角、右下角</span></span><br><span class="line">        cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;</span><br><span class="line">        <span class="function">CRectangle <span class="title">rect2</span><span class="params">(x1, y1, x2, y2)</span></span>;</span><br><span class="line">        <span class="comment">// 输出矩形1的坐标及面积</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;矩形1:&quot;</span> &lt;&lt; rect1 &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; (<span class="type">int</span>)rect1 &lt;&lt; endl;</span><br><span class="line">        <span class="comment">// 输出矩形2的坐标及面积</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;矩形2:&quot;</span> &lt;&lt; rect2 &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; (<span class="type">int</span>)rect2 &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">if</span> (rect1 == rect2)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;矩形1和矩形2相等&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (rect2 &gt; rect1)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;矩形2包含矩形1&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (rect1 &gt; rect2)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;矩形1包含矩形2&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (rect1 * rect2)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;矩形1和矩形2相交&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;矩形1和矩形2不相交&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>可根据需要，添加构造函数和析构函数。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CPoint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> x;</span><br><span class="line"><span class="type">int</span> y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">CPoint</span>() &#123;&#125;</span><br><span class="line"><span class="built_in">CPoint</span>(<span class="type">int</span> _x, <span class="type">int</span> _y) :<span class="built_in">x</span>(_x), <span class="built_in">y</span>(_y) &#123;&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getX</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getY</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> y;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CRectangele</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">CPoint leftPoint;</span><br><span class="line">CPoint rightPoint;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">CRectangele</span>() &#123;&#125;</span><br><span class="line"><span class="built_in">CRectangele</span>(<span class="type">int</span> x1, <span class="type">int</span> y1, <span class="type">int</span> x2, <span class="type">int</span> y2) :<span class="built_in">leftPoint</span>(x1, y1), <span class="built_in">rightPoint</span>(x2, y2) &#123;&#125;</span><br><span class="line"><span class="keyword">friend</span>  ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; out, CRectangele&amp; a)</span><br><span class="line">&#123;</span><br><span class="line">out &lt;&lt; a.leftPoint.<span class="built_in">getX</span>() &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; a.leftPoint.<span class="built_in">getY</span>() &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; a.rightPoint.<span class="built_in">getX</span>() &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; a.rightPoint.<span class="built_in">getY</span>();</span><br><span class="line"><span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">bool</span>  <span class="keyword">operator</span>&gt;(CPoint&amp; p)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (p.<span class="built_in">getX</span>() &gt;= leftPoint.<span class="built_in">getX</span>() &amp;&amp; p.<span class="built_in">getX</span>() &lt;= rightPoint.<span class="built_in">getX</span>() &amp;&amp; p.<span class="built_in">getY</span>() &gt;= rightPoint.<span class="built_in">getY</span>() &amp;&amp; p.<span class="built_in">getY</span>() &lt;= leftPoint.<span class="built_in">getY</span>())</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>&gt;(CRectangele&amp; r)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (r.leftPoint.<span class="built_in">getX</span>() &gt;= leftPoint.<span class="built_in">getX</span>() &amp;&amp; r.leftPoint.<span class="built_in">getX</span>() &lt;= rightPoint.<span class="built_in">getX</span>() &amp;&amp; r.leftPoint.<span class="built_in">getY</span>() &gt;= rightPoint.<span class="built_in">getY</span>() &amp;&amp; r.leftPoint.<span class="built_in">getY</span>() &lt;= leftPoint.<span class="built_in">getY</span>() &amp;&amp; r.rightPoint.<span class="built_in">getX</span>() &gt;= leftPoint.<span class="built_in">getX</span>() &amp;&amp; r.rightPoint.<span class="built_in">getX</span>() &lt;= rightPoint.<span class="built_in">getX</span>() &amp;&amp; r.rightPoint.<span class="built_in">getY</span>() &gt;= rightPoint.<span class="built_in">getY</span>() &amp;&amp; r.rightPoint.<span class="built_in">getY</span>() &lt;= leftPoint.<span class="built_in">getY</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>==(CRectangele&amp; r)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (leftPoint.<span class="built_in">getX</span>() == r.leftPoint.<span class="built_in">getX</span>() &amp;&amp; leftPoint.<span class="built_in">getY</span>() == r.leftPoint.<span class="built_in">getY</span>() &amp;&amp; rightPoint.<span class="built_in">getX</span>() == r.rightPoint.<span class="built_in">getX</span>() &amp;&amp; rightPoint.<span class="built_in">getY</span>() == r.rightPoint.<span class="built_in">getY</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>*(CRectangele&amp; r)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">abs</span>(((leftPoint.<span class="built_in">getX</span>() + rightPoint.<span class="built_in">getX</span>()) / <span class="number">2</span>) - ((r.leftPoint.<span class="built_in">getX</span>() + r.rightPoint.<span class="built_in">getX</span>()) / <span class="number">2</span>)) &lt;= (((rightPoint.<span class="built_in">getX</span>() - leftPoint.<span class="built_in">getX</span>()) + (r.rightPoint.<span class="built_in">getX</span>() - r.leftPoint.<span class="built_in">getX</span>())) / <span class="number">2</span>) &amp;&amp;</span><br><span class="line"><span class="built_in">abs</span>(((leftPoint.<span class="built_in">getY</span>() + rightPoint.<span class="built_in">getY</span>()) / <span class="number">2</span>) - ((r.leftPoint.<span class="built_in">getY</span>() + r.rightPoint.<span class="built_in">getY</span>()) / <span class="number">2</span>)) &lt;= (((leftPoint.<span class="built_in">getY</span>() - rightPoint.<span class="built_in">getY</span>()) + (r.leftPoint.<span class="built_in">getY</span>() - r.rightPoint.<span class="built_in">getY</span>())) / <span class="number">2</span>))</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">operator</span> <span class="title">int</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> sum;</span><br><span class="line">sum = (rightPoint.<span class="built_in">getX</span>() - leftPoint.<span class="built_in">getX</span>()) * (leftPoint.<span class="built_in">getY</span>() - rightPoint.<span class="built_in">getY</span>());</span><br><span class="line"><span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t, x1, x2, y1, y2;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;</span><br><span class="line"><span class="function">CRectangele <span class="title">rect1</span><span class="params">(x1, y1, x2, y2)</span></span>;</span><br><span class="line">cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;</span><br><span class="line"><span class="function">CRectangele <span class="title">rect2</span><span class="params">(x1, y1, x2, y2)</span></span>;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;矩形1:&quot;</span> &lt;&lt; rect1 &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; (<span class="type">int</span>)rect1 &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;矩形2:&quot;</span> &lt;&lt; rect2 &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; (<span class="type">int</span>)rect2 &lt;&lt; endl;</span><br><span class="line"><span class="keyword">if</span> (rect1 == rect2)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;矩形1和矩形2相等&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (rect2 &gt; rect1)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;矩形2包含矩形1&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (rect1 &gt; rect2)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;矩形1包含矩形2&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (rect1 * rect2)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;矩形1和矩形2相交&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;矩形1和矩形2不相交&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面向对象程序设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CPP_第12周</title>
      <link href="/posts/4004778373/"/>
      <url>/posts/4004778373/</url>
      
        <content type="html"><![CDATA[<h1 id="a-分数的加减乘除-运算符重载">A.分数的加减乘除（运算符重载）</h1><h2 id="题目描述">题目描述</h2><p>Fraction类的基本形式如下：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义Fraction类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Fraction</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> fz, fm;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">commonDivisor</span><span class="params">()</span></span>; <span class="comment">// 计算最大公约数</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">contracted</span><span class="params">()</span></span>; <span class="comment">// 分数化简</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Fraction</span>(<span class="type">int</span> = <span class="number">0</span>, <span class="type">int</span> = <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">Fraction</span>(Fraction&amp;);</span><br><span class="line">    Fraction <span class="keyword">operator</span>+(Fraction);</span><br><span class="line">    Fraction <span class="keyword">operator</span>-(Fraction);</span><br><span class="line">    Fraction <span class="keyword">operator</span>*(Fraction);</span><br><span class="line">    Fraction <span class="keyword">operator</span>/(Fraction);</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">set</span><span class="params">(<span class="type">int</span> = <span class="number">0</span>, <span class="type">int</span> = <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>要求如下：</p><p>1.实现Fraction类；common_divisor()和contracted()函数体可为空，不实现具体功能。<br>2.编写main函数，初始化两个Fraction对象的，计算它们之间的加减乘除。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Fraction</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> fz, fm;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">commonDivisor</span><span class="params">()</span> </span>&#123;&#125;;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">contracted</span><span class="params">()</span> </span>&#123;&#125;;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Fraction</span>(<span class="type">int</span> a = <span class="number">0</span>, <span class="type">int</span> b = <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        fz = a;</span><br><span class="line">        fm = b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Fraction</span>(Fraction&amp; a)</span><br><span class="line">    &#123;</span><br><span class="line">        fz = a.fz;</span><br><span class="line">        fm = a.fm;</span><br><span class="line">    &#125;</span><br><span class="line">    Fraction <span class="keyword">operator</span>+(Fraction&amp; a)</span><br><span class="line">    &#123;</span><br><span class="line">        Fraction A;</span><br><span class="line">        A.fz = fz * a.fm + a.fz * fm;</span><br><span class="line">        A.fm = fm * a.fm;</span><br><span class="line">        <span class="keyword">return</span> A;</span><br><span class="line">    &#125;</span><br><span class="line">    Fraction <span class="keyword">operator</span>-(Fraction&amp; a)</span><br><span class="line">    &#123;</span><br><span class="line">        Fraction A;</span><br><span class="line">        A.fz = fz * a.fm - a.fz * fm;</span><br><span class="line">        A.fm = fm * a.fm;</span><br><span class="line">        <span class="keyword">return</span> A;</span><br><span class="line">    &#125;</span><br><span class="line">    Fraction <span class="keyword">operator</span>*(Fraction&amp; a)</span><br><span class="line">    &#123;</span><br><span class="line">        Fraction A;</span><br><span class="line">        A.fz = fz * a.fz;</span><br><span class="line">        A.fm = fm * a.fm;</span><br><span class="line">        <span class="keyword">return</span> A;</span><br><span class="line">    &#125;</span><br><span class="line">    Fraction <span class="keyword">operator</span>/(Fraction&amp; a)</span><br><span class="line">    &#123;</span><br><span class="line">        Fraction A;</span><br><span class="line">        A.fz = fz * a.fm;</span><br><span class="line">        A.fm = fm * a.fz;</span><br><span class="line">        <span class="keyword">return</span> A;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">set</span><span class="params">(<span class="type">int</span> a = <span class="number">0</span>, <span class="type">int</span> b = <span class="number">1</span>)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        fz = a;</span><br><span class="line">        fm = b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;fraction=&quot;</span> &lt;&lt; fz &lt;&lt; <span class="string">&quot;/&quot;</span> &lt;&lt; fm &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a, b;</span><br><span class="line">    cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">    <span class="function">Fraction <span class="title">x</span><span class="params">(a, b)</span></span>;</span><br><span class="line">    cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">    <span class="function">Fraction <span class="title">y</span><span class="params">(a, b)</span></span>;</span><br><span class="line">    Fraction z;</span><br><span class="line">    z = x + y;</span><br><span class="line">    z.<span class="built_in">display</span>();</span><br><span class="line">    z = x - y;</span><br><span class="line">    z.<span class="built_in">display</span>();</span><br><span class="line">    z = x * y;</span><br><span class="line">    z.<span class="built_in">display</span>();</span><br><span class="line">    z = x / y;</span><br><span class="line">    z.<span class="built_in">display</span>();</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="b-复数的加减乘运算-运算符重载">B.复数的加减乘运算（运算符重载）</h1><h2 id="题目描述">题目描述</h2><p>定义一个复数类，通过重载运算符：+、-、*，实现两个复数之间的各种运算。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Complex</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">float</span> real, image;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Complex</span>(<span class="type">float</span> x = <span class="number">0</span>, <span class="type">float</span> y = <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">friend</span> Complex <span class="keyword">operator</span>+(Complex&amp;, Complex&amp;);</span><br><span class="line">    <span class="keyword">friend</span> Complex <span class="keyword">operator</span>-(Complex&amp;, Complex&amp;);</span><br><span class="line">    <span class="keyword">friend</span> Complex <span class="keyword">operator</span>*(Complex&amp;, Complex&amp;);</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>要求如下：</p><p>1.实现Complex类；<br>2.编写main函数，初始化两个Complex对象，计算它们之间的加减乘，并输出结果。<br>复数相乘的运算规则<br>设z1=a+bi，z2=c+di(a、b、c、d∈R)是任意两个复数，那么它们的积(a+bi)(c+di)=(ac-bd)+(bc+ad)i.</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Complex</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">float</span> real, image;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Complex</span>()&#123;&#125;</span><br><span class="line"><span class="built_in">Complex</span>(<span class="type">float</span> x , <span class="type">float</span> y)</span><br><span class="line">&#123;</span><br><span class="line">real = x;</span><br><span class="line">image = y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">friend</span> Complex <span class="keyword">operator</span>+(Complex&amp; a, Complex&amp; b)</span><br><span class="line">&#123;</span><br><span class="line">Complex c;</span><br><span class="line">c.real = a.real + b.real;</span><br><span class="line">c.image = a.image + b.image;</span><br><span class="line"><span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">friend</span> Complex <span class="keyword">operator</span>-(Complex&amp; a, Complex&amp; b)</span><br><span class="line">&#123;</span><br><span class="line">Complex c;</span><br><span class="line">c.real = a.real - b.real;</span><br><span class="line">c.image = a.image - b.image;</span><br><span class="line"><span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">friend</span> Complex <span class="keyword">operator</span>*(Complex&amp; a, Complex&amp; b)</span><br><span class="line">&#123;</span><br><span class="line">Complex c;</span><br><span class="line">c.real = a.real * b.real - a.image * b.image;</span><br><span class="line">c.image = a.image * b.real + a.real * b.image;</span><br><span class="line"><span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Real=&quot;</span> &lt;&lt; real &lt;&lt; <span class="string">&quot; Image=&quot;</span> &lt;&lt; image &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> a, b, c, d;</span><br><span class="line">cin &gt;&gt; a &gt;&gt; b &gt;&gt; c &gt;&gt; d;</span><br><span class="line"><span class="function">Complex <span class="title">c1</span><span class="params">(a, b)</span></span>;</span><br><span class="line"><span class="function">Complex <span class="title">c2</span><span class="params">(c, d)</span></span>;</span><br><span class="line">Complex c3;</span><br><span class="line">c3 = c1 + c2;</span><br><span class="line">c<span class="number">3.</span><span class="built_in">show</span>();</span><br><span class="line">c3 = c1 - c2;</span><br><span class="line">c<span class="number">3.</span><span class="built_in">show</span>();</span><br><span class="line">c3 = c1 * c2;</span><br><span class="line">c<span class="number">3.</span><span class="built_in">show</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="c-向量的加减-运算符重载">C.向量的加减（运算符重载）</h1><h2 id="题目描述">题目描述</h2><p>设向量X=(x1,x2,…,xn)和Y=(y1,y2…,yn),它们之间的加、减分别定义为：</p><p>X+Y=(x1+y1,x2+y2,…,xn+yn)<br>  X-Y=(x1-y1,x2-y2,…,xn-yn)</p><p>编程序定义向量类Vector ,重载运算符“+”、“-”,实现向量之间的加、减运算;并编写print函数作为向量的输出操作。</p><p>Vector类的基本形式如下：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Vector</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> vec[<span class="number">5</span>];</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Vector</span>(<span class="type">int</span> v[]);</span><br><span class="line">    <span class="built_in">Vector</span>();</span><br><span class="line">    <span class="built_in">Vector</span>(<span class="type">const</span> Vector&amp; obj);</span><br><span class="line">    Vector <span class="keyword">operator</span> +(<span class="type">const</span> Vector&amp; obj);</span><br><span class="line">    Vector <span class="keyword">operator</span> -(<span class="type">const</span> Vector&amp; obj);</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>要求如下：<br>1.实现Vector类；<br>2.编写main函数，初始化两个Vector对象的，计算它们之间的加减，并输出结果。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vector</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> vec[<span class="number">5</span>];</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Vector</span>(<span class="type">int</span> v[<span class="number">5</span>])</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">vec[i] = v[i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Vector</span>()&#123;&#125;</span><br><span class="line"><span class="built_in">Vector</span>(<span class="type">const</span> Vector&amp; obj)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">vec[i] = obj.vec[i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">Vector <span class="keyword">operator</span>+(<span class="type">const</span> Vector&amp; obj)</span><br><span class="line">&#123;</span><br><span class="line">Vector tmp;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">tmp.vec[i] = vec[i] + obj.vec[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line">Vector <span class="keyword">operator</span>-(<span class="type">const</span> Vector&amp; obj)</span><br><span class="line">&#123;</span><br><span class="line">Vector tmp;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">tmp.vec[i] = vec[i] - obj.vec[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; vec[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> x[<span class="number">5</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; x[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Vector <span class="title">a</span><span class="params">(x)</span></span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; x[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Vector <span class="title">b</span><span class="params">(x)</span></span>;</span><br><span class="line">Vector c;</span><br><span class="line">c = a + b;</span><br><span class="line">c.<span class="built_in">print</span>();</span><br><span class="line">c = a - b;</span><br><span class="line">c.<span class="built_in">print</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="d-矩阵相乘-运算符重载">D.矩阵相乘（运算符重载）</h1><h2 id="题目描述">题目描述</h2><p>定义一个矩阵类MyMatrix，并且在类中进行运算符重定义，用*实现矩阵相乘。要求必须对运算符进行重载，如果用函数如multiply（matrix，matrix）去实现矩阵之间的运算一律记0分。</p><p>必须包含以下析构函数，其中n是矩阵的阶数，data是存放矩阵数据的二维动态数组：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MyMatrix::~<span class="built_in">MyMatrix</span>() </span><br><span class="line">&#123; <span class="comment">// 释放空间 </span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) </span><br><span class="line">&#123; </span><br><span class="line"><span class="keyword">delete</span>[] data[i]; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">delete</span>[] data; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyMatrix</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> a[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">MyMatrix</span>(<span class="type">int</span> _n):<span class="built_in">n</span>(_n)&#123;&#125;</span><br><span class="line"><span class="keyword">friend</span> MyMatrix <span class="keyword">operator</span>*(MyMatrix&amp; m1, MyMatrix&amp; m2)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> n = m<span class="number">1.</span>n;</span><br><span class="line"><span class="function">MyMatrix <span class="title">x</span><span class="params">(n)</span></span>;</span><br><span class="line"><span class="type">int</span> sum;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">&#123;</span><br><span class="line">sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; n; k++)</span><br><span class="line">&#123;</span><br><span class="line">sum += m<span class="number">1.</span>a[i][k] * m<span class="number">2.</span>a[k][j];</span><br><span class="line">&#125;</span><br><span class="line">x.a[i][j] = sum;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">set</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; a[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (j != n - <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; a[i][j] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; a[i][j] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> c, n;</span><br><span class="line">cin &gt;&gt; c &gt;&gt; n;</span><br><span class="line"><span class="function">MyMatrix <span class="title">m1</span><span class="params">(n)</span></span>;</span><br><span class="line">m<span class="number">1.</span><span class="built_in">set</span>();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; c - <span class="number">1</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="function">MyMatrix <span class="title">m2</span><span class="params">(n)</span></span>;</span><br><span class="line">m<span class="number">2.</span><span class="built_in">set</span>();</span><br><span class="line">m1 = m1 * m2;</span><br><span class="line">&#125;</span><br><span class="line">m<span class="number">1.</span><span class="built_in">show</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="e-最小生日差值计算-运算符重载">E.最小生日差值计算（运算符重载）</h1><h2 id="题目描述">题目描述</h2><p>定义一个学生类Student，包含该学生的姓名、出生年、月、日 ，重定义 “-”号实现两个学生之间相差多少天的比较。并利用重载的“-”运算符，求所有学生中年龄相差最小的两个人的名字以及相差天数。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">string name;</span><br><span class="line"><span class="type">int</span> year;</span><br><span class="line"><span class="type">int</span> month;</span><br><span class="line"><span class="type">int</span> day;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Student</span>()&#123;&#125;</span><br><span class="line"><span class="built_in">Student</span>(string n,<span class="type">int</span> y,<span class="type">int</span> m,<span class="type">int</span> d):<span class="built_in">name</span>(n),<span class="built_in">year</span>(y),<span class="built_in">month</span>(m),<span class="built_in">day</span>(d)&#123;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">set</span><span class="params">(string n, <span class="type">int</span> y, <span class="type">int</span> m, <span class="type">int</span> d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">year = y;</span><br><span class="line">month = m;</span><br><span class="line">day = d;</span><br><span class="line">name = n;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">string <span class="title">getname</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="keyword">operator</span>-(Student&amp; s)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> tmp = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> emp = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> m[<span class="number">12</span>] = &#123; <span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span> &#125;;</span><br><span class="line"><span class="type">int</span> n[<span class="number">12</span>] = &#123; <span class="number">31</span>,<span class="number">29</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span> &#125;;</span><br><span class="line"><span class="keyword">if</span> ((year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span>) || (year % <span class="number">400</span> == <span class="number">0</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; month - <span class="number">1</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">tmp += n[i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; month - <span class="number">1</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">tmp += m[i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> ((s.year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; s.year % <span class="number">100</span> != <span class="number">0</span>) || (s.year % <span class="number">400</span> == <span class="number">0</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.month - <span class="number">1</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">emp += n[i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.month - <span class="number">1</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">emp += m[i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">tmp += day;</span><br><span class="line">emp += s.day;</span><br><span class="line"><span class="keyword">if</span> (year == s.year)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (tmp - emp &lt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> emp - tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> tmp - emp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (year &gt; s.year)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> max = year;</span><br><span class="line"><span class="type">int</span> min = s.year;</span><br><span class="line"><span class="keyword">while</span> (max - min)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> ((min % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; min % <span class="number">100</span> != <span class="number">0</span>) || (min % <span class="number">400</span> == <span class="number">0</span>))</span><br><span class="line">&#123;</span><br><span class="line">tmp += <span class="number">366</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">tmp += <span class="number">365</span>;</span><br><span class="line">&#125;</span><br><span class="line">min++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> tmp - emp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> min = year;</span><br><span class="line"><span class="type">int</span> max = s.year;</span><br><span class="line"><span class="keyword">while</span> (max - min)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> ((min % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; min % <span class="number">100</span> != <span class="number">0</span>) || (min % <span class="number">400</span> == <span class="number">0</span>))</span><br><span class="line">&#123;</span><br><span class="line">emp += <span class="number">366</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">emp += <span class="number">365</span>;</span><br><span class="line">&#125;</span><br><span class="line">min++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> emp - tmp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t, d;</span><br><span class="line"><span class="type">int</span> min = <span class="number">10000</span>;</span><br><span class="line"><span class="type">int</span> s1 = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> s2 = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> year, month, day;</span><br><span class="line">string name;</span><br><span class="line">Student* s;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line">s = <span class="keyword">new</span> Student[t];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; t; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; name &gt;&gt; year &gt;&gt; month &gt;&gt; day;</span><br><span class="line">s[i].<span class="built_in">set</span>(name, year, month, day);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; t - <span class="number">1</span>; i ++ )</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; t; j++)</span><br><span class="line">&#123;</span><br><span class="line">d = s[j] - s[i];</span><br><span class="line"><span class="keyword">if</span> (d &lt; min &amp;&amp; s[i].<span class="built_in">getname</span>() != s[j].<span class="built_in">getname</span>())</span><br><span class="line">&#123;</span><br><span class="line">min = d;</span><br><span class="line">s1 = i;</span><br><span class="line">s2 = j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; s[s1].<span class="built_in">getname</span>() &lt;&lt; <span class="string">&quot;和&quot;</span> &lt;&lt; s[s2].<span class="built_in">getname</span>() &lt;&lt; <span class="string">&quot;年龄相差最小，为&quot;</span> &lt;&lt; min &lt;&lt; <span class="string">&quot;天。&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面向对象程序设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CPP_第11周</title>
      <link href="/posts/4227972715/"/>
      <url>/posts/4227972715/</url>
      
        <content type="html"><![CDATA[<h1 id="a-在职研究生-多重继承">A.在职研究生（多重继承）</h1><h2 id="题目描述">题目描述</h2><p>1、建立如下的类继承结构：</p><p>1)  定义一个人员类CPeople，其属性（保护类型）有：姓名、性别、年龄；</p><p>2)  从CPeople类派生出学生类CStudent，添加属性：学号和入学成绩；</p><p>3)  从CPeople类再派生出教师类CTeacher，添加属性：职务、部门；</p><p>4)   从CStudent和CTeacher类共同派生出在职研究生类CGradOnWork，添加属性：研究方向、导师；</p><p>2、分别定义以上类的构造函数、输出函数print及其他函数（如需要）。</p><p>3、在主函数中定义各种类的对象，并测试之。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CPeople</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">string name;</span><br><span class="line"><span class="type">char</span> sex;</span><br><span class="line"><span class="type">int</span> age;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">CPeople</span>()&#123;&#125;</span><br><span class="line"><span class="built_in">CPeople</span>(string n, <span class="type">char</span> s, <span class="type">int</span> a)</span><br><span class="line">&#123;</span><br><span class="line">name = n;</span><br><span class="line">sex = s;</span><br><span class="line">age = a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;People:&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="built_in">printpeople</span>();</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printpeople</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Name: &quot;</span> &lt;&lt; name &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Sex: &quot;</span> &lt;&lt; sex &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Age: &quot;</span> &lt;&lt; age &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CStudent</span> : <span class="keyword">virtual</span> <span class="keyword">public</span> CPeople</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">string number;</span><br><span class="line"><span class="type">double</span> grade;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">CStudent</span>()&#123;&#125;</span><br><span class="line"><span class="built_in">CStudent</span>(CPeople p,string n,<span class="type">double</span> g):<span class="built_in">CPeople</span>(p),<span class="built_in">number</span>(n),<span class="built_in">grade</span>(g)&#123;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printstudent</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;No.: &quot;</span> &lt;&lt; number &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Score: &quot;</span> &lt;&lt; grade &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Student:&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="built_in">printpeople</span>();</span><br><span class="line"><span class="built_in">printstudent</span>();</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CTeacher</span> : <span class="keyword">virtual</span> <span class="keyword">public</span> CPeople</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">string position;</span><br><span class="line">string department;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">CTeacher</span>()&#123;&#125;</span><br><span class="line"><span class="built_in">CTeacher</span>(CPeople p,string po,string de):<span class="built_in">CPeople</span>(p),<span class="built_in">position</span>(po),<span class="built_in">department</span>(de)&#123;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printteacher</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Position: &quot;</span> &lt;&lt; position &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Department: &quot;</span> &lt;&lt; department &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Teacher:&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="built_in">printpeople</span>();</span><br><span class="line"><span class="built_in">printteacher</span>();</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CGradOnWork</span> :<span class="keyword">public</span> CStudent, <span class="keyword">public</span> CTeacher</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">string direction;</span><br><span class="line">string tutor;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">CGradOnWork</span>()&#123;&#125;</span><br><span class="line"><span class="built_in">CGradOnWork</span>(CPeople p, CStudent s, CTeacher t, string di, string tu) :<span class="built_in">CPeople</span>(p), <span class="built_in">CStudent</span>(s), <span class="built_in">CTeacher</span>(t),<span class="built_in">direction</span>(di),<span class="built_in">tutor</span>(tu)&#123;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;GradOnWork:&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="built_in">printpeople</span>();</span><br><span class="line"><span class="built_in">printstudent</span>();</span><br><span class="line"><span class="built_in">printteacher</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Direction: &quot;</span> &lt;&lt; direction &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Tutor: &quot;</span> &lt;&lt; tutor &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">string name;</span><br><span class="line"><span class="type">int</span> age;</span><br><span class="line"><span class="type">char</span> sex;</span><br><span class="line">string number;</span><br><span class="line"><span class="type">double</span> grade;</span><br><span class="line">string position, department, direction, tutor;</span><br><span class="line"></span><br><span class="line">cin &gt;&gt; name &gt;&gt; sex &gt;&gt;age&gt;&gt;number&gt;&gt;grade&gt;&gt;position&gt;&gt;department&gt;&gt;direction&gt;&gt;tutor;</span><br><span class="line"><span class="function">CPeople <span class="title">p</span><span class="params">(name, sex, age)</span></span>;</span><br><span class="line">p.<span class="built_in">print</span>();</span><br><span class="line"><span class="function">CStudent <span class="title">s</span><span class="params">(p, number, grade)</span></span>;</span><br><span class="line">s.<span class="built_in">print</span>();</span><br><span class="line"><span class="function">CTeacher <span class="title">t</span><span class="params">(p, position, department)</span></span>;</span><br><span class="line">t.<span class="built_in">print</span>();</span><br><span class="line"><span class="function">CGradOnWork <span class="title">g</span><span class="params">(p, s, t, direction, tutor)</span></span>;</span><br><span class="line">g.<span class="built_in">print</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="b-商旅信用卡-多重继承">B.商旅信用卡（多重继承）</h1><h2 id="题目描述">题目描述</h2><p>某旅游网站（假设旅程网）和某银行推出旅游综合服务联名卡—旅程信用卡，兼具旅程会员卡和银行信用卡功能。</p><p>旅程会员卡，有会员卡号（int）、旅程积分（int），通过会员卡下订单，按订单金额累计旅程积分。</p><p>信用卡，有卡号（int）、姓名（string)、额度（int)、账单金额（float)、信用卡积分（int）。------请注意数据类型</p><p>信用卡消费金额m，若超额度，则不做操作；否则，账单金额+m，额度-m，信用卡积分按消费金额累加。</p><p>信用卡退款m，账单金额-m，信用卡积分减去退款金额。</p><p>通过旅程信用卡在旅程网下单，旅程积分和信用卡积分双重积分（即旅程积分和信用卡积分同时增加）。</p><p>旅程信用卡可以按      旅程积分：信用卡积分= 1：2    的比例将信用卡积分兑换为旅程积分。</p><p>初始假设信用卡积分、旅程积分、账单金额为0。</p><p>根据上述内容，定义旅程会员卡类、信用卡类，从两者派生出旅程信用卡类并定义三个类的构造函数和其它所需函数。</p><p>生成旅程信用卡对象，输入卡信息，调用对象成员函数完成旅程网下单、信用卡刷卡、信用卡退款、信用卡积分兑换为旅程积分等操作。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vip</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> Vnumber;</span><br><span class="line"><span class="type">static</span> <span class="type">int</span> Vpoints;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Vip</span>(<span class="type">int</span> n1, <span class="type">int</span> p1)</span><br><span class="line">&#123;</span><br><span class="line">Vnumber = n1;</span><br><span class="line">Vpoints = p1;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">add</span><span class="params">(<span class="type">float</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Vpoints += a;</span><br><span class="line"><span class="keyword">return</span> Vpoints;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> Vip::Vpoints = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Credit</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> Cnumber;</span><br><span class="line">string name;</span><br><span class="line"><span class="type">int</span> limit;</span><br><span class="line"><span class="type">float</span> amount;</span><br><span class="line"><span class="type">static</span> <span class="type">int</span> Cpoints;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Credit</span>(<span class="type">int</span> n2, string n, <span class="type">int</span> l, <span class="type">float</span> a, <span class="type">int</span> p2)</span><br><span class="line">&#123;</span><br><span class="line">Cnumber = n2;</span><br><span class="line">name = n;</span><br><span class="line">limit = l;</span><br><span class="line">amount = a;</span><br><span class="line">Cpoints = p2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">consume</span><span class="params">(<span class="type">float</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (a + amount &lt;= limit)</span><br><span class="line">&#123;</span><br><span class="line">amount += a;</span><br><span class="line">Cpoints +=(<span class="type">int</span>) a;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">refund</span><span class="params">(<span class="type">float</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">amount -= a;</span><br><span class="line">Cpoints -= (<span class="type">int</span>)a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">add</span><span class="params">(<span class="type">float</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Cpoints += (<span class="type">int</span>)a;</span><br><span class="line"><span class="keyword">return</span> Cpoints;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> Credit::Cpoints = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Journey</span> :<span class="keyword">public</span> Vip, <span class="keyword">public</span> Credit</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Journey</span>(<span class="type">int</span> vm,<span class="type">int</span> cm,string n,<span class="type">int</span> s,<span class="type">float</span> a,<span class="type">int</span> vp,<span class="type">int</span> cp):<span class="built_in">Credit</span>(cm,n,s,a,cp),<span class="built_in">Vip</span>(vm,vp)&#123;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">order</span><span class="params">(<span class="type">float</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> p1, p2, p3;</span><br><span class="line">p1 = Vip::<span class="built_in">add</span>(a);</span><br><span class="line">p2 = Credit::<span class="built_in">add</span>(a);</span><br><span class="line">amount += a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">change</span><span class="params">(<span class="type">float</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> p1, p2, p3;</span><br><span class="line">p2 = a / <span class="number">2</span>;</span><br><span class="line">Vpoints += p2;</span><br><span class="line">Cpoints -= (<span class="type">int</span>)a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; Vnumber &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; Vpoints &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; Cnumber &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; name &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; amount &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; Cpoints &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> vm, cm;</span><br><span class="line">string name;</span><br><span class="line"><span class="type">float</span> a;</span><br><span class="line"><span class="type">int</span> limit;</span><br><span class="line"><span class="type">char</span> ch;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; vm &gt;&gt; cm &gt;&gt; name &gt;&gt; limit;</span><br><span class="line"><span class="function">Journey <span class="title">j</span><span class="params">(vm, cm, name, limit, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; ch &gt;&gt; a;</span><br><span class="line"><span class="keyword">if</span> (ch == <span class="string">&#x27;o&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">j.<span class="built_in">order</span>(a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">&#x27;c&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">j.<span class="built_in">consume</span>(a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">&#x27;q&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">j.<span class="built_in">refund</span>(a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">&#x27;t&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">j.<span class="built_in">change</span>(a);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">j.<span class="built_in">show</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="c-图形面积-虚函数与多态">C.图形面积（虚函数与多态）</h1><h2 id="题目描述">题目描述</h2><p>编写一个程序，定义抽象基类Shape，在Shape类中定义虚函数area()；由它派生出3个派生类：Circle(圆形)、Square(正方形)、Rectangle(矩形)。用虚函数分别计算几种图形面积。</p><p>1、要求输出结果保留两位小数。</p><p>2、要求用基类指针数组，使它每一个元素指向每一个派生类对象。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Shape</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">double</span> <span class="title">area</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span> :<span class="keyword">public</span> Shape</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">double</span> r;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Circle</span>(<span class="type">double</span> r1) :<span class="built_in">r</span>(r1) &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">double</span> <span class="title">area</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> r * r * <span class="number">3.14</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Square</span> :<span class="keyword">public</span> Shape</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">double</span> d;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Square</span>(<span class="type">double</span> d1) :<span class="built_in">d</span>(d1) &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">double</span> <span class="title">area</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> d * d;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Rectangele</span> :<span class="keyword">public</span> Shape</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">double</span> a, b;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Rectangele</span>(<span class="type">double</span> a1, <span class="type">double</span> b1) :<span class="built_in">a</span>(a1), <span class="built_in">b</span>(b1) &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">double</span> <span class="title">area</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a * b;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(Shape* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; fixed &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">2</span>) &lt;&lt; p-&gt;<span class="built_in">area</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="type">double</span> r, d, a, b;</span><br><span class="line">Shape* p;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; r;</span><br><span class="line"><span class="function">Circle <span class="title">c</span><span class="params">(r)</span></span>;</span><br><span class="line">p = &amp;c;</span><br><span class="line"><span class="built_in">print</span>(p);</span><br><span class="line">cin &gt;&gt; d;</span><br><span class="line"><span class="function">Square <span class="title">s</span><span class="params">(d)</span></span>;</span><br><span class="line">p = &amp;s;</span><br><span class="line"><span class="built_in">print</span>(p);</span><br><span class="line">cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line"><span class="function">Rectangele <span class="title">r</span><span class="params">(a, b)</span></span>;</span><br><span class="line">p = &amp;r;</span><br><span class="line"><span class="built_in">print</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="d-汽车收费-虚函数和多态">D.汽车收费（虚函数和多态）</h1><h2 id="题目描述">题目描述</h2><p>现在要开发一个系统，实现对多种汽车的收费工作。 汽车基类框架如下所示：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Vehicle</span> </span><br><span class="line">&#123; </span><br><span class="line"><span class="keyword">protected</span>: </span><br><span class="line">string no; <span class="comment">//编号 </span></span><br><span class="line"><span class="keyword">public</span>: </span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">display</span><span class="params">()</span></span>=<span class="number">0</span>; <span class="comment">//应收费用 </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以Vehicle为基类，构建出Car、Truck和Bus三个类。</p><p>Car的收费公式为： 载客数*8+重量*2</p><p>Truck的收费公式为：重量*5</p><p>Bus的收费公式为： 载客数*30</p><p>生成上述类并编写主函数，要求主函数中有一个基类指针Vehicle *pv;用来做测试用。</p><p>主函数根据输入的信息，相应建立Car,Truck或Bus类对象，对于Car给出载客数和重量，Truck给出重量，Bus给出载客数。假设载客数和重量均为整数。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vehicle</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    string No; <span class="comment">//编号</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Vehicle</span>(string n) :<span class="built_in">No</span>(n) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">show</span><span class="params">()</span> </span>= <span class="number">0</span>; <span class="comment">//应收费用</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">car</span> :<span class="keyword">public</span> Vehicle</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="type">int</span> num, weight;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">car</span>(string no,<span class="type">int</span> n,<span class="type">int</span> w):<span class="built_in">Vehicle</span>(no),<span class="built_in">num</span>(n),<span class="built_in">weight</span>(w)&#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">int</span> sum;</span><br><span class="line">        sum = num * <span class="number">8</span> + weight * <span class="number">2</span>;</span><br><span class="line">        cout &lt;&lt; No &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; sum &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">truck</span> :<span class="keyword">public</span> Vehicle</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="type">int</span> weight;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">truck</span>(string no,<span class="type">int</span> w):<span class="built_in">Vehicle</span>(no),<span class="built_in">weight</span>(w)&#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">int</span> sum;</span><br><span class="line">        sum = weight * <span class="number">5</span>;</span><br><span class="line">        cout &lt;&lt; No &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; sum &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">bus</span> :<span class="keyword">public</span> Vehicle</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="type">int</span> num;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">bus</span>(string no,<span class="type">int</span> n):<span class="built_in">Vehicle</span>(no),<span class="built_in">num</span>(n)&#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">int</span> sum;</span><br><span class="line">        sum = num * <span class="number">30</span>;</span><br><span class="line">        cout &lt;&lt; No &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; sum &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t,tp;</span><br><span class="line">    string no;</span><br><span class="line">    <span class="type">int</span> weight, num;</span><br><span class="line"></span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        Vehicle* pv;</span><br><span class="line"></span><br><span class="line">        cin &gt;&gt; tp;</span><br><span class="line">        <span class="keyword">if</span> (tp == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cin &gt;&gt; no &gt;&gt; weight &gt;&gt; num;</span><br><span class="line">            <span class="function">car <span class="title">c</span><span class="params">(no, weight, num)</span></span>;</span><br><span class="line">            pv = &amp;c;</span><br><span class="line">            pv-&gt;<span class="built_in">show</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (tp == <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cin &gt;&gt; no &gt;&gt; weight;</span><br><span class="line">            <span class="function">truck <span class="title">t</span><span class="params">(no, weight)</span></span>;</span><br><span class="line">            pv = &amp;t;</span><br><span class="line">            pv-&gt;<span class="built_in">show</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (tp == <span class="number">3</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cin &gt;&gt; no &gt;&gt; num;</span><br><span class="line">            <span class="function">bus <span class="title">b</span><span class="params">(no, num)</span></span>;</span><br><span class="line">            pv = &amp;b;</span><br><span class="line">            pv-&gt;<span class="built_in">show</span>();</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="e-支票账户-虚函数与多态">E.支票账户（虚函数与多态）</h1><h2 id="题目描述">题目描述</h2><p>某银行的支票账户分为两类，一类为基本支票账户BaseAccount，另一类为具有透支保护特性的BasePlus支票账户。</p><p>BaseAccount支票账户的信息包括：客户姓名(name)、账户(account)、当前结余(balance)；BaseAccount支票账户可以执行的操作包括：存款(deposit)、取款(withdraw)、显示账户信息(display)。注意：取款金额不能透支，否则显示出错信息“insufficient”。</p><p>BasePlus支票账户除包含BaseAccount的所有信息外，还包括以下信息：透支上限(默认为5000)，当前可透支额度(limitSum)；BasePlus支票账户可执行的操作与BaseAccount相同，但有两种操作的实现不同：(1)对于取款操作，可以在透支上限范围内透支，超过则显示出错信息“insufficient”；(2)对于显示操作，必须显示BasePlus的其他信息。</p><p>请实现BaseAccount类和BasePlus类，其中BasePlus类继承于BaseAccount类，注意BaseAccount账户名称以BA开头，BasePlus账户名称以BP开头。</p><p>要求只使用一个基类指针，指向所建立的对象，然后使用指针调用类中的方法。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BaseAccount</span> &#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">string name;</span><br><span class="line">string account;</span><br><span class="line"><span class="type">int</span> balance;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">BaseAccount</span>(string n, string a, <span class="type">int</span> b) :<span class="built_in">balance</span>(b),<span class="built_in">name</span>(n),<span class="built_in">account</span>(a)&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">deposit</span><span class="params">(<span class="type">int</span> d)</span> </span>&#123;</span><br><span class="line">balance += d;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">withdraw</span><span class="params">(<span class="type">int</span> w)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (balance - w &gt;= <span class="number">0</span>)</span><br><span class="line">balance -= w;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;insufficient&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">cout &lt;&lt; name &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; account &lt;&lt; <span class="string">&quot; Balance:&quot;</span> &lt;&lt; balance &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BasePlus</span> :<span class="keyword">public</span> BaseAccount &#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> limit;</span><br><span class="line"><span class="type">int</span> limit_sum;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">BasePlus</span>(string n, string a, <span class="type">int</span> b) :<span class="built_in">BaseAccount</span>(n, a, b) &#123;</span><br><span class="line">limit = <span class="number">5000</span>;</span><br><span class="line">limit_sum = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">withdraw</span><span class="params">(<span class="type">int</span> w)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (balance - w &gt;= <span class="number">-5000</span>) &#123;</span><br><span class="line">balance -= w;</span><br><span class="line"><span class="keyword">if</span> (balance &lt; <span class="number">0</span>) &#123;</span><br><span class="line">limit = <span class="number">5000</span> + balance; </span><br><span class="line">limit_sum = balance;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;insufficient&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">cout &lt;&lt; name &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; account;</span><br><span class="line"><span class="keyword">if</span> (balance &lt; <span class="number">0</span>)</span><br><span class="line">cout &lt;&lt; <span class="string">&quot; Balance:0&quot;</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot; Balance:&quot;</span> &lt;&lt; balance;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot; limit:&quot;</span> &lt;&lt; limit &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> t, b, d, w;</span><br><span class="line">string n, a;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line">BaseAccount* p; </span><br><span class="line"><span class="keyword">while</span> (t--) &#123;</span><br><span class="line">cin &gt;&gt; n &gt;&gt; a &gt;&gt; b;</span><br><span class="line"><span class="keyword">if</span> (a[<span class="number">1</span>] == <span class="string">&#x27;A&#x27;</span>) &#123;</span><br><span class="line"><span class="function">BaseAccount <span class="title">b1</span><span class="params">(n, a, b)</span></span>;</span><br><span class="line">cin &gt;&gt; d &gt;&gt; w;</span><br><span class="line">p = &amp;b1;</span><br><span class="line">p-&gt;<span class="built_in">deposit</span>(d);</span><br><span class="line">p-&gt;<span class="built_in">withdraw</span>(w);</span><br><span class="line">cin &gt;&gt; d &gt;&gt; w;</span><br><span class="line">p-&gt;<span class="built_in">deposit</span>(d);</span><br><span class="line">p-&gt;<span class="built_in">withdraw</span>(w);</span><br><span class="line">p-&gt;<span class="built_in">print</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">BasePlus <span class="built_in">b1</span>(n, a, b);</span><br><span class="line">cin &gt;&gt; d &gt;&gt; w;</span><br><span class="line">p = &amp;b1;</span><br><span class="line">p-&gt;<span class="built_in">deposit</span>(d);</span><br><span class="line">p-&gt;<span class="built_in">withdraw</span>(w);</span><br><span class="line">cin &gt;&gt; d &gt;&gt; w;</span><br><span class="line">p-&gt;<span class="built_in">deposit</span>(d);</span><br><span class="line">p-&gt;<span class="built_in">withdraw</span>(w);</span><br><span class="line">p-&gt;<span class="built_in">print</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面向对象程序设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CPP_第10周</title>
      <link href="/posts/1153292558/"/>
      <url>/posts/1153292558/</url>
      
        <content type="html"><![CDATA[<h1 id="a-圆和圆柱体计算-继承">A.圆和圆柱体计算（继承）</h1><h2 id="题目描述">题目描述</h2><p>定义一个CPoint点类，包含数据成员x,y（坐标点）。</p><p>以CPoint为基类，派生出一个圆形类CCircle，增加数据成员r(半径）和一个计算圆面积的成员函数。<br>再以CCircle做为直接基类，派生出一个圆柱体类CCylinder，增加数据成员h(高)和一个计算体积的成员函数。<br>生成圆和圆柱体对象，调用成员函数计算面积或体积并输出结果。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CPoint</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">double</span> x, y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">CPoint</span>(<span class="type">double</span> x1, <span class="type">double</span> y1):<span class="built_in">x</span>(x1),<span class="built_in">y</span>(y1)&#123;&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CCircle</span> :<span class="keyword">public</span> CPoint</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">double</span> r;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">CCircle</span>(<span class="type">double</span> x1,<span class="type">double</span> y1,<span class="type">double</span> r1):<span class="built_in">CPoint</span>(x1,y1),<span class="built_in">r</span>(r1)&#123; &#125;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Area</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">3.14</span> * <span class="built_in">pow</span>(r, <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Circle:(&quot;</span> &lt;&lt; x &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; y &lt;&lt; <span class="string">&quot;),&quot;</span> &lt;&lt; r &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Area:&quot;</span> &lt;&lt; <span class="built_in">Area</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CCylinder</span> :<span class="keyword">public</span> CCircle</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">double</span> h;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">CCylinder</span>(<span class="type">double</span> x1,<span class="type">double</span> y1,<span class="type">double</span> r1,<span class="type">double</span> h1):<span class="built_in">CCircle</span>(x1,y1,r1),<span class="built_in">h</span>(h1)&#123;&#125;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Volume</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">3.14</span> * <span class="built_in">pow</span>(r, <span class="number">2</span>) * h;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Cylinder:(&quot;</span> &lt;&lt; x &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; y &lt;&lt; <span class="string">&quot;),&quot;</span> &lt;&lt; r &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; h &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Volume:&quot;</span> &lt;&lt; <span class="built_in">Volume</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">double</span> x, y, r, h;</span><br><span class="line">cin &gt;&gt; x &gt;&gt; y &gt;&gt; r;</span><br><span class="line"><span class="function">CCircle <span class="title">a</span><span class="params">(x, y, r)</span></span>;</span><br><span class="line">a.<span class="built_in">print</span>();</span><br><span class="line">cin &gt;&gt; x &gt;&gt; y &gt;&gt; r &gt;&gt; h;</span><br><span class="line"><span class="function">CCylinder <span class="title">b</span><span class="params">(x, y, r, h)</span></span>;</span><br><span class="line">b.<span class="built_in">print</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="b-三维空间的点-继承">B.三维空间的点（继承）</h1><h2 id="题目描述">题目描述</h2><p>定义一个平面上的点C2D类，它含有一个getDistance()的成员函数，计算该点到原点的距离；从C2D类派生出三维空间的点C3D类，它的getDistance()成员函数计算该点到原点的距离。试分别生成一个C2D和C3D的对象，计算它们到原点的距离。</p><p>三维空间的两点（x, y, z）和（x1, y1, z1）的距离公式如下：</p><p>[(x-x1)^2+(y-y1)^2+(z-z1)^2]^(1/2)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C2D</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> x;</span><br><span class="line"><span class="type">int</span> y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">C2D</span>(<span class="type">int</span> x1, <span class="type">int</span> y1):<span class="built_in">x</span>(x1),<span class="built_in">y</span>(y1)&#123;&#125;</span><br><span class="line"><span class="built_in">C2D</span>()&#123;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setXY</span><span class="params">(<span class="type">int</span> x1, <span class="type">int</span> y1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">x = x1;</span><br><span class="line">y = y1;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">getDistance</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">sqrt</span>(<span class="built_in">pow</span>(x, <span class="number">2</span>) + <span class="built_in">pow</span>(y, <span class="number">2</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C3D</span> :<span class="keyword">public</span> C2D</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> z;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setZ</span><span class="params">(<span class="type">int</span> z1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">z = z1;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">getDistance</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">sqrt</span>(<span class="built_in">pow</span>(x, <span class="number">2</span>) + <span class="built_in">pow</span>(y, <span class="number">2</span>) + <span class="built_in">pow</span>(z, <span class="number">2</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> x;</span><br><span class="line"><span class="type">int</span> y;</span><br><span class="line"><span class="type">int</span> z;</span><br><span class="line">cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line"><span class="function">C2D <span class="title">a1</span><span class="params">(x, y)</span></span>;</span><br><span class="line">cout &lt;&lt; a<span class="number">1.</span><span class="built_in">getDistance</span>() &lt;&lt; endl;</span><br><span class="line">cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;</span><br><span class="line">C3D b1;</span><br><span class="line">b<span class="number">1.</span><span class="built_in">setXY</span>(x, y);</span><br><span class="line">b<span class="number">1.</span><span class="built_in">setZ</span>(z);</span><br><span class="line">cout &lt;&lt; b<span class="number">1.</span><span class="built_in">getDistance</span>() &lt;&lt; endl;</span><br><span class="line">cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;</span><br><span class="line">C3D b2;</span><br><span class="line">b<span class="number">2.</span><span class="built_in">setXY</span>(x, y);</span><br><span class="line">b<span class="number">2.</span><span class="built_in">setZ</span>(z);</span><br><span class="line">cout &lt;&lt; b<span class="number">2.</span><span class="built_in">getDistance</span>() &lt;&lt; endl;</span><br><span class="line"><span class="function">C2D <span class="title">a2</span><span class="params">(x, y)</span></span>;</span><br><span class="line">cout &lt;&lt; a<span class="number">2.</span><span class="built_in">getDistance</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="c-时钟模拟-继承">C.时钟模拟(继承）</h1><h2 id="题目描述">题目描述</h2><p>定义计数器类，包含保护数据成员value,公有函数increment计数加1。<br>定义循环计算器继承计数器类，增加私有数据成员：最小值minValue，maxValue,<br>重写公有函数increment，使得value在minValue~maxValue区间内循环+1。<br>定义时钟类，数据成员是私有循环计数器对象小时hour、分钟minute、秒second，公有函数time(int s)计算当前时间经过s秒之后的时间，即hour，minute，second的新value值。<br>定义时钟类对象，输入当前时间和经过的秒数,调用time函数计算新时间。<br>根据题目要求，增加必要的构造函数、析构函数和其他所需函数。<br>因为clock和time是系统内置函数，为了避免重名，请不要使用clock或者time作为类名或者函数名</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Chronograph</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">int</span> value;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Chronograph</span>(<span class="type">int</span> v):<span class="built_in">value</span>(v)&#123;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">increment</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">value++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getV</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Calculators</span> :<span class="keyword">public</span> Chronograph</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> minValue;</span><br><span class="line"><span class="type">int</span> maxValue;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Calculators</span>(<span class="type">int</span> min_v, <span class="type">int</span> max_v, <span class="type">int</span> v) :<span class="built_in">minValue</span>(min_v),<span class="built_in">maxValue</span>(max_v), <span class="built_in">Chronograph</span>(v) &#123;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">increment</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">value = (value - minValue + <span class="number">1</span>) % (maxValue - minValue + <span class="number">1</span>) + minValue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CClock</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Calculators hour;</span><br><span class="line">Calculators minute;</span><br><span class="line">Calculators second;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">CClock</span>(<span class="type">int</span> h,<span class="type">int</span> m,<span class="type">int</span> s):<span class="built_in">hour</span>(<span class="number">0</span>,<span class="number">23</span>,h),<span class="built_in">minute</span>(<span class="number">0</span>,<span class="number">59</span>,m),<span class="built_in">second</span>(<span class="number">0</span>,<span class="number">59</span>,s)&#123;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ttime</span><span class="params">(<span class="type">int</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">while</span> (s--)</span><br><span class="line">&#123;</span><br><span class="line">second.<span class="built_in">increment</span>();</span><br><span class="line"><span class="keyword">if</span> (second.<span class="built_in">getV</span>() == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">minute.<span class="built_in">increment</span>();</span><br><span class="line"><span class="keyword">if</span> (minute.<span class="built_in">getV</span>() == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">hour.<span class="built_in">increment</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; hour.<span class="built_in">getV</span>() &lt;&lt; <span class="string">&quot;:&quot;</span> &lt;&lt; minute.<span class="built_in">getV</span>() &lt;&lt; <span class="string">&quot;:&quot;</span> &lt;&lt; second.<span class="built_in">getV</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> h, m, s;</span><br><span class="line"><span class="type">int</span> passtime;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="keyword">while</span> (n--)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; h &gt;&gt; m &gt;&gt; s&gt;&gt;passtime;</span><br><span class="line"><span class="function">CClock <span class="title">c</span><span class="params">(h, m, s)</span></span>;</span><br><span class="line">c.<span class="built_in">ttime</span>(passtime);</span><br><span class="line">c.<span class="built_in">display</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="d-学生成绩计算-继承">D.学生成绩计算（继承）</h1><h2 id="题目描述">题目描述</h2><p>定义Person类具有姓名、年龄等属性，具有输出基本信息的display函数。<br>选修《面向对象程序设计》课程的学生在Person类的基础上，派生出子类：免听生和非免听生。子类继承父类成员，新增其他成员、改写display函数。<br>非免听生具有平时成绩、考试成绩和总评成绩三个属性，总评成绩根据（平时成绩*40%+考试成绩*60%）计算的结果，85分（包含）以上为A，75分（包含）-85分（不包含）为B，65分（包含）-75分（不包含）为C，60分（包含）-65分（不包含）为D，60分（不包含）以下为F。<br>免听生只有考试成绩和总评成绩两个属性，总评成绩100%根据考试成绩对应上述等级制成绩。<br>定义上述类并编写主函数，输入类型符号，若输入R，根据学生基本信息、平时成绩和考试成绩，建立非免听生对象，若输入S，根据学生基本信息、考试成绩，建立免听生对象。计算学生的总评成绩，并输出。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">string name;</span><br><span class="line"><span class="type">int</span> age;</span><br><span class="line"><span class="type">double</span> <span class="keyword">final</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Person</span>() &#123;&#125;;</span><br><span class="line"><span class="built_in">Person</span>(string n, <span class="type">int</span> a) :<span class="built_in">name</span>(n), <span class="built_in">age</span>(a) &#123;&#125;;</span><br><span class="line"><span class="function"><span class="type">char</span> <span class="title">rating</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">final</span> &gt;= <span class="number">85</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">final</span> &gt;= <span class="number">75</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&#x27;B&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">final</span> &gt;= <span class="number">65</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&#x27;C&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">final</span> &gt;= <span class="number">60</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&#x27;D&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">final</span> &lt; <span class="number">60</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&#x27;F&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; name &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; age &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Freelisten</span> :<span class="keyword">public</span> Person</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">double</span> grade;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Freelisten</span>() &#123;&#125;;</span><br><span class="line"><span class="built_in">Freelisten</span>(string n, <span class="type">int</span> a, <span class="type">int</span> g) :<span class="built_in">Person</span>(n, a), <span class="built_in">grade</span>(g) &#123;&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">final</span> = grade;</span><br><span class="line">cout &lt;&lt; name &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; age &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; <span class="built_in">rating</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Nolisten</span> :<span class="keyword">public</span> Person</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"><span class="type">double</span> grade, usual;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Nolisten</span>() &#123;&#125;;</span><br><span class="line"><span class="built_in">Nolisten</span>(string n, <span class="type">int</span> a, <span class="type">int</span> u, <span class="type">int</span> g) :<span class="built_in">Person</span>(n, a), <span class="built_in">usual</span>(u), <span class="built_in">grade</span>(g) &#123;&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">final</span> = <span class="number">0.4</span> * usual + <span class="number">0.6</span> * grade;</span><br><span class="line">cout &lt;&lt; name &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; age &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; <span class="built_in">rating</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t, usual, test, age;</span><br><span class="line">string name;</span><br><span class="line"><span class="type">char</span> type;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; type;</span><br><span class="line"><span class="keyword">if</span> (type == <span class="string">&#x27;R&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; name &gt;&gt; age &gt;&gt; usual &gt;&gt; test;</span><br><span class="line"><span class="function">Nolisten <span class="title">a</span><span class="params">(name, age, usual, test)</span></span>;</span><br><span class="line">a.<span class="built_in">display</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="string">&#x27;S&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; name &gt;&gt; age &gt;&gt; test;</span><br><span class="line"><span class="function">Freelisten <span class="title">b</span><span class="params">(name, age, test)</span></span>;</span><br><span class="line">b.<span class="built_in">display</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="e-新旧身份证-继承">E.新旧身份证(继承)</h1><h2 id="题目描述">题目描述</h2><p>按下述方式定义一个日期类CDate和描述15位身份证号的旧身份证类COldId:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CDate</span> </span><br><span class="line">&#123; </span><br><span class="line"><span class="keyword">private</span>: </span><br><span class="line"><span class="type">int</span> year, month, day; </span><br><span class="line"><span class="keyword">public</span>: <span class="built_in">CDate</span>(<span class="type">int</span>, <span class="type">int</span>, <span class="type">int</span>); <span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">()</span></span>; <span class="comment">//检验日期是否合法 </span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">isLeap</span><span class="params">()</span></span>; <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>; </span><br><span class="line">&#125;; </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">COldId</span> </span><br><span class="line">&#123; </span><br><span class="line"><span class="keyword">protected</span>: </span><br><span class="line"><span class="type">char</span>* pId15, * pName; <span class="comment">//15位身份证号码，姓名 </span></span><br><span class="line">CDate birthday; <span class="comment">//出生日期 </span></span><br><span class="line"><span class="keyword">public</span>: </span><br><span class="line"><span class="built_in">COldId</span>(<span class="type">char</span>* pIdVal, <span class="type">char</span>* pNameVal, CDate&amp; day); </span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">()</span></span>; <span class="comment">//验证15位身份证是否合法 </span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>; </span><br><span class="line">~<span class="built_in">COldId</span>(); </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>然后以COldId为基类派生18位身份证号的新身份证类CNewId,并增加3个数据成员:pId18(18位号码)、issueDay(签发日期)和validYear(有效期，年数)，并重新定义check()和print()。</p><p>15位身份证号扩展为18位身份证号的规则为：前6位号码保持一致，年份由2位变为4位（在前面加上19，例如88变为1988），剩余号码都保持一致，再加上第18位校验码。</p><p>身份证第18位校验码的生成方法：<br>1、将身份证号码前17位数分别乘以7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2。然后将其相加。<br>2、将17位数字与系数乘加的和除以11，得到余数。<br>3、余数与校验码的对应关系为1,0,X,9,8,7,6,5,4,3,2。也即：如果余数是3，身份证第18位就是9。如果余数是2，身份证的最后一位号码就是X。</p><p>主函数定义一个派生类对象，并用派生类对象调用check()，若返回false则输出“illegal id”否则调用print()输出身份证信息。check()对身份证合法性进行验证的规则：</p><ol><li>确认18位号码是从15位号码扩展的，且第18位校验码正确.</li><li>身份证中的出生日期合法.</li><li>身份证号码中不含非法字符.</li><li>身份证号码的长度正确.</li><li>身份证目前处于有效期内，假设当前日期为2021年11月9日。</li><li>签发日期合法</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CDate</span> </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> year, month, day;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">CDate</span>(<span class="type">int</span> y, <span class="type">int</span> m, <span class="type">int</span> d) : <span class="built_in">year</span>(y), <span class="built_in">month</span>(m), <span class="built_in">day</span>(d) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getYear</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> year; &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getMonth</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> month; &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getDay</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> day; &#125;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">int</span> monthDay[] = &#123;</span><br><span class="line">                          <span class="number">31</span>, <span class="built_in">isLeap</span>() ? <span class="number">29</span> : <span class="number">28</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span> &#125;;</span><br><span class="line">        <span class="keyword">if</span> (day &lt; <span class="number">0</span> || year &lt; <span class="number">0</span> || month &lt; <span class="number">0</span> || year &gt; <span class="number">2015</span> || month &gt; <span class="number">12</span> || day &gt; monthDay[month - <span class="number">1</span>])</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isLeap</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span> || year % <span class="number">400</span> == <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; year &lt;&lt; <span class="string">&quot;年&quot;</span> &lt;&lt; month &lt;&lt; <span class="string">&quot;月&quot;</span> &lt;&lt; day &lt;&lt; <span class="string">&quot;日&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">COldID</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="type">char</span>* p_id15, * p_name;</span><br><span class="line">    CDate birthday;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">COldID</span>(<span class="type">char</span>* p_idval, <span class="type">char</span>* p_nameval, <span class="type">int</span> y, <span class="type">int</span> m, <span class="type">int</span> d) : <span class="built_in">birthday</span>(y, m, d)</span><br><span class="line">    &#123;</span><br><span class="line">        p_id15 = <span class="keyword">new</span> <span class="type">char</span>[<span class="built_in">strlen</span>(p_idval) + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(p_id15, p_idval);</span><br><span class="line">        p_name = <span class="keyword">new</span> <span class="type">char</span>[<span class="built_in">strlen</span>(p_nameval) + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(p_name, p_nameval);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">check</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!birthday.<span class="built_in">check</span>())</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> ((*(p_id15 + <span class="number">6</span>) - <span class="string">&#x27;0&#x27;</span>) * <span class="number">10</span> + (*(p_id15 + <span class="number">7</span>) - <span class="string">&#x27;0&#x27;</span>) != birthday.<span class="built_in">getYear</span>() % <span class="number">100</span> ||</span><br><span class="line">            (*(p_id15 + <span class="number">8</span>) - <span class="string">&#x27;0&#x27;</span>) * <span class="number">10</span> + (*(p_id15 + <span class="number">9</span>) - <span class="string">&#x27;0&#x27;</span>) != birthday.<span class="built_in">getMonth</span>() ||</span><br><span class="line">            (*(p_id15 + <span class="number">10</span>) - <span class="string">&#x27;0&#x27;</span>) * <span class="number">10</span> + (*(p_id15 + <span class="number">11</span>) - <span class="string">&#x27;0&#x27;</span>) != birthday.<span class="built_in">getDay</span>())</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">15</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="string">&#x27;0&#x27;</span> &gt; *(p_id15 + i) || *(p_id15 + i) &gt; <span class="string">&#x27;9&#x27;</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strlen</span>(p_id15) != <span class="number">15</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; p_name &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">COldID</span>() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CNewID</span> : <span class="keyword">public</span> COldID</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span>* p_id18;</span><br><span class="line">    CDate issueday;</span><br><span class="line">    <span class="type">int</span> validyear;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">CNewID</span>(<span class="type">char</span>* name, <span class="type">int</span> yval, <span class="type">int</span> mval, <span class="type">int</span> dval, <span class="type">char</span>* p15, <span class="type">char</span>* p18, <span class="type">int</span> yval2, <span class="type">int</span> mval2, <span class="type">int</span> dval2, <span class="type">int</span> v): <span class="built_in">COldID</span>(p15, name, yval, mval, dval), <span class="built_in">issueday</span>(yval2, mval2, dval2), <span class="built_in">validyear</span>(v)</span><br><span class="line">    &#123;</span><br><span class="line">        p_id18 = <span class="keyword">new</span> <span class="type">char</span>[<span class="built_in">strlen</span>(p18) + <span class="number">1</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(p_id18, p18);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">char</span>* <span class="title">NewNumID</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">static</span> <span class="type">char</span> num[<span class="number">20</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            num[i] = *(p_id15 + i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (birthday.<span class="built_in">getYear</span>() &lt; <span class="number">2000</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            num[<span class="number">6</span>] = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">            num[<span class="number">7</span>] = <span class="string">&#x27;9&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            num[<span class="number">6</span>] = <span class="string">&#x27;2&#x27;</span>;</span><br><span class="line">            num[<span class="number">7</span>] = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">8</span>; i &lt; <span class="number">17</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            num[i] = *(p_id15 + i - <span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> list1[] = &#123;</span><br><span class="line">            <span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span> &#125;;</span><br><span class="line">        <span class="type">char</span> list2[<span class="number">12</span>] = &#123;</span><br><span class="line">            <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;X&#x27;</span>, <span class="string">&#x27;9&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;\0&#x27;</span> &#125;;</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">17</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            sum += ((num[i] - <span class="string">&#x27;0&#x27;</span>) * list1[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        sum %= <span class="number">11</span>;</span><br><span class="line">        num[<span class="number">17</span>] = list2[sum];</span><br><span class="line">        num[<span class="number">18</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">valid</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ((issueday.<span class="built_in">getYear</span>() + validyear) &gt; <span class="number">2017</span> ||</span><br><span class="line">            ((issueday.<span class="built_in">getYear</span>() + validyear) == <span class="number">2017</span> &amp;&amp; issueday.<span class="built_in">getMonth</span>() &lt; <span class="number">5</span>) ||</span><br><span class="line">            ((issueday.<span class="built_in">getYear</span>() + validyear) == <span class="number">2017</span> &amp;&amp; issueday.<span class="built_in">getMonth</span>() == <span class="number">5</span> &amp;&amp; issueday.<span class="built_in">getDay</span>() &lt; <span class="number">10</span>));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(<span class="built_in">NewNumID</span>(), p_id18) != <span class="number">0</span> || !issueday.<span class="built_in">check</span>() || !<span class="built_in">valid</span>())</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; p_id18 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        issueday.<span class="built_in">print</span>();</span><br><span class="line">        <span class="keyword">if</span> (validyear != <span class="number">100</span>)</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; validyear &lt;&lt; <span class="string">&quot;年&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            cout &lt;&lt; <span class="string">&quot; 长期&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">CNewID</span>() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t, y1, m1, d1, y2, m2, d2, v;</span><br><span class="line">    <span class="type">char</span> name[<span class="number">10</span>], p15[<span class="number">20</span>], p18[<span class="number">20</span>];</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; name &gt;&gt; y1 &gt;&gt; m1 &gt;&gt; d1 &gt;&gt; p15 &gt;&gt; p18 &gt;&gt; y2 &gt;&gt; m2 &gt;&gt; d2 &gt;&gt; v;</span><br><span class="line">        <span class="function">CNewID <span class="title">c</span><span class="params">(name, y1, m1, d1, p15, p18, y2, m2, d2, v)</span></span>;</span><br><span class="line">        c.COldID::<span class="built_in">print</span>();</span><br><span class="line">        <span class="keyword">if</span> (c.COldID::<span class="built_in">check</span>() &amp;&amp; c.<span class="built_in">check</span>())</span><br><span class="line">            c.<span class="built_in">print</span>();</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;illegal id&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面向对象程序设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CPP_第9周</title>
      <link href="/posts/3963545132/"/>
      <url>/posts/3963545132/</url>
      
        <content type="html"><![CDATA[<h1 id="a-机器人变身-类与对象">A.机器人变身（类与对象）</h1><h2 id="题目描述">题目描述</h2><p>编写一个机器人类，包含属性有机器名、血量、伤害值、防御值、类型和等级。其中血量、伤害和防御和等级、类型相关：</p><p>普通型机器人，类型为N，血量、伤害、防御是等级的5倍</p><p>攻击型机器人，类型为A，攻击是等级的10倍，其他属性和普通的一样</p><p><strong>防御型机器人，类型为D，防御是等级的10倍，其他属性和普通的一样</strong></p><p><strong>生命型机器人，类型为H，生命是等级的50倍，其他属性和普通的一样。</strong></p><p><strong>机器人</strong>操作包括：<strong>打印、各个属性的获取和设置方法，构造函数可有可无，根据需要自行编写</strong>，</p><p><strong>编写一个全局函数用于机器人变身，使得各种类型机器人能够相互转变。参数包括机器人对象指针和变身后的机器人类型，功能是修改机器人类型，并更改相关的属性。如果变身类型和机器人原来的类型不同，则执行变身功能，并返回true；如果变身类型和原来类型相同，则不执行变身，并返回false.</strong></p><p><strong>要求所有数据成员都是私有属性，用C++语言和面向对象设计思想来编程实现上述要求</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">robot</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">string name;</span><br><span class="line"><span class="type">int</span> level,HP,damage,defense;</span><br><span class="line"><span class="type">char</span> type;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">robot</span>(string n, <span class="type">char</span> t, <span class="type">int</span> l);</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">set</span><span class="params">(<span class="type">char</span> t)</span></span>;</span><br><span class="line"><span class="function"><span class="type">char</span> <span class="title">get</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> type;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">robot::<span class="built_in">robot</span> (string n,<span class="type">char</span> t,<span class="type">int</span> l)</span><br><span class="line">&#123;</span><br><span class="line">name = n;</span><br><span class="line">type = t;</span><br><span class="line">level = l;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">robot::set</span><span class="params">(<span class="type">char</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">HP = <span class="number">5</span> * level;</span><br><span class="line">damage = <span class="number">5</span> * level;</span><br><span class="line">defense = <span class="number">5</span> * level;</span><br><span class="line"><span class="keyword">if</span> (t == <span class="string">&#x27;A&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">damage = <span class="number">10</span> * level;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (t == <span class="string">&#x27;D&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">defense = <span class="number">10</span> * level;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (t == <span class="string">&#x27;H&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">HP = <span class="number">50</span> * level;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">this</span>-&gt;type = t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">robot::print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; name &lt;&lt; <span class="string">&quot;--&quot;</span> &lt;&lt; type &lt;&lt; <span class="string">&quot;--&quot;</span> &lt;&lt; level &lt;&lt; <span class="string">&quot;--&quot;</span> &lt;&lt; HP &lt;&lt; <span class="string">&quot;--&quot;</span> &lt;&lt; damage &lt;&lt; <span class="string">&quot;--&quot;</span> &lt;&lt; defense&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">turn</span><span class="params">(robot&amp; r, <span class="type">char</span> change)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (r.<span class="built_in">get</span>() == change)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">r.<span class="built_in">set</span>(change);</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t, ll, sum=<span class="number">0</span>;</span><br><span class="line"><span class="type">char</span> tt, cc;</span><br><span class="line">string nn;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; nn &gt;&gt; tt &gt;&gt; ll;</span><br><span class="line">cin&gt;&gt;cc;</span><br><span class="line"><span class="function">robot <span class="title">r</span><span class="params">(nn, tt, ll)</span></span>;</span><br><span class="line">r.<span class="built_in">set</span>(tt);</span><br><span class="line">sum += <span class="built_in">turn</span>(r, cc);</span><br><span class="line">r.<span class="built_in">print</span>();</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;The number of robot transform is &quot;</span> &lt;&lt; sum &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="b-虚拟电话-构造与析构">B.虚拟电话（构造与析构）</h1><h2 id="题目描述">题目描述</h2><p>虚拟电话包含属性：电话号、状态、机主姓名。<br>1、电话号是一个类，它包含号码和类型，其中号码是整数类型，类型用单个字母表示用户类别，A表示政府，B表示企业、C表示个人。类操作包括构造、属性的获取和设置等方法，根据需要自行编写。<br>2、状态用一个数字表示，1表示在用，0表示未用，<br>3、机主姓名是一个字符串</p><p>电话操作包括：构造、析构、打印和查询。<br>1、构造函数需要考虑复合类成员的构造，并且输出提示信息。假设电话号码为12345678，则构造函数输出&quot;12345678 constructed.&quot;<br>2、打印是输出电话的相关信息，其中如果电话状态是在用则输出use；状态是未用则输出unuse，输出格式看示例。<br>3、析构函数是输出提示信息。假设电话号为12345678，则析构函数输出&quot;12345678 destructed. &quot;<br>4、查询操作是根据给定的号码查询电话，如果电话自身号码和给定号码不相同，则返回0；如果电话自身号码和给定号码相同，则返回1</p><p>用C++和面向对象思想实现以下要求：<br>1、输入相关数据，创建三个电话对象，并通过构造方法初始化。<br>2、输入若干个电话号码，通过查询操作查询这些号码是否在三个电话对象中，如果不存在输出&quot;wrong number.&quot;，存在则调用打印操作输出电话信息，具体看输出样例</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">phone</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">string  p_name;</span><br><span class="line"><span class="type">int</span> state, p_number;</span><br><span class="line"><span class="type">char</span> p_type;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">phone</span>(string na, <span class="type">int</span> st, <span class="type">int</span> num, <span class="type">char</span> tp)</span><br><span class="line">&#123;</span><br><span class="line">p_name = na;</span><br><span class="line">state = st;</span><br><span class="line">p_number = num;</span><br><span class="line">p_type = tp;</span><br><span class="line">cout &lt;&lt; p_number &lt;&lt; <span class="string">&quot; constructed.&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line">~<span class="built_in">phone</span>()</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; p_number &lt;&lt; <span class="string">&quot; destructed.&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">check</span><span class="params">(<span class="type">int</span> s)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">phone::print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Phone=&quot;</span> &lt;&lt; p_number &lt;&lt; <span class="string">&quot;--Type=&quot;</span> &lt;&lt; p_type &lt;&lt; <span class="string">&quot;--State=&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (state == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;use&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(state==<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;unuse&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;--Owner=&quot;</span> &lt;&lt; p_name &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">phone::check</span><span class="params">(<span class="type">int</span> p_num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (p_number == p_num)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> number, state;</span><br><span class="line"><span class="type">char</span> type;</span><br><span class="line">string name;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; number &gt;&gt; type &gt;&gt; state &gt;&gt; name;</span><br><span class="line"><span class="function">phone <span class="title">one</span><span class="params">(name, state, number, type)</span></span>;</span><br><span class="line">cin &gt;&gt; number &gt;&gt; type &gt;&gt; state &gt;&gt; name;</span><br><span class="line"><span class="function">phone <span class="title">two</span><span class="params">(name, state, number, type)</span></span>;</span><br><span class="line">cin &gt;&gt; number &gt;&gt; type &gt;&gt; state &gt;&gt; name;</span><br><span class="line"><span class="function">phone <span class="title">three</span><span class="params">(name, state, number, type)</span></span>;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; number;</span><br><span class="line"><span class="type">int</span> tmp = <span class="number">0</span>;</span><br><span class="line">tmp += one.<span class="built_in">check</span>(number);</span><br><span class="line"><span class="keyword">if</span> (one.<span class="built_in">check</span>(number))</span><br><span class="line">one.<span class="built_in">print</span>();</span><br><span class="line">tmp += two.<span class="built_in">check</span>(number);</span><br><span class="line"><span class="keyword">if</span> (two.<span class="built_in">check</span>(number))</span><br><span class="line">two.<span class="built_in">print</span>();</span><br><span class="line">tmp += three.<span class="built_in">check</span>(number);</span><br><span class="line"><span class="keyword">if</span> (three.<span class="built_in">check</span>(number))</span><br><span class="line">three.<span class="built_in">print</span>();</span><br><span class="line"><span class="keyword">if</span> (tmp == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;wrong number.&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="c-银行账户-拷贝构造">C.银行账户（拷贝构造）</h1><h2 id="题目描述">题目描述</h2><p>银行账户包括余额、利率、号码、类型等属性，其中号是固定8位整数，类型表示个人还是企业账户，如果是个人用P标识，企业用E标识。</p><p>账户又分为活期账户和定期账户，活期利率为0.5%，定期利率为1.5%。</p><p>账户操作有计息、查询操作。计息操作是根据利率计算利息，并把利息增加到余额中，并做相关信息输出。查询操作是输出账户的全部信息。</p><p>创建一个活期账户，并通过构造函数初始化各个属性。然后通过拷贝构造来创建一个定期账户，信息与活期账户基本相同，不同之处包括：定期账户号码是活期账户号码加50000000（7个0）；利率是定期利率。</p><p>要求所有数据成员都是私有属性</p><p>用C++语言的类与对象思想来编写程序实现上述要求</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BankAccount</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">double</span> balance, irate;</span><br><span class="line"><span class="type">int</span> num;</span><br><span class="line"><span class="type">char</span> type;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">BankAccount</span>(<span class="type">int</span> n, <span class="type">char</span> t, <span class="type">double</span> b)</span><br><span class="line">&#123;</span><br><span class="line">num = n;</span><br><span class="line">type = t;</span><br><span class="line">balance = b;</span><br><span class="line">irate = <span class="number">0.005</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">BankAccount</span>(BankAccount&amp; ba)</span><br><span class="line">&#123;</span><br><span class="line">num = <span class="number">50000000</span> + ba.num;</span><br><span class="line">type = ba.type;</span><br><span class="line">balance = ba.balance;</span><br><span class="line">irate = <span class="number">0.015</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">rate</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">check</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">operate</span><span class="params">(<span class="type">char</span> tt)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">BankAccount::rate</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">balance = balance * irate + balance;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Account=&quot;</span> &lt;&lt; num &lt;&lt; <span class="string">&quot;--sum=&quot;</span> &lt;&lt; balance &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">BankAccount::check</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Account=&quot;</span> &lt;&lt; num &lt;&lt; <span class="string">&quot;--&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (type == <span class="string">&#x27;P&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Person&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Enterprise&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;--sum=&quot;</span> &lt;&lt; balance &lt;&lt; <span class="string">&quot;--rate=&quot;</span> &lt;&lt; irate &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">BankAccount::operate</span><span class="params">(<span class="type">char</span> tt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (tt == <span class="string">&#x27;C&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">rate</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (tt == <span class="string">&#x27;P&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">check</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t, n;</span><br><span class="line"><span class="type">double</span> b;</span><br><span class="line"><span class="type">char</span> tp, op1, op2;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; n &gt;&gt; tp &gt;&gt; b &gt;&gt; op1 &gt;&gt; op2;</span><br><span class="line"><span class="function">BankAccount <span class="title">p</span><span class="params">(n, tp, b)</span></span>;</span><br><span class="line"><span class="function">BankAccount <span class="title">q</span><span class="params">(p)</span></span>;</span><br><span class="line">p.<span class="built_in">operate</span>(op1);</span><br><span class="line">q.<span class="built_in">operate</span>(op2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="d-电视遥控-静态-友元">D.电视遥控（静态+友元）</h1><h2 id="题目描述">题目描述</h2><p>电视机包含音量、模式、频道号等属性，其中模式分为<strong>TV</strong>和<strong>DVD</strong>两种。电视机在TV模式下，将播放相应频道的内容；在DVD模式下，电视机使用统一的频道号播放DVD的内容，频道号统一为99。另外，电视机采用静态成员的方法共享两个数据：播放电视的电视机数量和播放DVD的电视机数量，初始都为0。</p><p>电视机操作包括打印、相关静态函数、属性的获取和设置等，根据需要自行编写。</p><p><strong>现编写一个遥控器函数，通过友元方法对电视机进行控制，它的参数包括电视机对象、模式、变化音量、频道号，无返回值。函数操作包括：</strong><br><strong>1、对电视机对象进行模式设置，如果设置为DVD模式，则频道号参数一定是99；如果设置TV模式，则要把频道号设置相应的值。</strong><br><strong>2、根据变化音量进行调整，例如原有音量为50，现输入变化音量为-30，则50-30=20，音量最终为20。音量值最低为0，最高为100，超过范围则音量不再变化。</strong><br><strong>3、更新当前播放电视和播放DVD的电视机数量</strong><br><strong>4、调用电视机对象的打印方法输出电视相关信息</strong><br><strong>提示：如果电视机原来模式和参数传递的模式是相同的，那么实际操作就是调整音量、切换频道和输出信息。</strong></p><p><strong>注意：函数第一个参数必须是一个电视机对象，不可以是整数类型，可以是对象、或对象指针、或对象引用，根据需要自行编写。</strong><br><strong>用动态数组方法创建n台电视机，从1开始编号，频道号为编号，音量初始为50，模式为TV，然后通过遥控器函数对电视机进行控制。</strong><br><strong>所有类的数据成员都是私有属性。请使用C++语言和面向对象思想来实现上述要求</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TV</span> </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> number;</span><br><span class="line"><span class="type">int</span> volume;</span><br><span class="line"><span class="type">int</span> channel;</span><br><span class="line">string mode;</span><br><span class="line"><span class="type">static</span> <span class="type">int</span> t_num;</span><br><span class="line"><span class="type">static</span> <span class="type">int</span> d_num;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">TV</span>(<span class="type">int</span> n, <span class="type">int</span> c, string m, <span class="type">int</span> v)</span><br><span class="line">&#123;</span><br><span class="line">number = n;</span><br><span class="line">channel = c;</span><br><span class="line">mode = m;</span><br><span class="line">volume = v;</span><br><span class="line">t_num++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">set</span><span class="params">(string m, <span class="type">int</span> c)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">adjust</span><span class="params">(<span class="type">int</span> v)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">control</span><span class="params">(TV&amp; t, string m, <span class="type">int</span> v, <span class="type">int</span> c)</span></span>;</span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">int</span> <span class="title">getTV</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> t_num;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">int</span> <span class="title">getDVD</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> d_num;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> TV::t_num = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> TV::d_num = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TV::set</span><span class="params">(string m, <span class="type">int</span> c = <span class="number">0</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (mode == <span class="string">&quot;TV&quot;</span> &amp;&amp; m == <span class="string">&quot;DVD&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line">channel = <span class="number">99</span>;</span><br><span class="line">d_num++;</span><br><span class="line">t_num--;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (mode == <span class="string">&quot;DVD&quot;</span> &amp;&amp; m == <span class="string">&quot;TV&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line">channel = c;</span><br><span class="line">t_num++;</span><br><span class="line">d_num--;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (m == <span class="string">&quot;TV&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line">channel = c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">mode = m;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TV::adjust</span><span class="params">(<span class="type">int</span> v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">volume += v;</span><br><span class="line"><span class="keyword">if</span> (volume &gt; <span class="number">100</span>)</span><br><span class="line">&#123;</span><br><span class="line">volume = <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (volume &lt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">volume = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TV::print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;第&quot;</span> &lt;&lt; number &lt;&lt; <span class="string">&quot;号电视机--&quot;</span> &lt;&lt; mode &lt;&lt; <span class="string">&quot;模式--频道&quot;</span> &lt;&lt; channel &lt;&lt; <span class="string">&quot;--音量&quot;</span> &lt;&lt; volume &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">control</span><span class="params">(TV&amp; t, string m, <span class="type">int</span> c, <span class="type">int</span> v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">t.<span class="built_in">set</span>(m, c);</span><br><span class="line">t.<span class="built_in">adjust</span>(v);</span><br><span class="line">t.<span class="built_in">print</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> n, t;</span><br><span class="line">cin &gt;&gt; n &gt;&gt; t;</span><br><span class="line"></span><br><span class="line">TV** tele = <span class="keyword">new</span> TV * [n];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">&#123;</span><br><span class="line">tele[j] = <span class="keyword">new</span> <span class="built_in">TV</span>(j + <span class="number">1</span>, j + <span class="number">1</span>, <span class="string">&quot;TV&quot;</span>, <span class="number">50</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> i, k, cv, x;</span><br><span class="line">string m;</span><br><span class="line">cin &gt;&gt; i &gt;&gt; k &gt;&gt; x &gt;&gt; cv;</span><br><span class="line"><span class="keyword">if</span> (k == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">m = <span class="string">&quot;TV&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(k == <span class="number">2</span>)</span><br><span class="line">&#123;</span><br><span class="line">m = <span class="string">&quot;DVD&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">control</span>(*tele[i - <span class="number">1</span>], m, x, cv);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;播放电视的电视机数量为&quot;</span> &lt;&lt; TV::<span class="built_in">getTV</span>() &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;播放DVD的电视机数量为&quot;</span> &lt;&lt; TV::<span class="built_in">getDVD</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span> tele[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span>[]tele;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面向对象程序设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CPP_第8周</title>
      <link href="/posts/1417838921/"/>
      <url>/posts/1417838921/</url>
      
        <content type="html"><![CDATA[<h1 id="a-距离计算-友元函数">A.距离计算（友元函数）</h1><h2 id="题目描述">题目描述</h2><p><strong>Point类的基本形式如下：</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">double</span> x, y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Point</span>(<span class="type">double</span> xx, <span class="type">double</span> yy); <span class="comment">// 构造函数</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>请完成如下要求：</strong></p><p>1.实现Point类；</p><p>2.为Point类增加一个友元函数double Distance(Point &amp;a, Point &amp;b),用于计算两点之间的距离。直接访问Point对象的私有数据进行计算。</p><p>3.编写main函数，输入两点坐标值，计算两点之间的距离。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">double</span> x, y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Point</span>(<span class="type">double</span> x1, <span class="type">double</span> y1);</span><br><span class="line"><span class="function"><span class="keyword">friend</span> <span class="type">double</span> <span class="title">Distance</span><span class="params">(Point&amp; a, Point&amp; b)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Point::<span class="built_in">Point</span>(<span class="type">double</span> x1, <span class="type">double</span> y1)</span><br><span class="line">&#123;</span><br><span class="line">x = x1;</span><br><span class="line">y = y1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Distance</span><span class="params">(Point&amp; a, Point&amp; b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">double</span> dis;</span><br><span class="line">dis = <span class="built_in">sqrt</span>(<span class="built_in">pow</span>((a.x - b.x), <span class="number">2</span>) + <span class="built_in">pow</span>((a.y - b.y), <span class="number">2</span>));</span><br><span class="line"><span class="keyword">return</span> dis;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">double</span> x1, y1, x2, y2;</span><br><span class="line">cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;</span><br><span class="line"><span class="function">Point <span class="title">a</span><span class="params">(x1, y1)</span></span>;</span><br><span class="line"><span class="function">Point <span class="title">b</span><span class="params">(x2, y2)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="type">double</span> dis;</span><br><span class="line">dis = <span class="built_in">Distance</span>(a, b);</span><br><span class="line">cout &lt;&lt; (<span class="type">int</span>)dis &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="b-银行账户-静态成员与友元函数">B. 银行账户（静态成员与友元函数）</h1><h2 id="题目描述">题目描述</h2><p>银行账户类的基本描述如下：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Account</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">static</span> <span class="type">float</span> count; <span class="comment">// 账户总余额</span></span><br><span class="line">    <span class="type">static</span> <span class="type">float</span> interestRate;</span><br><span class="line">    string accno, accname;</span><br><span class="line">    <span class="type">float</span> balance;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Account</span>(string ac, string na, <span class="type">float</span> ba);</span><br><span class="line">    ~<span class="built_in">Account</span>();</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">deposit</span><span class="params">(<span class="type">float</span> amount)</span></span>; <span class="comment">// 存款</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">withdraw</span><span class="params">(<span class="type">float</span> amount)</span></span>; <span class="comment">// 取款</span></span><br><span class="line">    <span class="function"><span class="type">float</span> <span class="title">getBalance</span><span class="params">()</span></span>; <span class="comment">// 获取账户余额</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span>; <span class="comment">// 显示账户所有基本信息</span></span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">float</span> <span class="title">getCount</span><span class="params">()</span></span>; <span class="comment">// 获取账户总余额</span></span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">setInterestRate</span><span class="params">(<span class="type">float</span> rate)</span></span>; <span class="comment">// 设置利率</span></span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">float</span> <span class="title">getInterestRate</span><span class="params">()</span></span>; <span class="comment">// 获取利率</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>要求如下：</p><p>实现该银行账户类</p><p>为账户类Account增加一个友元函数，实现账户结息，要求输出结息后的余额（结息余额=账户余额+账户余额*利率）。友元函数声明形式为 friend void update(Account&amp; a);</p><p>在main函数中，定义一个Account类型的指针数组，让每个指针指向动态分配的Account对象，并调用成员函数测试存款、取款、显示等函数，再调用友元函数测试进行结息。</p><p><strong>大家可以根据实际需求在类内添加其他方法，也可以修改成员函数的参数设置</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Account</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Account</span>(string accno,string name,<span class="type">float</span> balance);</span><br><span class="line">~<span class="built_in">Account</span>();</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Deposit</span><span class="params">(<span class="type">float</span> amount)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Withdraw</span><span class="params">(<span class="type">float</span> amount)</span></span>;</span><br><span class="line"><span class="function"><span class="type">float</span> <span class="title">GetBalance</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Show</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">int</span> <span class="title">GetCount</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">float</span> <span class="title">GetInterestRate</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">setcount</span><span class="params">(<span class="type">int</span> c)</span></span>;</span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">setrate</span><span class="params">(<span class="type">float</span> rate)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">Update</span><span class="params">(Account &amp; a)</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">static</span> <span class="type">int</span> count;</span><br><span class="line"><span class="type">static</span> <span class="type">float</span> InterestRate;</span><br><span class="line">string _accno,_accname;</span><br><span class="line"><span class="type">float</span> _balance;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> Account::count;</span><br><span class="line"><span class="type">float</span> Account::InterestRate;</span><br><span class="line">Account::<span class="built_in">Account</span>(string accno,string name,<span class="type">float</span> balance):_accno(accno),_accname(name),_balance(balance)&#123;&#125;</span><br><span class="line">Account::~<span class="built_in">Account</span>()&#123;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Account::Deposit</span><span class="params">(<span class="type">float</span> amount)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">_balance+=amount;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Account::Withdraw</span><span class="params">(<span class="type">float</span> amount)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">_balance-=amount;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">float</span> <span class="title">Account::GetBalance</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> _balance;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Account::Show</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout&lt;&lt;_accno&lt;&lt;<span class="string">&#x27; &#x27;</span>&lt;&lt;_accname&lt;&lt;<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Account::GetCount</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">float</span> <span class="title">Account::GetInterestRate</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> InterestRate;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Account::setcount</span><span class="params">(<span class="type">int</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">count=c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Account::setrate</span><span class="params">(<span class="type">float</span> rate)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">InterestRate=rate;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Update</span><span class="params">(Account &amp; a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">a._balance+=a._balance*a.InterestRate;</span><br><span class="line">cout&lt;&lt;<span class="string">&#x27; &#x27;</span>&lt;&lt;a._balance&lt;&lt;<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> n,i;</span><br><span class="line"><span class="type">float</span> rate,balance_sum=<span class="number">0</span>,balance,amount;</span><br><span class="line">string accno,accname;</span><br><span class="line">cin&gt;&gt;rate;</span><br><span class="line">cin&gt;&gt;n;</span><br><span class="line">Account::<span class="built_in">setcount</span>(n);</span><br><span class="line">Account::<span class="built_in">setrate</span>(rate);</span><br><span class="line">Account ** p=<span class="keyword">new</span> Account*[n];</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line">cin&gt;&gt;accno&gt;&gt;accname&gt;&gt;balance;</span><br><span class="line">p[i]=<span class="keyword">new</span> <span class="built_in">Account</span>(accno,accname,balance);</span><br><span class="line">p[i]-&gt;<span class="built_in">Show</span>();</span><br><span class="line">cin&gt;&gt;amount;</span><br><span class="line">p[i]-&gt;<span class="built_in">Deposit</span>(amount);</span><br><span class="line">cout&lt;&lt;p[i]-&gt;<span class="built_in">GetBalance</span>();</span><br><span class="line"><span class="built_in">Update</span>(*p[i]);</span><br><span class="line">cin&gt;&gt;amount;</span><br><span class="line">p[i]-&gt;<span class="built_in">Withdraw</span>(amount);</span><br><span class="line">cout&lt;&lt;p[i]-&gt;<span class="built_in">GetBalance</span>()&lt;&lt;endl;</span><br><span class="line">balance_sum+=p[i]-&gt;<span class="built_in">GetBalance</span>();</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;balance_sum;</span><br><span class="line"><span class="keyword">if</span>(p)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line"><span class="keyword">delete</span> p[i];</span><br><span class="line"><span class="keyword">delete</span>[] p;</span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="c-复数运算-友元函数">C.复数运算（友元函数）</h1><h2 id="题目描述">题目描述</h2><p><strong>复数类的声明如下：</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Complex</span> </span><br><span class="line">&#123; </span><br><span class="line"><span class="keyword">private</span>: </span><br><span class="line"><span class="type">double</span> real; <span class="comment">// 实部 </span></span><br><span class="line"><span class="type">double</span> imag; <span class="comment">// 虚部 </span></span><br><span class="line"><span class="keyword">public</span>: </span><br><span class="line"><span class="built_in">Complex</span>();</span><br><span class="line"><span class="built_in">Complex</span>(<span class="type">double</span> r, <span class="type">double</span> i); <span class="comment">// 友元函数，复数c1 + c2(二参数对象相加) </span></span><br><span class="line"><span class="function"><span class="keyword">friend</span> Complex <span class="title">addCom</span><span class="params">(<span class="type">const</span> Complex&amp; c1, <span class="type">const</span> Complex&amp; c2)</span></span>; <span class="comment">// 友元函数，输出类对象c的有关数据(c为参数对象) </span></span><br><span class="line"><span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">outCom</span><span class="params">(<span class="type">const</span> Complex&amp; c)</span></span>; </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>要求如下：</strong></p><p>1.   实现复数类和友元函数addCom和outCom。<br>2.   参考addCom函数为复数类增加一个友元函数minusCom，用于实现两个复数的减法<br>3.   在main函数中，通过友元函数，实现复数的加减法和复数的输出。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Complex</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Complex</span>();</span><br><span class="line"><span class="built_in">Complex</span>(<span class="type">double</span> r, <span class="type">double</span> i);</span><br><span class="line"><span class="function"><span class="keyword">friend</span> Complex <span class="title">addcom</span><span class="params">(Complex a1, Complex a2)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">friend</span> Complex <span class="title">minuscom</span><span class="params">(Complex a1, Complex a2)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">outcom</span><span class="params">(Complex c)</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">double</span> real;</span><br><span class="line"><span class="type">double</span> imag;</span><br><span class="line">&#125;;</span><br><span class="line">Complex::<span class="built_in">Complex</span>(<span class="type">double</span> r, <span class="type">double</span> i)</span><br><span class="line">&#123;</span><br><span class="line">real = r, imag = i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Complex <span class="title">addcom</span><span class="params">(Complex a1, Complex a2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">Complex <span class="title">c</span><span class="params">(a<span class="number">1.</span>real + a<span class="number">2.</span>real, a<span class="number">1.</span>imag + a<span class="number">2.</span>imag)</span></span>;</span><br><span class="line"><span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Complex <span class="title">minuscom</span><span class="params">(Complex a1, Complex a2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">Complex <span class="title">c</span><span class="params">(a<span class="number">1.</span>real - a<span class="number">2.</span>real, a<span class="number">1.</span>imag - a<span class="number">2.</span>imag)</span></span>;</span><br><span class="line"><span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">outcom</span><span class="params">(Complex c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;(&quot;</span> &lt;&lt; c.real &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; c.imag &lt;&lt; <span class="string">&quot;)&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t, real, imag;</span><br><span class="line"><span class="type">char</span> sym;</span><br><span class="line">cin &gt;&gt; real &gt;&gt; imag;</span><br><span class="line"><span class="function">Complex <span class="title">c</span><span class="params">(real, imag)</span></span>;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; sym &gt;&gt; real &gt;&gt; imag;</span><br><span class="line"><span class="function">Complex <span class="title">c1</span><span class="params">(real, imag)</span></span>;</span><br><span class="line"><span class="keyword">if</span> (sym == <span class="string">&#x27;+&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">c = <span class="built_in">addcom</span>(c, c1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">c = <span class="built_in">minuscom</span>(c, c1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">outcom</span>(c);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="d-旅馆顾客统计-静态成员">D.旅馆顾客统计（静态成员）</h1><h2 id="题目描述">题目描述</h2><p><strong>编写程序，统计某旅馆住宿客人的总数和收入总额。要求输入客人的姓名，输出客人编号（2015+顺序号，顺序号4位，如第1位为0001，第2位为0002，依此类推）、姓名、总人数以及收入总额。总人数和收入总额用静态成员，其他属性采用普通的数据成员。旅馆类声明如下：</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Hotel</span> </span><br><span class="line">&#123; </span><br><span class="line"><span class="keyword">private</span>: </span><br><span class="line"><span class="type">static</span> <span class="type">int</span> totalCustNum; <span class="comment">// 顾客总人数 </span></span><br><span class="line"><span class="type">static</span> <span class="type">float</span> totalEarning; <span class="comment">// 旅店总收入 </span></span><br><span class="line"><span class="type">static</span> <span class="type">float</span> rent; <span class="comment">// 每个顾客的房租 </span></span><br><span class="line"><span class="type">char</span> *customerName; <span class="comment">// 顾客姓名 </span></span><br><span class="line"><span class="type">int</span> customerId; <span class="comment">// 顾客编号 </span></span><br><span class="line"><span class="keyword">public</span>: </span><br><span class="line"><span class="comment">// totalCustNum++，customerId按照totalCustNum生成 </span></span><br><span class="line"><span class="built_in">Hotel</span>(<span class="type">char</span>* customer); </span><br><span class="line">~<span class="built_in">Hotel</span>(); <span class="comment">//记得delete customerName </span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Display</span><span class="params">()</span></span>; <span class="comment">//相应输出顾客姓名、顾客编号、总人数、总收入 </span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Hotel</span>&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">static</span> <span class="type">int</span> m_TotalCusNum; </span><br><span class="line"><span class="type">static</span><span class="type">float</span> m_TotalEearning;</span><br><span class="line"><span class="type">static</span> <span class="type">float</span> m_Rent;</span><br><span class="line"><span class="type">char</span>* m_CustomerName; </span><br><span class="line"><span class="type">int</span> m_CustomerID; </span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Hotel</span>(<span class="type">char</span> *a_Customer)&#123;</span><br><span class="line">m_CustomerName=<span class="keyword">new</span> <span class="type">char</span>[<span class="built_in">strlen</span>(a_Customer)<span class="number">+1</span>];</span><br><span class="line"><span class="built_in">strcpy</span>(m_CustomerName,a_Customer);</span><br><span class="line">m_TotalCusNum++;</span><br><span class="line">m_CustomerID=m_TotalCusNum;</span><br><span class="line">m_TotalEearning=m_TotalCusNum*m_Rent;</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">Hotel</span>()&#123;</span><br><span class="line"><span class="keyword">delete</span> m_CustomerName;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">setRent</span><span class="params">(<span class="type">float</span> r)</span></span>&#123;</span><br><span class="line">m_Rent=r;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Display</span><span class="params">()</span></span>&#123;</span><br><span class="line">cout&lt;&lt;m_CustomerName&lt;&lt;<span class="string">&quot; 2015&quot;</span>&lt;&lt;<span class="built_in">setfill</span>(<span class="string">&#x27;0&#x27;</span>)&lt;&lt;<span class="built_in">setw</span>(<span class="number">4</span>)&lt;&lt;m_CustomerID;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;m_CustomerID&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;m_TotalEearning&lt;&lt;endl;</span><br><span class="line">&#125; </span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">float</span> Hotel::m_Rent=<span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> Hotel::m_TotalCusNum=<span class="number">0</span>;</span><br><span class="line"><span class="type">float</span> Hotel::m_TotalEearning=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="type">float</span> rent;</span><br><span class="line"><span class="type">char</span> name[<span class="number">50</span>];</span><br><span class="line">cin&gt;&gt;rent;</span><br><span class="line">Hotel::<span class="built_in">setRent</span> (rent);</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">cin&gt;&gt;name;</span><br><span class="line"><span class="keyword">if</span>(name[<span class="number">0</span>]==<span class="string">&#x27;0&#x27;</span>)</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="function">Hotel <span class="title">h1</span><span class="params">(name)</span></span>;</span><br><span class="line">h<span class="number">1.</span><span class="built_in">Display</span>();</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="e-日期时间合并输出-友元函数">E.日期时间合并输出（友元函数）</h1><h2 id="题目描述">题目描述</h2><p>已知日期类Date，有属性：年、月、日，其他成员函数根据需要自行编写，注意该类没有输出的成员函数<br>已知时间类Time，有属性：时、分、秒，其他成员函数根据需要自行编写，注意该类没有输出的成员函数</p><p>现在编写一个全局函数把时间和日期的对象合并起来一起输出，<br>函数原型为：void display(const Date &amp;d, const Time &amp;t)<br>函数输出要求为：<br>1、时分秒输出长度固定2位，不足2位补0<br>2、年份输出长度固定为4位，月和日的输出长度固定2位，不足2位补0<br>例如2017年3月3日19时5分18秒<br>则输出为：2017-03-03 19:05:18<br>程序要求<br>1、把函数display作为时间类、日期类的友元<br>2、分别创建一个日期对象和时间对象，保存日期的输入和时间的输入<br>3、调用display函数实现日期和时间的合并输出</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Time</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">date</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> year, month, day;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">date</span>(<span class="type">int</span> y, <span class="type">int</span> m, <span class="type">int</span> d)</span><br><span class="line">&#123;</span><br><span class="line">year = y, month = m, day = d;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">show</span><span class="params">(date&amp;, Time&amp;)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Time</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> hour, minute, second;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Time</span>(<span class="type">int</span> h, <span class="type">int</span> m1, <span class="type">int</span> s)</span><br><span class="line">&#123;</span><br><span class="line">hour = h, minute = m1, second = s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">show</span><span class="params">(date&amp;, Time&amp;)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">(date&amp; a, Time&amp; b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; a.year &lt;&lt; <span class="string">&quot;-&quot;</span>;</span><br><span class="line">cout &lt;&lt; <span class="built_in">setfill</span>(<span class="string">&#x27;0&#x27;</span>) &lt;&lt; <span class="built_in">setw</span>(<span class="number">2</span>) &lt;&lt; a.month &lt;&lt; <span class="string">&quot;-&quot;</span>;</span><br><span class="line">cout &lt;&lt; <span class="built_in">setfill</span>(<span class="string">&#x27;0&#x27;</span>) &lt;&lt; <span class="built_in">setw</span>(<span class="number">2</span>) &lt;&lt; a.day &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="built_in">setfill</span>(<span class="string">&#x27;0&#x27;</span>) &lt;&lt; <span class="built_in">setw</span>(<span class="number">2</span>) &lt;&lt; b.hour &lt;&lt; <span class="string">&quot;:&quot;</span>;</span><br><span class="line">cout &lt;&lt; <span class="built_in">setfill</span>(<span class="string">&#x27;0&#x27;</span>) &lt;&lt; <span class="built_in">setw</span>(<span class="number">2</span>) &lt;&lt; b.minute &lt;&lt; <span class="string">&quot;:&quot;</span>;</span><br><span class="line">cout &lt;&lt; <span class="built_in">setfill</span>(<span class="string">&#x27;0&#x27;</span>) &lt;&lt; <span class="built_in">setw</span>(<span class="number">2</span>) &lt;&lt; b.second &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> year, month, day, hour, minute, second;</span><br><span class="line">cin &gt;&gt; year &gt;&gt; month &gt;&gt; day &gt;&gt; hour &gt;&gt; minute &gt;&gt; second;</span><br><span class="line"><span class="function">date <span class="title">a</span><span class="params">(year, month, day)</span></span>;</span><br><span class="line"><span class="function">Time <span class="title">b</span><span class="params">(hour, minute, second)</span></span>;</span><br><span class="line"><span class="built_in">show</span>(a, b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面向对象程序设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CPP_第7周</title>
      <link href="/posts/216109343/"/>
      <url>/posts/216109343/</url>
      
        <content type="html"><![CDATA[<h1 id="a-equation-类与对象-构造">A.Equation(类与对象+构造)</h1><h2 id="题目描述">题目描述</h2><p>建立一个类Equation，表达方程ax2+bx+c=0。类中至少包含以下方法：</p><p>1、无参构造（abc默认值为1.0、1.0、0）与有参构造函数，用于初始化a、b、c的值；</p><p>2、set方法，用于修改a、b、c的值</p><p>3、getRoot方法，求出方程的根。</p><p>一元二次方程的求根公式如下：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mfrac><mrow><mo>−</mo><mi>b</mi><mo>±</mo><msqrt><mrow><msup><mi>b</mi><mn>2</mn></msup><mo>−</mo><mn>4</mn><mi>a</mi><mi>c</mi></mrow></msqrt></mrow><mrow><mn>2</mn><mi>a</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">x ={-b \pm \sqrt{b^2-4ac}\over 2a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.384482em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.039482em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight">a</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.3939999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathdefault mtight">b</span><span class="mbin mtight">±</span><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9221171428571429em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight" style="padding-left:0.833em;"><span class="mord mtight"><span class="mord mathdefault mtight">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight">4</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">c</span></span></span><span style="top:-2.882117142857143em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.11788285714285718em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>一元二次方程的求解分三种情况，如下：<br>一元二次方程<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mi>b</mi><mi>x</mi><mo>+</mo><mi>c</mi><mo>=</mo><mn>0</mn><mo stretchy="false">(</mo><mi>a</mi><mo mathvariant="normal">≠</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">ax^2+bx+c=0(a\ne0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mopen">(</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span>的根与根的判别式有如下关系：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">Δ</mi><mo>=</mo><msup><mi>b</mi><mn>2</mn></msup><mo>−</mo><mn>4</mn><mi>a</mi><mi>c</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\Delta=b^2-4ac)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">Δ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">4</span><span class="mord mathdefault">a</span><span class="mord mathdefault">c</span><span class="mclose">)</span></span></span></span></p><ol><li>当<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\Delta&gt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord">Δ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>时，方程有两个不相等的实数根</li><li>当<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\Delta=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>时，方程有两个相等的实数根</li><li>当<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\Delta&lt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord">Δ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>时，方程无实数根，但有两个共轭复根</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Equation</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">double</span> a, b, c;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Equation</span>()</span><br><span class="line">&#123;</span><br><span class="line">a = <span class="number">1.0</span>, b = <span class="number">1.0</span>, c = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Equation</span>(<span class="type">double</span> a1, <span class="type">double</span> b1, <span class="type">double</span> c1)</span><br><span class="line">&#123;</span><br><span class="line">a = a1, b = b1; c = c1;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">set</span><span class="params">(<span class="type">double</span> a1, <span class="type">double</span> b1, <span class="type">double</span> c1)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">getRoot</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Equation::set</span><span class="params">(<span class="type">double</span> a1, <span class="type">double</span> b1, <span class="type">double</span> c1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">a = a1, b = b1, c = c1;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Equation::getRoot</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">double</span> x1, x2;</span><br><span class="line"><span class="type">double</span> solid, imaginary;</span><br><span class="line"><span class="keyword">if</span> (b * b - <span class="number">4</span> * a * c &gt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">x1 = ((-b + <span class="built_in">sqrt</span>(b * b - <span class="number">4</span> * a * c)) / (<span class="number">2</span> * a));</span><br><span class="line">x2 = ((-b - <span class="built_in">sqrt</span>(b * b - <span class="number">4</span> * a * c)) / (<span class="number">2</span> * a));</span><br><span class="line">cout &lt;&lt; fixed &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">2</span>) &lt;&lt; <span class="string">&quot;x1=&quot;</span> &lt;&lt; x1 &lt;&lt; <span class="string">&quot; x2=&quot;</span> &lt;&lt; x2 &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (b * b - <span class="number">4</span> * a * c == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">x1 = -b / (<span class="number">2</span> * a);</span><br><span class="line">cout &lt;&lt; fixed &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">2</span>) &lt;&lt; <span class="string">&quot;x1=x2=&quot;</span> &lt;&lt; x1 &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (b * b - <span class="number">4</span> * a * c &lt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">solid = -b / (<span class="number">2</span> * a);</span><br><span class="line">imaginary = <span class="built_in">sqrt</span>(<span class="number">4</span> * a * c - b * b) / (<span class="number">2</span> * a);</span><br><span class="line">cout &lt;&lt; fixed &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">2</span>) &lt;&lt; <span class="string">&quot;x1=&quot;</span> &lt;&lt; solid &lt;&lt; <span class="string">&quot;+&quot;</span> &lt;&lt; imaginary &lt;&lt; <span class="string">&quot;i x2=&quot;</span> &lt;&lt; solid &lt;&lt; <span class="string">&quot;-&quot;</span> &lt;&lt; imaginary &lt;&lt; <span class="string">&quot;i&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">double</span> a1, b1, c1;</span><br><span class="line">cin &gt;&gt; a1 &gt;&gt; b1 &gt;&gt; c1;</span><br><span class="line"><span class="function">Equation <span class="title">e</span><span class="params">(a1, b1, c1)</span></span>;</span><br><span class="line">e.<span class="built_in">getRoot</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="b-对象是怎样构造的-拷贝构造函数">B.对象是怎样构造的(拷贝构造函数)</h1><h2 id="题目描述">题目描述</h2><p>某个类包含一个整型数据成员.程序运行时若输入0表示用缺省方式定义一个类对象;输入1及一个整数表示用带一个参数的构造函数构造一个类对象;输入2及一个整数表示构造2个类对象，一个用输入的参数构造，另一个用前一个对象构造。试完成该类的定义和实现。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Construction</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> x;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Construction</span>()</span><br><span class="line">&#123;</span><br><span class="line">x = <span class="number">0</span>;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Constructed by default, value = 0&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Construction</span>(<span class="type">int</span> num)</span><br><span class="line">&#123;</span><br><span class="line">x = num;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Constructed using one argument constructor, value = &quot;</span> &lt;&lt; x &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Construction</span>(<span class="type">const</span> Construction&amp; c)</span><br><span class="line">&#123;</span><br><span class="line">x = c.x;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Constructed using copy constructor, value = &quot;</span> &lt;&lt; x &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> tmp;</span><br><span class="line">cin &gt;&gt; tmp;</span><br><span class="line"><span class="keyword">if</span> (tmp == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">Construction mc;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (tmp == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> num1;</span><br><span class="line">cin &gt;&gt; num1;</span><br><span class="line"><span class="function">Construction <span class="title">mc</span><span class="params">(num1)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> num2;</span><br><span class="line">cin &gt;&gt; num2;</span><br><span class="line"><span class="function">Construction <span class="title">mc1</span><span class="params">(num2)</span></span>;</span><br><span class="line"><span class="function">Construction <span class="title">mc2</span><span class="params">(mc1)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="c-电话号码升位-拷贝构造函数">C.电话号码升位(拷贝构造函数)</h1><h2 id="题目描述">题目描述</h2><p>定义一个电话号码类CTelNumber,包含1个字符指针数据成员,以及构造、析构、打印及拷贝构造函数。</p><p>字符指针是用于动态创建一个字符数组，然后保存外来输入的电话号码</p><p>构造函数的功能是为对象设置键盘输入的7位电话号码，</p><p>拷贝构造函数的功能是用原来7位号码的对象升位为8位号码对象,也就是说拷贝构造的对象是源对象的升级.电话升位的规则是原2、3、4开头的电话号码前面加8，原5、6、7、8开头的前面加2。</p><p>注意:电话号码只能全部是数字字符，且与上述情况不符的输入均为非法</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CTelNumber</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">char</span>* c;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">CTelNumber</span>(<span class="type">char</span> a[])</span><br><span class="line">    &#123;</span><br><span class="line">        c = <span class="keyword">new</span> <span class="type">char</span>[<span class="number">8</span>];</span><br><span class="line">        <span class="built_in">strcpy</span>(c, a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">CTelNumber</span>(<span class="type">const</span> CTelNumber&amp; CTN1)</span><br><span class="line">    &#123;</span><br><span class="line">        c = <span class="keyword">new</span> <span class="type">char</span>[<span class="number">9</span>];</span><br><span class="line">        <span class="keyword">if</span> (CTN<span class="number">1.</span>c[<span class="number">0</span>] &gt;= <span class="string">&#x27;2&#x27;</span> &amp;&amp; CTN<span class="number">1.</span>c[<span class="number">0</span>] &lt;= <span class="string">&#x27;4&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">6</span>; i++) &#123;</span><br><span class="line">                c[i + <span class="number">1</span>] = CTN<span class="number">1.</span>c[i];</span><br><span class="line">            &#125;</span><br><span class="line">            c[<span class="number">0</span>] = <span class="string">&#x27;8&#x27;</span>;</span><br><span class="line">            c[<span class="number">8</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (CTN<span class="number">1.</span>c[<span class="number">0</span>] &gt;= <span class="string">&#x27;5&#x27;</span> &amp;&amp; CTN<span class="number">1.</span>c[<span class="number">0</span>] &lt;= <span class="string">&#x27;8&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">6</span>; i++) &#123;</span><br><span class="line">                c[i + <span class="number">1</span>] = CTN<span class="number">1.</span>c[i];</span><br><span class="line">            &#125;</span><br><span class="line">            c[<span class="number">0</span>] = <span class="string">&#x27;2&#x27;</span>;</span><br><span class="line">            c[<span class="number">8</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; c &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">CTelNumber</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">delete</span>[]c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">judge</span><span class="params">(<span class="type">char</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> tmp = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (p[<span class="number">0</span>] &gt;= <span class="string">&#x27;2&#x27;</span> &amp;&amp; p[<span class="number">0</span>] &lt;= <span class="string">&#x27;8&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        tmp = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; <span class="number">7</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (p[i] &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; p[i] &lt;= <span class="string">&#x27;9&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            tmp = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            tmp = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i, t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; t; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">char</span> ch[<span class="number">8</span>];</span><br><span class="line">        cin &gt;&gt; ch;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">judge</span>(ch))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="function">CTelNumber <span class="title">CM1</span><span class="params">(ch)</span></span>;</span><br><span class="line">            <span class="function">CTelNumber <span class="title">CM2</span><span class="params">(CM1)</span></span>;</span><br><span class="line">            CM<span class="number">2.</span><span class="built_in">print</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;Illegal phone number&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="d-软件备份-拷贝构造函数">D.软件备份(拷贝构造函数)</h1><h2 id="题目描述">题目描述</h2><p>软件作为一种对象也可以用类来描述，软件的属性包括软件名称、类型(分别用O、T和B表示原版、试用版还是备份)、有效截止日期(用CDate类子对象表示)和存储介质(分别用D、H和U表示光盘、磁盘和U盘)等。软件拷贝可通过拷贝构造函数来实现，此时在拷贝构造函数中软件类型改成“B”, 存储介质改为&quot;H&quot;，其它不变。试完成该类的拷贝构造、构造和打印(包括从2015年4月7日算起有效期还有多少天，是否过期)成员函数的实现。</p><p>当输入软件有效截止日期是0年0月0日，表示无日期限制，为unlimited；当输入日期在2015年4月7日之前，则是过期，表示为expired；如果输入日期在2015年4月7日之后，则显示之后的剩余天数。具体输出信息看输出范例。<br>附CDate类的实现：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CDate</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">int</span> year, month, day;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">CDate</span>(<span class="type">int</span> y, <span class="type">int</span> m, <span class="type">int</span> d);</span><br><span class="line">        <span class="function"><span class="type">bool</span> <span class="title">isLeapYear</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">getYear</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">getMonth</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">getDay</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">getDayofYear</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line">CDate::<span class="built_in">CDate</span>(<span class="type">int</span> y, <span class="type">int</span> m, <span class="type">int</span> d)</span><br><span class="line">&#123; </span><br><span class="line">    year = y, month = m,day = d;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">CDate::isLeapYear</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    <span class="keyword">return</span> (year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span>) || year % <span class="number">400</span> == <span class="number">0</span>; </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">CDate::getYear</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    <span class="keyword">return</span> year;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">CDate::getMonth</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    <span class="keyword">return</span> month;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">CDate::getDay</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    <span class="keyword">return</span> day;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">CDate::getDayofYear</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i, sum = day;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">13</span>] = &#123;<span class="number">0</span>, <span class="number">31</span>, <span class="number">28</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>&#125;;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">isLeapYear</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        a[<span class="number">2</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 求日期的天数</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; month; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        sum += a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CDate</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> year, month, day;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">CDate</span>(<span class="type">int</span> y, <span class="type">int</span> m, <span class="type">int</span> d);</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isLeapYear</span><span class="params">(<span class="type">int</span> year)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getYear</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getMonth</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getDay</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getDayofYear</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line">CDate::<span class="built_in">CDate</span>(<span class="type">int</span> y, <span class="type">int</span> m, <span class="type">int</span> d)</span><br><span class="line">&#123;</span><br><span class="line">    year = y, month = m, day = d;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">CDate::isLeapYear</span><span class="params">(<span class="type">int</span> year)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span>) || year % <span class="number">400</span> == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">CDate::getYear</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> year;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">CDate::getMonth</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> month;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">CDate::getDay</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> day;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">CDate::getDayofYear</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i, sum = day;</span><br><span class="line">    <span class="keyword">if</span> (year &gt; <span class="number">2015</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">2015</span>; j &lt; year; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">isLeapYear</span>(j))</span><br><span class="line">                sum += <span class="number">366</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                sum += <span class="number">365</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">13</span>] = &#123; <span class="number">0</span>, <span class="number">31</span>, <span class="number">28</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span> &#125;;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">isLeapYear</span>(year))</span><br><span class="line">    &#123;</span><br><span class="line">        a[<span class="number">2</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; month; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        sum += a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">soft</span> </span><br><span class="line">&#123;</span><br><span class="line">    string name;</span><br><span class="line">    <span class="type">char</span> type, medium;</span><br><span class="line">    CDate num;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">soft</span>(string name1, <span class="type">char</span> type1, <span class="type">char</span> medium1, <span class="type">int</span> year1, <span class="type">int</span> month1, <span class="type">int</span> day1) :<span class="built_in">num</span>(year1, month1, day1) &#123;</span><br><span class="line">        name = name1;</span><br><span class="line">        type = type1;</span><br><span class="line">        medium = medium1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">soft</span>(soft&amp; s) :<span class="built_in">num</span>(s.num) </span><br><span class="line">    &#123;</span><br><span class="line">        name = s.name;</span><br><span class="line">        type = <span class="string">&#x27;B&#x27;</span>;</span><br><span class="line">        medium = <span class="string">&#x27;H&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">string <span class="title">getname</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">string <span class="title">gettype</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (type) </span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;O&#x27;</span>:<span class="keyword">return</span> <span class="string">&quot;original&quot;</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;B&#x27;</span>:<span class="keyword">return</span> <span class="string">&quot;backup&quot;</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;T&#x27;</span>:<span class="keyword">return</span> <span class="string">&quot;trial&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">string <span class="title">getmedium</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (medium) </span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">case</span><span class="string">&#x27;D&#x27;</span>:<span class="keyword">return</span> <span class="string">&quot;optical disk&quot;</span>;</span><br><span class="line">        <span class="keyword">case</span><span class="string">&#x27;U&#x27;</span>:<span class="keyword">return</span> <span class="string">&quot;USB disk&quot;</span>;</span><br><span class="line">        <span class="keyword">case</span><span class="string">&#x27;H&#x27;</span>:<span class="keyword">return</span> <span class="string">&quot;hard disk&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">printdate</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="function">CDate <span class="title">stand_num</span><span class="params">(<span class="number">2015</span>, <span class="number">4</span>, <span class="number">7</span>)</span></span>;</span><br><span class="line">        <span class="keyword">if</span> (num.<span class="built_in">getDayofYear</span>() == <span class="number">0</span>) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;this software has unlimited use&quot;</span> &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (num.<span class="built_in">getDayofYear</span>() &lt; stand_num.<span class="built_in">getDayofYear</span>()) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;this software has expired&quot;</span> &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;this software is going to be expired in &quot;</span> &lt;&lt; num.<span class="built_in">getDayofYear</span>() - stand_num.<span class="built_in">getDayofYear</span>() &lt;&lt; <span class="string">&quot; days&quot;</span> &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">printsw</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;name:&quot;</span> &lt;&lt; <span class="built_in">getname</span>() &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;type:&quot;</span> &lt;&lt; <span class="built_in">gettype</span>() &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;media:&quot;</span> &lt;&lt; <span class="built_in">getmedium</span>() &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t, y, m, d;</span><br><span class="line">    string name;</span><br><span class="line">    <span class="type">char</span> type, medium;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--) &#123;</span><br><span class="line">        cin &gt;&gt; name &gt;&gt; type &gt;&gt; medium &gt;&gt; y &gt;&gt; m &gt;&gt; d;</span><br><span class="line">        <span class="function">soft <span class="title">sw1</span><span class="params">(name, type, medium, y, m, d)</span></span>;</span><br><span class="line">        sw<span class="number">1.</span><span class="built_in">printsw</span>();</span><br><span class="line">        sw<span class="number">1.</span><span class="built_in">printdate</span>();</span><br><span class="line">        <span class="function">soft <span class="title">sw2</span><span class="params">(sw1)</span></span>;</span><br><span class="line">        sw<span class="number">2.</span><span class="built_in">printsw</span>();</span><br><span class="line">        sw<span class="number">2.</span><span class="built_in">printdate</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="e-手机服务-构造-拷贝构造-堆">E.手机服务（构造+拷贝构造+堆）</h1><h2 id="题目描述">题目描述</h2><p>设计一个类来实现手机的功能。它包含私有属性：号码类型、号码、号码状态、停机日期；包含方法：构造、拷贝构造、打印、停机。</p><p>1、号码类型表示用户类别，只用单个字母，A表示机构，B表示企业、C表示个人</p><p>2、号码是11位整数，用一个字符串表示</p><p>3、号码状态用一个数字表示，1、2、3分别表示在用、未用、停用</p><p>4、停机日期是一个日期对象指针，在初始化时该成员指向空，该日期类包含私有属性年月日，以及构造函数和打印函数等</p><hr><p>5、构造函数的作用就是接受外来参数，并设置各个属性值,并输出提示信息，看示例输出</p><p>6、拷贝构造的作用是复制已有对象的信息，并输出提示信息，看示例输出。<br>想一下停机日期该如何复制，没有停机如何复制？？已经停机又如何复制？？</p><p>7、打印功能是把对象的所有属性都输出，输出格式看示例</p><p>8、停机功能是停用当前号码，参数是停机日期，无返回值，操作是把状态改成停用，并停机日期指针创建为动态对象，并根据参数来设置停机日期，最后输出提示信息，看示例输出</p><hr><p>要求：在主函数中实现号码备份的功能，对已有的虚拟手机号的所有信息进行复制，并将号码类型改成D表示备份；将手机号码末尾加字母X</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">phone</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">char</span> type;</span><br><span class="line">string num;</span><br><span class="line"><span class="type">int</span> state;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">phone</span>() &#123;&#125;;</span><br><span class="line"><span class="built_in">phone</span>(phone&amp; Mainframe);</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">set</span><span class="params">(<span class="type">char</span> t1, string n1, <span class="type">int</span> s1)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">stop</span><span class="params">(<span class="type">int</span> y, <span class="type">int</span> m, <span class="type">int</span> d)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line">phone::<span class="built_in">phone</span>(phone &amp; Mainframe)</span><br><span class="line">&#123;</span><br><span class="line">type = Mainframe.type;</span><br><span class="line">num = Mainframe.num;</span><br><span class="line">state = Mainframe.state;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Construct a copy of phone &quot;</span> &lt;&lt; num &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;类型=备份||&quot;</span>;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;号码=&quot;</span> &lt;&lt; num &lt;&lt; <span class="string">&quot;X&quot;</span>;</span><br><span class="line"><span class="keyword">switch</span> (state)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:cout &lt;&lt; <span class="string">&quot;||State=在用&quot;</span> &lt;&lt; endl; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:cout &lt;&lt; <span class="string">&quot;||State=未用&quot;</span> &lt;&lt; endl; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>:cout &lt;&lt; <span class="string">&quot;||State=停用&quot;</span> &lt;&lt; endl; <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">phone::set</span><span class="params">(<span class="type">char</span> t1, string n1, <span class="type">int</span> s1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">type = t1;</span><br><span class="line">num = n1;</span><br><span class="line">state = s1;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Construct a new phone &quot;</span> &lt;&lt; num &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">phone::print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">switch</span> (type)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span><span class="string">&#x27;A&#x27;</span>:cout &lt;&lt; <span class="string">&quot;类型=机构||&quot;</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span><span class="string">&#x27;B&#x27;</span>:cout &lt;&lt; <span class="string">&quot;类型=企业||&quot;</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span><span class="string">&#x27;C&#x27;</span>:cout &lt;&lt; <span class="string">&quot;类型=个人||&quot;</span>; <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;号码=&quot;</span> &lt;&lt; num;</span><br><span class="line"><span class="keyword">switch</span> (state)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:cout &lt;&lt; <span class="string">&quot;||State=在用&quot;</span> &lt;&lt; endl; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:cout &lt;&lt; <span class="string">&quot;||State=未用&quot;</span> &lt;&lt; endl; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>:cout &lt;&lt; <span class="string">&quot;||State=停用&quot;</span> &lt;&lt; endl; <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">phone::stop</span><span class="params">(<span class="type">int</span> y, <span class="type">int</span> m, <span class="type">int</span> d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Stop the phone &quot;</span> &lt;&lt; num &lt;&lt; endl;</span><br><span class="line"><span class="keyword">switch</span> (type)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span><span class="string">&#x27;A&#x27;</span>:cout &lt;&lt; <span class="string">&quot;类型=机构||&quot;</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span><span class="string">&#x27;B&#x27;</span>:cout &lt;&lt; <span class="string">&quot;类型=企业||&quot;</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span><span class="string">&#x27;C&#x27;</span>:cout &lt;&lt; <span class="string">&quot;类型=个人||&quot;</span>; <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;号码=&quot;</span> &lt;&lt; num &lt;&lt; <span class="string">&quot;||State=停用||停机日期=&quot;</span> &lt;&lt; y &lt;&lt; <span class="string">&quot;.&quot;</span> &lt;&lt; m &lt;&lt; <span class="string">&quot;.&quot;</span> &lt;&lt; d &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;----&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">char</span> type;</span><br><span class="line">string num;</span><br><span class="line"><span class="type">int</span> state, n, year, month, day;</span><br><span class="line">phone P;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="keyword">while</span> (n--)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; type &gt;&gt; num &gt;&gt; state &gt;&gt; year &gt;&gt; month &gt;&gt; day;</span><br><span class="line">P.<span class="built_in">set</span>(type, num, state);</span><br><span class="line">P.<span class="built_in">print</span>();</span><br><span class="line"><span class="function">phone <span class="title">p</span><span class="params">(P)</span></span>;</span><br><span class="line">p.<span class="built_in">stop</span>(year, month, day);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面向对象程序设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CPP_第6周</title>
      <link href="/posts/3026056826/"/>
      <url>/posts/3026056826/</url>
      
        <content type="html"><![CDATA[<h1 id="a-point-类与构造">A.Point(类与构造)</h1><h2 id="题目描述">题目描述</h2><p>下面是一个平面上的点的类定义，请在类外实现它的所有方法，并生成点测试它。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">double</span> x,y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Point</span>(); <span class="comment">//缺省构造函数，给x，y分别赋值为0</span></span><br><span class="line"><span class="built_in">Point</span>(<span class="type">double</span> x_value,<span class="type">double</span> y_value);<span class="comment">//有参构造函数，给x，y赋参数的值</span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">getX</span><span class="params">()</span></span>;<span class="comment">//返回x的值</span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">getY</span><span class="params">()</span></span>;<span class="comment">//返回y的值</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setX</span><span class="params">(<span class="type">double</span> x_value)</span></span>;<span class="comment">//设置x的值</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setY</span><span class="params">(<span class="type">double</span> y_value)</span></span>;<span class="comment">//设置y的值</span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">distanceToAnotherPoint</span><span class="params">(Point p)</span></span>;<span class="comment">//计算当前点到参数点P的距离</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">double</span> x, y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Point</span>();</span><br><span class="line"><span class="built_in">Point</span>(<span class="type">double</span> x_value, <span class="type">double</span> y_value);</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">getX</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">getY</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setX</span><span class="params">(<span class="type">double</span> x_value)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setY</span><span class="params">(<span class="type">double</span> y_value)</span></span>;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">distanceToAnotherPoint</span><span class="params">(Point p)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Point::<span class="built_in">Point</span>()</span><br><span class="line">&#123;</span><br><span class="line">x = <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Point::<span class="built_in">Point</span>(<span class="type">double</span> x_value, <span class="type">double</span> y_value)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;x = x_value;</span><br><span class="line"><span class="keyword">this</span>-&gt;y = y_value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Point::getX</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>-&gt;x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Point::getY</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>-&gt;y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Point::setX</span><span class="params">(<span class="type">double</span> x_value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;x=x_value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Point::setY</span><span class="params">(<span class="type">double</span> y_value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;y = y_value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Point::distanceToAnotherPoint</span><span class="params">(Point p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">sqrt</span>(<span class="built_in">pow</span>(<span class="keyword">this</span>-&gt;x - p.<span class="built_in">getX</span>(), <span class="number">2</span>) + <span class="built_in">pow</span>(<span class="keyword">this</span>-&gt;y - p.<span class="built_in">getY</span>(), <span class="number">2</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line"><span class="type">double</span> x1, y1, x2, y2, distance;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span>(t--)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;</span><br><span class="line"><span class="function">Point <span class="title">p1</span><span class="params">(x1, y1)</span></span>;</span><br><span class="line"><span class="function">Point <span class="title">p2</span><span class="params">(x2, y2)</span></span>;</span><br><span class="line">distance = p<span class="number">1.</span><span class="built_in">distanceToAnotherPoint</span>(p2);</span><br><span class="line">cout &lt;&lt; fixed &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">2</span>) &lt;&lt; <span class="string">&quot;Distance of Point(&quot;</span> &lt;&lt; x1 &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; y1 &lt;&lt; <span class="string">&quot;) to Point(&quot;</span> &lt;&lt; x2 &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; y2 &lt;&lt; <span class="string">&quot;) is &quot;</span> &lt;&lt; distance &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="b-date-类与构造">B.Date(类与构造)</h1><h2 id="题目描述">题目描述</h2><p>下面是一个日期类的定义，请在类外实现其所有的方法，并在主函数中生成对象测试之。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Date</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span>  year,month,day;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Date</span>();<span class="comment">//缺省构造函数，给year,month,day分别赋值为1900,1,1</span></span><br><span class="line"><span class="built_in">Date</span>(<span class="type">int</span> y,<span class="type">int</span> m,<span class="type">int</span> d);<span class="comment">//有参构造函数，给year，month，day分别赋参数的值</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getYear</span><span class="params">()</span></span>;<span class="comment">//返回当前日期的年份</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getMonth</span><span class="params">()</span></span>;<span class="comment">//返回当前日期的月份</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getDay</span><span class="params">()</span></span>;<span class="comment">//返回当前日期的日</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setDate</span><span class="params">(<span class="type">int</span> y,<span class="type">int</span> m,<span class="type">int</span> d)</span></span>;<span class="comment">//按参数重设日期的值</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>;<span class="comment">//按格式输出当前日期的年、月、日</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">addOneDay</span><span class="params">()</span></span>;<span class="comment">//在当前日期上加一天</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意，在判断明天日期时，要加入跨月、跨年、闰年的判断<br>例如9月30日的明天是10月1日，12月31日的明天是第二年的1月1日<br>2月28日的明天要区分是否闰年，闰年则是2月29日，非闰年则是3月1日</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Date</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> year, month, day;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Date</span>();</span><br><span class="line"><span class="built_in">Date</span>(<span class="type">int</span> y, <span class="type">int</span> m, <span class="type">int</span> d);</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getYear</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getMonth</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getDay</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setDate</span><span class="params">(<span class="type">int</span> y, <span class="type">int</span> m, <span class="type">int</span> d)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printf</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">addOneDay</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Date::<span class="built_in">Date</span>()</span><br><span class="line">&#123;</span><br><span class="line">year = <span class="number">1900</span>, month = <span class="number">1</span>, day = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Date::<span class="built_in">Date</span>(<span class="type">int</span> y, <span class="type">int</span> m, <span class="type">int</span> d)</span><br><span class="line">&#123;</span><br><span class="line">year = y;</span><br><span class="line">month = m; </span><br><span class="line">day = d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Date::getYear</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> year;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Date::getMonth</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> month;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Date::getDay</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> day;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Date::setDate</span><span class="params">(<span class="type">int</span> y, <span class="type">int</span> m, <span class="type">int</span> d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">year = y;</span><br><span class="line">month = m;</span><br><span class="line">day = d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Date::printf</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; year  &lt;&lt; <span class="string">&quot;/&quot;</span> &lt;&lt;<span class="built_in">setfill</span>(<span class="string">&#x27;0&#x27;</span>)&lt;&lt;<span class="built_in">setw</span>(<span class="number">2</span>) &lt;&lt; month &lt;&lt; <span class="string">&quot;/&quot;</span> &lt;&lt;<span class="built_in">setfill</span>(<span class="string">&#x27;0&#x27;</span>)&lt;&lt;<span class="built_in">setw</span>(<span class="number">2</span>) &lt;&lt; day &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Date::addOneDay</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> dm;</span><br><span class="line">day++;</span><br><span class="line"><span class="keyword">if</span> (month == <span class="number">2</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year / <span class="number">100</span> != <span class="number">0</span> || year % <span class="number">400</span> == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">dm = <span class="number">29</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">dm = <span class="number">28</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (month == <span class="number">1</span> || month == <span class="number">3</span> || month == <span class="number">5</span> || month == <span class="number">7</span> || month == <span class="number">8</span> || month == <span class="number">10</span> || month == <span class="number">12</span>)</span><br><span class="line">&#123;</span><br><span class="line">dm = <span class="number">31</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">dm = <span class="number">30</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (day &gt; dm)</span><br><span class="line">&#123;</span><br><span class="line">day = day - dm;</span><br><span class="line">month++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (month &gt; <span class="number">12</span>)</span><br><span class="line">&#123;</span><br><span class="line">month = month - <span class="number">12</span>;</span><br><span class="line">year++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t, y, m, d;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; y &gt;&gt; m &gt;&gt; d;</span><br><span class="line"><span class="keyword">if</span> (t % <span class="number">2</span> == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="function">Date <span class="title">a</span><span class="params">(y, m, d)</span></span>;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Today is &quot;</span>;</span><br><span class="line">a.<span class="built_in">printf</span>();</span><br><span class="line">a.<span class="built_in">addOneDay</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Tomorrow is &quot;</span>;</span><br><span class="line">a.<span class="built_in">printf</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">Date a;</span><br><span class="line">a.<span class="built_in">setDate</span>(y, m, d);</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Today is &quot;</span>;</span><br><span class="line">a.<span class="built_in">printf</span>();</span><br><span class="line">a.<span class="built_in">addOneDay</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Tomorrow is &quot;</span>;</span><br><span class="line">a.<span class="built_in">printf</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="c-分数类-类与构造">C.分数类（类与构造）</h1><h2 id="题目描述">题目描述</h2><p>完成下列分数类的实现:</p><p>class CFraction<br>{<br>private:<br>     int fz, fm;<br>public:<br>     CFraction(int fz_val, int fm_val) ;<br>     CFraction add(const CFraction &amp;r);<br>     CFraction sub(const CFraction &amp;r);<br>     CFraction mul(const CFraction &amp;r);<br>     CFraction div(const CFraction &amp;r);<br>     int getGCD();   // 求对象的分子和分母的最大公约数<br>     void print();<br>};</p><p>求两数a、b的最大公约数可采用辗转相除法，又称欧几里得算法，其步骤为:</p><ol><li>交换a, b使a &gt; b;</li><li>用a除b得到余数r,若r=0,则b为最大公约数,退出.</li><li>若r不为0,则用b代替a, r代替b,此时a,b都比上一次的小,问题规模缩小了;</li><li>继续第2步。</li></ol><p>注意：如果分母是1的话，也按“分子/1”的方式输出。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CFraction</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> fz, fm;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">CFraction</span>();</span><br><span class="line">    <span class="built_in">CFraction</span>(<span class="type">int</span> fz_val, <span class="type">int</span> fm_val)</span><br><span class="line">        :<span class="built_in">fz</span>(fz_val), <span class="built_in">fm</span>(fm_val) &#123;&#125;</span><br><span class="line">    <span class="function">CFraction <span class="title">add</span><span class="params">(<span class="type">const</span> CFraction&amp; r)</span></span>;</span><br><span class="line">    <span class="function">CFraction <span class="title">sub</span><span class="params">(<span class="type">const</span> CFraction&amp; r)</span></span>;</span><br><span class="line">    <span class="function">CFraction <span class="title">mul</span><span class="params">(<span class="type">const</span> CFraction&amp; r)</span></span>;</span><br><span class="line">    <span class="function">CFraction <span class="title">div</span><span class="params">(<span class="type">const</span> CFraction&amp; r)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getGCD</span><span class="params">()</span></span>;   </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">CFraction <span class="title">CFraction::add</span><span class="params">(<span class="type">const</span> CFraction&amp; r)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">CFraction</span>(fz * r.fm + fm * r.fz, fm * r.fm);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">CFraction <span class="title">CFraction::sub</span><span class="params">(<span class="type">const</span> CFraction&amp; r)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">CFraction</span>(fz * r.fm - fm * r.fz, fm * r.fm);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">CFraction <span class="title">CFraction::mul</span><span class="params">(<span class="type">const</span> CFraction&amp; r)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">CFraction</span>(fz * r.fz, fm * r.fm);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">CFraction <span class="title">CFraction::div</span><span class="params">(<span class="type">const</span> CFraction&amp; r)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">CFraction</span>(fz * r.fm, fm * r.fz);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">CFraction::getGCD</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> r ,a,b;</span><br><span class="line">    r = fm, a = <span class="built_in">fabs</span>(fz), b = <span class="built_in">fabs</span>(fm);</span><br><span class="line">    <span class="keyword">while</span> (a % b != <span class="number">0</span>) </span><br><span class="line">    &#123;</span><br><span class="line">        r = a % b;</span><br><span class="line">        a = b;</span><br><span class="line">        b = r;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CFraction::print</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> gcd = <span class="built_in">getGCD</span>();</span><br><span class="line">    fz /= gcd;</span><br><span class="line">    fm /= gcd;</span><br><span class="line">    string signal;</span><br><span class="line">    <span class="keyword">if</span> (fz / fz == fm / fm)</span><br><span class="line">        signal = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        signal = <span class="string">&quot;-&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (fm != <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; signal &lt;&lt; fz &lt;&lt; <span class="string">&quot;/&quot;</span> &lt;&lt; fm &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        cout &lt;&lt; signal &lt;&lt; fz &lt;&lt; <span class="string">&quot;/&quot;</span> &lt;&lt; <span class="string">&quot;1&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    <span class="type">int</span> fz1, fm1, fz2, fm2;</span><br><span class="line">    <span class="type">char</span> c;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--) &#123;</span><br><span class="line">        cin &gt;&gt; fz1 &gt;&gt; c &gt;&gt; fm1 &gt;&gt; fz2 &gt;&gt; c &gt;&gt; fm2;</span><br><span class="line">        <span class="function">CFraction <span class="title">cs1</span><span class="params">(fz1, fm1)</span></span>;</span><br><span class="line">        <span class="function">CFraction <span class="title">cs2</span><span class="params">(fz2, fm2)</span></span>;</span><br><span class="line">        CFraction cs3 = cs<span class="number">1.</span><span class="built_in">add</span>(cs2);</span><br><span class="line">        cs<span class="number">3.</span><span class="built_in">print</span>();</span><br><span class="line">        cs3 = cs<span class="number">1.</span><span class="built_in">sub</span>(cs2);</span><br><span class="line">        cs<span class="number">3.</span><span class="built_in">print</span>();</span><br><span class="line">        cs3 = cs<span class="number">1.</span><span class="built_in">mul</span>(cs2);</span><br><span class="line">        cs<span class="number">3.</span><span class="built_in">print</span>();</span><br><span class="line">        cs3 = cs<span class="number">1.</span><span class="built_in">div</span>(cs2);</span><br><span class="line">        cs<span class="number">3.</span><span class="built_in">print</span>();</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="d-point-array-类-构造-对象数组">D.Point_Array(类+构造+对象数组)</h1><h2 id="题目描述">题目描述</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">double</span> x,y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Point</span>(); <span class="comment">//缺省构造函数，给x，y分别赋值为0</span></span><br><span class="line"><span class="built_in">Point</span>(<span class="type">double</span> x_value,<span class="type">double</span> y_value);<span class="comment">//有参构造函数，给x，y赋参数的值</span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">getX</span><span class="params">()</span></span>;<span class="comment">//返回x的值</span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">getY</span><span class="params">()</span></span>;<span class="comment">//返回y的值</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setXY</span><span class="params">(<span class="type">double</span> x1,<span class="type">double</span> y1)</span></span>&#123;x=x1;y=y1&#125;</span><br><span class="line"><span class="type">void</span> <span class="built_in">setX</span>(<span class="type">double</span> x_value);<span class="comment">//设置x的值</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setY</span><span class="params">(<span class="type">double</span> y_value)</span></span>;<span class="comment">//设置y的值</span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">getDisTo</span><span class="params">(Point &amp;p)</span></span>;<span class="comment">//计算当前点到参数点P的距离</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面是我们曾经练习过的一个习题，请在原来代码的基础上作以下修改：</p><p>1、增加自写的析构函数；</p><p>2、将getDisTo方法的参数修改为getDisTo(const Point &amp;p)；</p><p>3、根据输出的内容修改相应的构造函数。</p><p>然后在主函数中根据用户输入的数目建立Point数组，求出数组内距离最大的两个点之间的距离值。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">double</span> x, y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Point</span>();</span><br><span class="line">~<span class="built_in">Point</span>()</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Distructor.&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Point</span>(<span class="type">double</span> x_val, <span class="type">double</span> y_val);</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">getX</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">getY</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setXY</span><span class="params">(<span class="type">double</span> x1, <span class="type">double</span> y1)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setX</span><span class="params">(<span class="type">double</span> x_val)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setY</span><span class="params">(<span class="type">double</span> y_val)</span></span>;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">getDisTo</span><span class="params">(<span class="type">const</span> Point&amp; p)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Point::<span class="built_in">Point</span>()</span><br><span class="line">&#123;</span><br><span class="line">x = <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Constructor.&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Point::<span class="built_in">Point</span>(<span class="type">double</span> x_val, <span class="type">double</span> y_val)</span><br><span class="line">&#123;</span><br><span class="line">x = x_val;</span><br><span class="line">y = y_val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Point::getX</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Point::getY</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Point::setXY</span><span class="params">(<span class="type">double</span> x1, <span class="type">double</span> y1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">x = x1;</span><br><span class="line">y = y1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Point::setX</span><span class="params">(<span class="type">double</span> x_val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">x = x_val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Point::setY</span><span class="params">(<span class="type">double</span> y_val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">y = y_val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Point::getDisTo</span><span class="params">(<span class="type">const</span> Point&amp; p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">sqrt</span>(<span class="built_in">pow</span>(x-p.x,<span class="number">2</span>)+<span class="built_in">pow</span>(y-p.y,<span class="number">2</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="type">int</span> x, y, i, j;</span><br><span class="line">Point* p = <span class="keyword">new</span> Point[n];</span><br><span class="line"><span class="keyword">for</span> ( i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">double</span> x1, y1;</span><br><span class="line">cin &gt;&gt; x1 &gt;&gt; y1;</span><br><span class="line">p[i].<span class="built_in">setXY</span>(x1, y1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">double</span> max = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> a1, a2;</span><br><span class="line"><span class="type">double</span> tmp;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (j = i + <span class="number">1</span>; j &lt; n; j++)</span><br><span class="line">&#123;</span><br><span class="line">tmp = p[i].<span class="built_in">getDisTo</span>(p[j]);</span><br><span class="line"><span class="keyword">if</span> (tmp &gt; max)</span><br><span class="line">&#123;</span><br><span class="line">max = tmp;</span><br><span class="line">a1 = i;</span><br><span class="line">a2 = j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;The longeset distance is &quot;</span> &lt;&lt; fixed &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">2</span>) &lt;&lt; max &lt;&lt; <span class="string">&quot;,between p[&quot;</span> &lt;&lt; a1 &lt;&lt; <span class="string">&quot;] and p[&quot;</span> &lt;&lt; a2 &lt;&lt; <span class="string">&quot;].&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">delete</span>[]p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="e-stack-类与构造">E.Stack(类与构造)</h1><h2 id="题目描述">题目描述</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CStack</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">CStack</span>();<span class="comment">//建立一个10个元素的栈</span></span><br><span class="line"><span class="built_in">CStack</span>(<span class="type">int</span> s);<span class="comment">//建立一个具有s个元素的栈</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">get</span><span class="params">(<span class="type">int</span> index)</span></span>;<span class="comment">//返回下标为index的栈元素</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">push</span><span class="params">(<span class="type">int</span> n)</span></span>;<span class="comment">//进栈，top加1，把n的值存入栈顶</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">isEmpty</span><span class="params">()</span></span>;<span class="comment">//判断栈是否为空，空则返回1，否则返回0</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">isFull</span><span class="params">()</span></span>;<span class="comment">//判断是否为满的，满则返回1，否则返回0</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">pop</span><span class="params">()</span></span>;<span class="comment">//出栈，返回栈顶元素，top减1</span></span><br><span class="line">~<span class="built_in">CStack</span>();<span class="comment">//析构函数，释放在构造时申请的空间</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> *a;</span><br><span class="line"><span class="type">int</span> size;<span class="comment">//栈的大小</span></span><br><span class="line"><span class="type">int</span> top;<span class="comment">//指向栈顶</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面是栈类的定义，栈是一种具有先进后出特点的线性表，请根据注释，完成类中所有方法的实现，并在主函数中测试之。</p><p>堆栈类的说明如下：</p><ol><li><p>堆栈的数据实际上是保存在数组a中，而a开始是一个指针，在初始化时，根据实际需求将a动态创建为数组，数组长度根据构造函数的参数决定。</p></li><li><p>size实际上就是数组的长度，当使用无参构造则size为10，当使用有参构造则size为s</p></li><li><p>top表示数组下标，也表示数组中下一个存放数据的空白位置。</p></li><li><p>push操作表示堆栈的数组存放一个数据，例如一开始数组为空，则top为0，当有数据要入栈时，把数据存放在a[top]的位置，然后top加1指向下一个空白位置、数据进栈只能从栈顶进。</p></li><li><p>pop操作表示一个数据要出栈，数据出栈只能从栈顶出，先把top减1指向栈顶数据，然后把数据返回。</p></li><li><p>判断堆栈空的条件是top是否等于0，判断堆栈满的条件是top是否等于size</p></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CStack</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span>* a;</span><br><span class="line"><span class="type">int</span> size;</span><br><span class="line"><span class="type">int</span> top;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">CStack</span>()</span><br><span class="line">&#123;</span><br><span class="line">a = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">10</span>];</span><br><span class="line">size = <span class="number">10</span>;</span><br><span class="line">top = <span class="number">0</span>;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Constructor.&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">CStack</span>(<span class="type">int</span> s)</span><br><span class="line">&#123;</span><br><span class="line">a = <span class="keyword">new</span> <span class="type">int</span>[s];</span><br><span class="line">size = s;</span><br><span class="line">top = <span class="number">0</span>;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Constructor.&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">get</span><span class="params">(<span class="type">int</span> index)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> *(a + index);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">push</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">a[top++] = n;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">isEmpty</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> top == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">isFull</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> top == size;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">pop</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> *(a + (--top));</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">CStack</span>()</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span>[]a;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Destructor.&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> i, j, t, size_1, m;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; t; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; size_1;</span><br><span class="line"><span class="function">CStack <span class="title">CStack1</span><span class="params">(size_1)</span></span>;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; size_1; j++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; m;</span><br><span class="line">CStack<span class="number">1.</span><span class="built_in">push</span>(m);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (CStack<span class="number">1.</span><span class="built_in">isEmpty</span>() == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;empty&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (CStack<span class="number">1.</span><span class="built_in">isFull</span>() == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; size_1<span class="number">-1</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; CStack<span class="number">1.</span><span class="built_in">pop</span>() &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; CStack<span class="number">1.</span><span class="built_in">pop</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面向对象程序设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CPP_第5周</title>
      <link href="/posts/2800245140/"/>
      <url>/posts/2800245140/</url>
      
        <content type="html"><![CDATA[<h1 id="a-对象数组-类和对象">A. 对象数组（类和对象）</h1><h2 id="题目描述">题目描述</h2><p>课堂上我们谈到类这个概念，比如第一题我们有学生类这个抽象的概念，成千上万个学生都具有同样的属性，但针对某个具体学生来说，他/她具有自己的鲜明个性，比如计算机专业的王海同学，信息工程学院的李慧同学，那么我们是定义一个该类的变量：Student  student; 假设该类包含姓名、学号、性别、所属学院、联系电话等；在程序运行过程，把变量student赋予不同值就可以让它表示是王海还是李慧，尝试定义一个学生数组（比如四个元素大小，请思考此时四个对象是如何初始化的呢？），然后输入四个不同学生各项属性给数组里学生初始化（最好定义一个输入函数），然后输出该学生对象数组的各对象的姓名。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Set</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">string name;</span><br><span class="line">string number;</span><br><span class="line">string sex;</span><br><span class="line">string college;</span><br><span class="line">string phone;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Student::Set</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cin &gt;&gt; name &gt;&gt; number &gt;&gt; sex &gt;&gt; college &gt;&gt; phone;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Student::Print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; name &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line">Student* p = <span class="keyword">new</span> Student[n];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">p[i].<span class="built_in">Set</span>();</span><br><span class="line">p[i].<span class="built_in">Print</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span>[]p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="b-存折类定义-类与对象">B.存折类定义（类与对象）</h1><h2 id="题目描述">题目描述</h2><p>定义一个存折类CAccount，存折类具有帐号（account, long）、姓名（name,char[10])、余额（balance,float）等数据成员，可以实现存款（deposit,操作成功提示“saving ok!”)、取款（withdraw，操作成功提示“withdraw ok!”）和查询余额（check）的操作，取款金额必须在余额范围内，否则提示“sorry! over limit!”。编写主函数，建立这个类的对象并测试，输入账号、姓名、余额后，按照查询余额、存款、查询余额、取款、查询余额的顺序调用类方法并输出。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CAccount</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">input</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">deposit</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">withdraw</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">check</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">long</span> account;</span><br><span class="line">string name;</span><br><span class="line"><span class="type">float</span> balance;</span><br><span class="line"><span class="type">double</span> deposit_amount;</span><br><span class="line"><span class="type">double</span> withdrawal_amount;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CAccount::input</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cin &gt;&gt; account &gt;&gt; name &gt;&gt; balance &gt;&gt; deposit_amount &gt;&gt; withdrawal_amount;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CAccount::deposit</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">balance += deposit_amount;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;saving ok!&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CAccount::withdraw</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (withdrawal_amount &gt; balance) </span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;sorry! over limit!&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">balance -= withdrawal_amount;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;withdraw ok!&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CAccount::check</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; name &lt;&lt; <span class="string">&quot;&#x27;s balance is &quot;</span> &lt;&lt; balance &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">CAccount a[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">a[i].<span class="built_in">input</span>();</span><br><span class="line">a[i].<span class="built_in">check</span>();</span><br><span class="line">a[i].<span class="built_in">deposit</span>();</span><br><span class="line">a[i].<span class="built_in">check</span>();</span><br><span class="line">a[i].<span class="built_in">withdraw</span>();</span><br><span class="line">a[i].<span class="built_in">check</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="c-点和圆-类与对象">C.点和圆 (类与对象)</h1><h2 id="题目描述">题目描述</h2><p>设计一个点类Point，包含属性：x坐标和y坐标，方法：设定坐标（setPoint），获取x坐标（getX），获取y坐标（getY）</p><p>设计一个圆类Circle，包含属性：圆心坐标x和y、半径r；方法包括：</p><ol><li><p>设定圆心（setCenter），设置圆心x坐标和y坐标</p></li><li><p>设定半径（setRadius），设置半径长度</p></li><li><p>计算面积（getArea），计算公式：面积=3.14*r*r</p></li><li><p>计算周长（getLength），计算公式：周长=2*3.14*r</p></li><li><p>包含（contain），判断一个圆是否包含一个点，计算圆心到这个点的距离，然后和半径做比较，大于则不包含，小于等于则包含</p></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//-----类定义-----</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="type">double</span> x, y;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SetPoint</span><span class="params">(<span class="type">double</span> x1, <span class="type">double</span> y1)</span></span>;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">getX</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">getY</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//----类实现------</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Point::SetPoint</span><span class="params">(<span class="type">double</span> x1, <span class="type">double</span> y1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">x = x1;</span><br><span class="line">y = y1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Point::getX</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Point::getY</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-----类定义------</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span></span><br><span class="line">&#123;</span><br><span class="line">Point p;</span><br><span class="line"><span class="type">double</span> r;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SetCenter</span><span class="params">(<span class="type">double</span> x1, <span class="type">double</span> y1)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SetRadius</span><span class="params">(<span class="type">double</span> n)</span></span>;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">getArea</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">getLength</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Contain</span><span class="params">(Point q)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//----类实现------</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Circle::SetCenter</span><span class="params">(<span class="type">double</span> x1, <span class="type">double</span> y1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">p.<span class="built_in">SetPoint</span>(x1, y1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Circle::SetRadius</span><span class="params">(<span class="type">double</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">r = n;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Circle::getArea</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">3.14</span> * r * r;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Circle::getLength</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">3.14</span> * <span class="number">2</span> * r;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Circle::Contain</span><span class="params">(Point q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">double</span> D_length;</span><br><span class="line">D_length = <span class="built_in">sqrt</span>((p.x - q.x) * (p.x - q.x) + (p.y - q.y) * (p.y - q.y));</span><br><span class="line"><span class="keyword">return</span> D_length;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//---------主函数---------</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">double</span> x, y, r, x1, y1;</span><br><span class="line"><span class="type">double</span> area, length;</span><br><span class="line">cin &gt;&gt; x &gt;&gt; y &gt;&gt; r &gt;&gt; x1 &gt;&gt; y1;</span><br><span class="line">Circle c;</span><br><span class="line">Point p;</span><br><span class="line">c.<span class="built_in">SetCenter</span>(x, y);</span><br><span class="line">c.<span class="built_in">SetRadius</span>(r);</span><br><span class="line">p.<span class="built_in">SetPoint</span>(x1, y1);</span><br><span class="line">area = c.<span class="built_in">getArea</span>();</span><br><span class="line">length = c.<span class="built_in">getLength</span>();</span><br><span class="line"><span class="keyword">if</span> (c.<span class="built_in">Contain</span>(p) &lt;= r)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; fixed &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">2</span>) &lt;&lt; area &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; fixed &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">2</span>) &lt;&lt; length &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; fixed &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">2</span>) &lt;&lt; area &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; fixed &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">2</span>) &lt;&lt; length &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;no&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="d-最胖的加菲-类与对象-数组">D.最胖的加菲（类与对象+数组）</h1><h2 id="题目描述">题目描述</h2><p>有一群猫猫，每只猫都有自己的名称和体重。</p><p>用类来描述猫，名称和体重都是私有属性，要求加入属性的get方法。其他函数根据需要自己定义</p><p>创建一个动态的猫对象数组，存储各只猫的名称和体重</p><p>根据猫的体重对数组做升序排序，并输出排序后每只猫的名称</p><p>题目涉及的数值均用整数处理</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">set</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cin &gt;&gt; name &gt;&gt; weight;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">get_wei</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> weight;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">get_nam</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">string name;</span><br><span class="line"><span class="type">int</span> weight;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Sort</span><span class="params">(Cat&amp; a, Cat&amp; b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Cat tmp;</span><br><span class="line"><span class="keyword">if</span> (a.<span class="built_in">get_wei</span>() &gt; b.<span class="built_in">get_wei</span>())</span><br><span class="line">&#123;</span><br><span class="line">tmp = a;</span><br><span class="line">a = b;</span><br><span class="line">b = tmp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line">Cat* p = <span class="keyword">new</span> Cat[n];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">p[i].<span class="built_in">set</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++)</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n - i; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">Sort</span>(p[j], p[j + <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">p[i].<span class="built_in">get_nam</span>();</span><br><span class="line"><span class="keyword">if</span> (i &lt; n - <span class="number">1</span>) cout &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span>[]p;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="e-身体评估-类与对象">E.身体评估（类与对象）</h1><h2 id="题目描述">题目描述</h2><p>评估成年人身体健康有多个指标，包括BMI、体脂率等</p><p>设计一个身体健康类，包含私有成员：姓名、身高(米)、体重(公斤)，腰围(厘米)，实现两个公有方法如下：</p><p>BMI方法，返回BMI数值(整数，四舍五入到个位)，计算公式BMI= 体重 / 身高的平方</p><p>体脂率方法，返回体脂率数值(浮点数)，计算过程如下：<br>1）参数a=腰围（cm）×0.74<br>2）参数b=体重（kg）×0.082+34.89<br>3）体脂肪重量（kg）=a－b<br>4）体脂率 = 体脂肪重量÷体重<br>其它方法根据需要自行定义</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Health</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">input</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">string name;</span><br><span class="line"><span class="type">double</span> height;</span><br><span class="line"><span class="type">double</span> weight;</span><br><span class="line"><span class="type">double</span> w_circumference;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Health::input</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cin &gt;&gt; name &gt;&gt; height &gt;&gt; weight &gt;&gt; w_circumference;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Health::display</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">double</span> bmi, a, b, c, d;</span><br><span class="line"><span class="type">int</span> BMI;</span><br><span class="line">bmi = weight / (height * height);</span><br><span class="line">BMI = <span class="built_in">round</span>(bmi);</span><br><span class="line">a = w_circumference * <span class="number">0.74</span>;</span><br><span class="line">b = weight * <span class="number">0.082</span> + <span class="number">34.89</span>;</span><br><span class="line">c = a - b;</span><br><span class="line">d = c / weight;</span><br><span class="line">cout &lt;&lt; name &lt;&lt; <span class="string">&quot;的BMI指数为&quot;</span> &lt;&lt; BMI &lt;&lt; <span class="string">&quot;--体脂率为&quot;</span> &lt;&lt; fixed &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">2</span>) &lt;&lt; d &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t, i;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line">Health* a = <span class="keyword">new</span> Health[t];</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; t; i++)</span><br><span class="line">&#123;</span><br><span class="line">a[i].<span class="built_in">input</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; t; i++)</span><br><span class="line">&#123;</span><br><span class="line">a[i].<span class="built_in">display</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span> []a;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面向对象程序设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CPP_第4周</title>
      <link href="/posts/508837617/"/>
      <url>/posts/508837617/</url>
      
        <content type="html"><![CDATA[<h1 id="a-三数论大小-引用">A.三数论大小（引用）</h1><h2 id="题目描述">题目描述</h2><p>输入三个整数，然后按照从大到小的顺序输出数值。</p><p>要求：定义一个函数，无返回值，函数参数是三个整数参数的引用，例如int &amp;a, int &amp;b, int &amp;c。在函数内对三个参数进行排序。主函数调用这个函数进行排序。</p><p>要求：不能直接对三个整数进行排序，必须通过函数而且是引用的方法。</p><p>要求：输出必须在主函数进行。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">int</span>&amp; ra, <span class="type">int</span>&amp; rb, <span class="type">int</span>&amp; rc)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t, a, b, c;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; t; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;</span><br><span class="line"><span class="built_in">fun</span>(a, b, c);</span><br><span class="line">cout &lt;&lt; a &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; c &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(<span class="type">int</span>&amp; ra, <span class="type">int</span>&amp; rb, <span class="type">int</span>&amp; rc)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> tmp;</span><br><span class="line"><span class="keyword">if</span> (ra &lt; rb)</span><br><span class="line">&#123;</span><br><span class="line">tmp = ra;</span><br><span class="line">ra = rb;</span><br><span class="line">rb = tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (ra &lt; rc)</span><br><span class="line">&#123;</span><br><span class="line">tmp = ra;</span><br><span class="line">ra = rc;</span><br><span class="line">rc = tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (rb &lt; rc)</span><br><span class="line">&#123;</span><br><span class="line">tmp = rb;</span><br><span class="line">rb = rc;</span><br><span class="line">rc = tmp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="b-求最大值最小值-引用">B.求最大值最小值（引用）</h1><h2 id="题目描述">题目描述</h2><p>编写函数void find(int *num,int n,int &amp;minIndex,int &amp;maxIndex)，求数组num(元素为num[0]，num[1]，…，num[n-1]）中取最小值、最大值的元素下标minIndex,maxIndex（若有相同最值，取第一个出现的下标。）</p><p>输入n，动态分配n个整数空间，输入n个整数，调用该函数求数组的最小值、最大值下标。</p><p>改变函数find功能不计分。</p><p>要求：在main函数中按样例格式输出结果，不能直接在find函数中输出。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">find</span><span class="params">(<span class="type">int</span>* num, <span class="type">int</span> n, <span class="type">int</span>&amp; minIndex, <span class="type">int</span>&amp; maxIndex)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (num[i] &gt; num[maxIndex])</span><br><span class="line">&#123;</span><br><span class="line">maxIndex = i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (num[i] &lt; num[minIndex])</span><br><span class="line">&#123;</span><br><span class="line">minIndex = i;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t, i, n, maxIndex, minIndex;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line">maxIndex = minIndex = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span>* array = <span class="keyword">new</span> <span class="type">int</span>[n];</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; array[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">find</span>(array, n, minIndex, maxIndex);</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;min=&quot;</span> &lt;&lt; array[minIndex] &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; <span class="string">&quot;minindex=&quot;</span> &lt;&lt; minIndex &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;max=&quot;</span> &lt;&lt; array[maxIndex] &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; <span class="string">&quot;maxindex=&quot;</span> &lt;&lt; maxIndex &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span>[]array;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="c-职工信息-结构体">C.职工信息 (结构体)</h1><h2 id="题目描述">题目描述</h2><p>编写程序，定义一个职工信息结构包括职工姓名、工作年限、工资总额。定义一个存放职工信息的结构数组</p><p>程序实现初始化5名职工的信息，并对工作年限大于等于30年的职工每人加100元工资，分别输出工资变化之前和之后的所有职工的信息。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">struct</span>  <span class="title class_">Person</span> &#123;</span><br><span class="line"><span class="type">char</span> name[<span class="number">10</span>];</span><br><span class="line"><span class="type">int</span> year;</span><br><span class="line"><span class="type">int</span> wages;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Person</span> array[<span class="number">6</span>];</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; array[i].name &gt;&gt; array[i].year &gt;&gt; array[i].wages;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;原始工资&quot;</span> &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;姓名&quot;</span> &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; <span class="string">&quot;年限&quot;</span> &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; <span class="string">&quot;工资&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; array[i].name &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; array[i].year &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; array[i].wages &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;加薪后工资&quot;</span> &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;姓名&quot;</span> &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; <span class="string">&quot;年限&quot;</span> &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; <span class="string">&quot;工资&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; array[i].name &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; array[i].year &lt;&lt; <span class="string">&quot; &quot;</span> ;</span><br><span class="line"><span class="keyword">if</span> (array[i].year &gt;= <span class="number">30</span>)</span><br><span class="line">&#123;</span><br><span class="line">array[i].wages += <span class="number">100</span>;</span><br><span class="line">cout &lt;&lt; array[i].wages &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; array[i].wages &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="d-谁是老二-结构体">D.谁是老二（结构体）</h1><h2 id="题目描述">题目描述</h2><p>定义一个结构体，包含年月日，表示一个学生的出生日期。然后在一群学生的出生日期中找出谁的出生日期排行第二</p><p>要求：出生日期的存储必须使用结构体，不能使用其他类型的数据结构。</p><p>要求程序全过程对出生日期的输入、访问、输出都必须使用结构。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">birth</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> year;</span><br><span class="line">    <span class="type">int</span> month;</span><br><span class="line">    <span class="type">int</span> day;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span><span class="params">(birth&amp; a, birth&amp; b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    birth tmp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">compare</span><span class="params">(birth&amp; a, birth&amp; b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a.year &gt; b.year)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (a.year &lt; b.year)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (a.month &gt; b.month) </span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (a.month &lt; b.month) </span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> a.day &gt; b.day;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i, j, k, t;</span><br><span class="line">    birth member[<span class="number">100</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; t; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; member[i].year &gt;&gt; member[i].month &gt;&gt; member[i].day;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; t; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; t - i - <span class="number">1</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">compare</span>(member[j], member[j + <span class="number">1</span>]))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">swap</span>(member[j], member[j + <span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; member[<span class="number">1</span>].year &lt;&lt; <span class="string">&#x27;-&#x27;</span> &lt;&lt; member[<span class="number">1</span>].month &lt;&lt; <span class="string">&#x27;-&#x27;</span> &lt;&lt; member[<span class="number">1</span>].day &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="e-抄袭查找-结构体-指针-函数">E.抄袭查找（结构体+指针+函数）</h1><h2 id="题目描述">题目描述</h2><p>已知一群学生的考试试卷，要求对试卷内容进行对比，查找是否有抄袭。</p><p>每张试卷包含：学号（整数类型）、题目1答案（字符串类型）、题目2答案（字符串类型）、题目3答案（字符串类型）</p><p>要求：使用结构体来存储试卷的信息。定义一个函数，返回值为一个整数，参数是两个结构体指针，函数操作是比较两张试卷的每道题目的答案，如果相同题号的答案相似度超过90%，那么就认为有抄袭，函数返回抄袭题号，否则返回0。相似度是指在同一题目中，两个答案的逐个位置上的字符两两比较，相同的数量大于等于任一个答案的长度的90%，就认为抄袭。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">exampaper</span> &#123;</span><br><span class="line"><span class="type">int</span> id;</span><br><span class="line">string answer[<span class="number">4</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">compare</span><span class="params">(string a, string b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="type">double</span> len = <span class="number">0</span>, sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (a[i] != <span class="string">&#x27;\0&#x27;</span> &amp;&amp; b[i] != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (a[i] == b[i])</span><br><span class="line">&#123;</span><br><span class="line">sum++;</span><br><span class="line">&#125;</span><br><span class="line">i++, len++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (len * <span class="number">0.9</span> &lt;= sum)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line">exampaper* student = <span class="keyword">new</span> exampaper[t];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; t; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; student[i].id;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; student[i].answer[j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; t; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> k = j + <span class="number">1</span>; k &lt; t; k++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">compare</span>(student[j].answer[i], student[k].answer[i])== <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; student[j].id &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; student[k].id &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; i + <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面向对象程序设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CPP_第3周</title>
      <link href="/posts/2206402120/"/>
      <url>/posts/2206402120/</url>
      
        <content type="html"><![CDATA[<h1 id="a-月份查询-指针数组">A.月份查询（指针数组）</h1><h2 id="题目描述">题目描述</h2><p>已知每个月份的英文单词如下，要求创建一个指针数组，数组中的每个指针指向一个月份的英文字符串，要求根据输入的月份数字输出相应的英文单词</p><p>1月 January <br>2月 February<br>3月 March<br>4月 April<br>5月 May<br>6月 June<br>7月 July<br>8月 August<br>9月 September<br>10月 October<br>11月 November<br>12月 December</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t, x;</span><br><span class="line"><span class="type">const</span> <span class="type">char</span>* mouth[<span class="number">12</span>] = &#123; <span class="string">&quot;January&quot;</span>,<span class="string">&quot;February&quot;</span>,<span class="string">&quot;March&quot;</span>,<span class="string">&quot;April&quot;</span>,<span class="string">&quot;May&quot;</span>,<span class="string">&quot;June&quot;</span>,<span class="string">&quot;July&quot;</span>,<span class="string">&quot;Aguest&quot;</span>,<span class="string">&quot;September&quot;</span>,<span class="string">&quot;October&quot;</span>,<span class="string">&quot;November&quot;</span>,<span class="string">&quot;December&quot;</span> &#125;;</span><br><span class="line"></span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--) &#123;</span><br><span class="line">cin &gt;&gt; x;</span><br><span class="line"><span class="keyword">if</span> (x &lt; <span class="number">1</span> || x&gt;<span class="number">12</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;error&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; *(mouth + x - <span class="number">1</span>) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="b-字符串比较-指针与字符">B.字符串比较（指针与字符）</h1><h2 id="题目描述">题目描述</h2><p>编写一个函数比较两个字符串，参数是两个字符指针（要求显式定义，例如char *S, char *T)，比较字符串S和T的大小。如果S大于T，则返回1，如果S小于T则返回-1，如果S与T相等则返回0。</p><p>比较规则：</p><p>1.把两个字符串的相同位置上的字符进行比较，字符的大小比较以ASCII值为准</p><p>2.在比较中，如果字符串S的字符大于字符串T的字符的数量超过小于的数量，则认为S大于T，如果等于则S等于T，如果小于则S小于T</p><p>例如S为aaccdd，T为eebbbb，每个位置比较得到S前两个字母都小于T，但后4个字母都大于T，最终认为S大于T</p><p>3.如果两个字符串长度不同，则更长的字符串为大</p><p>在主函数中输入两个字符串，并调用该函数进行判断，在判断函数中必须使用函数参数的指针进行字符比较</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Compare</span><span class="params">(<span class="type">char</span>* p1, <span class="type">int</span> long1, <span class="type">char</span>* p2, <span class="type">int</span> long2)</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> count1 = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> count2 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (long1 != long2)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (long1 &gt; long2)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (long1 &lt; long2)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; long1; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">int</span>(*(p1 + i)) &gt; <span class="built_in">int</span>(*(p2 + i)))</span><br><span class="line">&#123;</span><br><span class="line">count1++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">int</span>(*(p1 + i)) &lt; <span class="built_in">int</span>(*(p2 + i)))</span><br><span class="line">&#123;</span><br><span class="line">count2++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (count1 &gt; count2)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (count1 &lt; count2)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line"><span class="type">char</span> str1[<span class="number">100</span>];</span><br><span class="line"><span class="type">char</span> str2[<span class="number">100</span>];</span><br><span class="line">cin &gt;&gt; str1;</span><br><span class="line">cin &gt;&gt; str2;</span><br><span class="line"><span class="type">int</span> long1 = <span class="built_in">strlen</span>(str1);</span><br><span class="line"><span class="type">int</span> long2 = <span class="built_in">strlen</span>(str2);</span><br><span class="line">cout &lt;&lt; <span class="built_in">Compare</span>(str1, long1, str2, long2) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="c-成绩查询-指针运算">C.成绩查询（指针运算）</h1><h2 id="题目描述">题目描述</h2><p>已知一组学生成绩，然后根据输入的序号查询成绩</p><p>要求：</p><ol><li><p>使用一个整数数组存储学生成绩</p></li><li><p>使用一个指针指向数组中间元素</p></li><li><p>求出数组中间元素的前一个成绩和后一个成绩</p></li><li><p>输入一个序号，然后计算这个序号的元素和中间元素的距离，然后使用指针去访问<br>例如有11个学生，指针指向中间的学生也就是第6个学生，若输入序号3，即查询第3个学生的成绩，第3和第6之间距离为3，那么指针应该怎么运算呢？？？</p></li><li><p>整个程序除了输入时可以使用数组下标，其他部分尽量使用使用指针进行访问。</p></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t, num, n;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">while</span> (t--)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="type">int</span>* a = <span class="keyword">new</span> <span class="type">int</span>[n];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line"> &#125;</span><br><span class="line"><span class="type">int</span>* m = <span class="keyword">new</span> <span class="type">int</span>[n];</span><br><span class="line">m = a + n / <span class="number">2</span>;</span><br><span class="line">m--;</span><br><span class="line">cout &lt;&lt; *m &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">m += <span class="number">2</span>;</span><br><span class="line">cout &lt;&lt; *m &lt;&lt; endl;</span><br><span class="line">m--;</span><br><span class="line">cin &gt;&gt; num;</span><br><span class="line">m += num - (n / <span class="number">2</span> + <span class="number">1</span>);</span><br><span class="line">cout &lt;&lt; *m &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="d-动态矩阵-指针与堆内存分配">D.动态矩阵（指针与堆内存分配）</h1><h2 id="题目描述">题目描述</h2><p>未知一个整数矩阵的大小，在程序运行时才会输入矩阵的行数m和列数n</p><p>要求使用指针，结合new方法，动态创建一个二维数组，并求出该矩阵的最小值和最大值，可以使用数组下标法。</p><p>不能先创建一个超大矩阵，然后只使用矩阵的一部分空间来进行数据访问、</p><p>创建的矩阵大小必须和输入的行数m和列数n一样</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t, i, j, k, m, n, max, min;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line">i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i &lt; t) </span><br><span class="line">&#123;</span><br><span class="line">i++;</span><br><span class="line">cin &gt;&gt; m &gt;&gt; n;</span><br><span class="line"><span class="type">int</span>** a = <span class="keyword">new</span> <span class="type">int</span>* [m];</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; m; j++)</span><br><span class="line">&#123;</span><br><span class="line">a[j] = <span class="keyword">new</span> <span class="type">int</span>[n];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; m; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; n; k++)</span><br><span class="line">&#123;</span><br><span class="line">cin &gt;&gt; a[j][k];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">max = **a;</span><br><span class="line">min = **a;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; m; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; n; k++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (*(*(a + j) + k) &gt; max)</span><br><span class="line">&#123;</span><br><span class="line">max = *(*(a + j) + k);</span><br><span class="line"> &#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(*(*(a+j)+k)&lt;min)</span><br><span class="line">&#123;</span><br><span class="line">min = *(*(a + j) + k);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; min &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; max &lt;&lt; endl;</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; m; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span>[]a[j];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span>[]a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="e-密钥加密法-指针应用">E.密钥加密法（指针应用）</h1><h2 id="题目描述">题目描述</h2><p>有一种方式是使用密钥进行加密的方法，就是对明文的每个字符使用密钥上对应的密码进行加密，最终得到密文</p><p>例如明文是abcde，密钥是234，那么加密方法就是a对应密钥的2，也就是a偏移2位转化为c；明文b对应密钥的3，就是b偏移3位转化为e，同理c偏移4位转化为g。这时候密钥已经使用完，那么又重头开始使用。因此明文的d对应密钥的2，转化为f，明文的e对应密钥的3转化为h。所以明文abcde，密钥234，经过加密后得到密文是cegfh。</p><p>如果字母偏移的位数超过26个字母范围，则循环偏移，例如字母z偏移2位，就是转化为b，同理字母x偏移5位就是转化为c</p><p>要求：使用三个指针p、q、s分别指向明文、密钥和密文，然后使用指针p和q来访问每个位置的字符，进行加密得到密文存储在指针s指向的位置。</p><p>除了变量定义和输入数据，其他过程都不能使用数组下标法，必须使用三个指针来访问明文、密钥和密文。</p><p>提示：当指针q已经移动到密钥的末尾，但明文仍然没有结束，那么q就跳回密钥头</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t, i=<span class="number">0</span>;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="type">char</span>* p, * s;</span><br><span class="line">    <span class="type">char</span>* q;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;t)</span><br><span class="line">    &#123;</span><br><span class="line">        i++;</span><br><span class="line">        <span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line">        <span class="type">char</span> plain[<span class="number">21</span>];</span><br><span class="line">        <span class="type">char</span> key[<span class="number">21</span>];</span><br><span class="line"></span><br><span class="line">        cin &gt;&gt; plain;</span><br><span class="line">        cin &gt;&gt; key;</span><br><span class="line"></span><br><span class="line">        s = <span class="keyword">new</span> <span class="type">char</span>[<span class="number">21</span>];</span><br><span class="line">        p = &amp;plain[<span class="number">0</span>];</span><br><span class="line">        q = &amp;key[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> o = <span class="number">0</span>; o &lt;= <span class="built_in">strlen</span>(plain); o++) &#123;</span><br><span class="line">            j = o % <span class="built_in">strlen</span>(q);</span><br><span class="line">            <span class="keyword">if</span> (*(p + o) &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; *(p + o) &lt;= <span class="string">&#x27;z&#x27;</span>) &#123;</span><br><span class="line">                *(s + o) = (*(p + o) + *(q + j) - <span class="string">&#x27;0&#x27;</span> - <span class="string">&#x27;a&#x27;</span>) % <span class="number">26</span> + <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (*(p + o) &gt;= <span class="string">&#x27;A&#x27;</span> &amp;&amp; *(p + o) &lt;= <span class="string">&#x27;Z&#x27;</span>) &#123;</span><br><span class="line">                *(s + o) = (*(p + o) + *(q + j) - <span class="string">&#x27;0&#x27;</span> - <span class="string">&#x27;A&#x27;</span>) % <span class="number">26</span> + <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> o = <span class="number">0</span>; o &lt; <span class="built_in">strlen</span>(plain); o++) &#123;</span><br><span class="line">            cout &lt;&lt; *(s + o);</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">delete</span>[]s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面向对象程序设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CPP_第2周</title>
      <link href="/posts/994009389/"/>
      <url>/posts/994009389/</url>
      
        <content type="html"><![CDATA[<h1 id="a-三数论大小-指针">A.三数论大小（指针）</h1><h2 id="题目描述">题目描述</h2><p>输入三个整数，然后按照从大到小的顺序输出数值。<br>要求：用三个指针分别指向这三个整数，排序过程必须通过这三个指针来操作，不能直接访问这三个整数<br>输出时，必须使用这三个指针，不能使用存储三个整数的变量</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a, b, c, t;</span><br><span class="line">    <span class="type">int</span>* p1, * p2, * p3;</span><br><span class="line">    <span class="type">int</span> tmp;</span><br><span class="line"></span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= t; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;</span><br><span class="line">        p1 = &amp;a;</span><br><span class="line">        p2 = &amp;b;</span><br><span class="line">        p3 = &amp;c;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (*p1 &lt; *p2)</span><br><span class="line">        &#123;</span><br><span class="line">            tmp = *p1;</span><br><span class="line">            *p1 = *p2;</span><br><span class="line">            *p2 = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (*p1 &lt; *p3)</span><br><span class="line">        &#123;</span><br><span class="line">            tmp = *p1;</span><br><span class="line">            *p1 = *p3;</span><br><span class="line">            *p3 = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (*p2 &lt; *p3)</span><br><span class="line">        &#123;</span><br><span class="line">            tmp = *p2;</span><br><span class="line">            *p2 = *p3;</span><br><span class="line">            *p3 = tmp;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        cout &lt;&lt; *p1&lt;&lt; <span class="string">&quot; &quot;</span>&lt;&lt;  *p2 &lt;&lt;<span class="string">&quot; &quot;</span> &lt;&lt; *p3 &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="b-货币兑换-指针与常量">B.货币兑换（指针与常量）</h1><h2 id="题目描述">题目描述</h2><p>设定以下汇率常量</p><p>美元汇率为6.2619，表示1美元兑换6.2619元人民币</p><p>欧元汇率为6.6744，表示1欧元兑换6.6744元人民币</p><p>日元汇率为0.0516，表示1元日元兑换0.0516元人民币</p><p>港币汇率为0.9200，表示1元港币币兑换0.92元人民币</p><p>定义一个常量指针，根据需求指针指向不同的汇率，然后计算出各种货币兑换为人民币的数量</p><p>要求：不能直接使用汇率常量进行计算，必须使用常量指针，只能使用一个指针</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">double</span>* p;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    <span class="type">char</span> ch;</span><br><span class="line">    <span class="type">double</span> d = <span class="number">6.2619</span>, e = <span class="number">6.6744</span>, y = <span class="number">0.0516</span>, h = <span class="number">0.8065</span>;</span><br><span class="line">    <span class="type">double</span> a;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= t; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; ch;</span><br><span class="line">        cin &gt;&gt; a;</span><br><span class="line">        p = &amp;a;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">&#x27;D&#x27;</span>) </span><br><span class="line">        &#123;</span><br><span class="line">            p = &amp;d;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">&#x27;E&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            p = &amp;e;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">&#x27;Y&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            p = &amp;y;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">&#x27;H&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            p = &amp;h;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; fixed &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">4</span>) &lt;&lt; a * (*p) &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="c-动态数组-指针与数组">C.动态数组（指针与数组）</h1><h2 id="题目描述">题目描述</h2><p>一开始未知数组长度，根据要求创建不同类型的指针，并且使用指针创建相应长度的数组，然后再完成不同的要求</p><p>若要求创建整数数组，计算数组内所有数据的平均值</p><p>若要求创建字符数组，找出数组内的最大字母</p><p>若要求创建浮点数数组，找出数组的最小值</p><p>要求程序整个过程不能使用数组下标，从数组创建、输入到搜索、比较、计算，到输出都必须使用指针</p><p>提示：使用new关键字</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t, n;</span><br><span class="line">    <span class="type">char</span> ch;</span><br><span class="line"></span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; t; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; ch;</span><br><span class="line">        cin &gt;&gt; n;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">&#x27;I&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span>* i = <span class="keyword">new</span> <span class="type">int</span>[n];</span><br><span class="line">            <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                cin &gt;&gt; *(i + j);</span><br><span class="line">                sum += *(i + j);</span><br><span class="line">            &#125;</span><br><span class="line">            cout &lt;&lt; sum / n &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">&#x27;C&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">char</span>* c = <span class="keyword">new</span> <span class="type">char</span>[n];</span><br><span class="line">            <span class="type">char</span> max;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                cin &gt;&gt; *(c + j);</span><br><span class="line">                <span class="keyword">if</span> (j == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    max = *(c);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (*(c + j) &gt; max)</span><br><span class="line">                    &#123;</span><br><span class="line">                        max = *(c + j);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            cout &lt;&lt; max &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">&#x27;F&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">double</span>* f = <span class="keyword">new</span> <span class="type">double</span>[n];</span><br><span class="line">            <span class="type">double</span> min;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                cin &gt;&gt; *(f + j);</span><br><span class="line">                <span class="keyword">if</span> (j == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    min = *(f);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (*(f + j) &lt; min)</span><br><span class="line">                    &#123;</span><br><span class="line">                        min = *(f + j);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            cout &lt;&lt; min &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="d-三串合一-指针与字符数组">D.三串合一（指针与字符数组）</h1><h2 id="题目描述">题目描述</h2><p>输入三个字符串，通过指针读取各个字符串的子串（子串是指字符串中连续的一小部分），把它们合并成一个新字符串</p><p>要求：</p><ol><li>三个字符串的创建和输入可以使用数组，也可以不用</li><li>输入后，根据三个字符串的子串的长度，计算出新字符串的长度</li><li>使用动态数组的方法创建新的字符串，并且使用指针读取三个字符串的不同部分，并且复制到新字符串中，要求整个过程都不能使用数组下标</li><li>使用指针输出新的字符串</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">myget</span><span class="params">(<span class="type">char</span>* p, <span class="type">char</span>* p1, <span class="type">char</span>* p2, <span class="type">char</span>* p3, <span class="type">char</span>* p4, <span class="type">char</span>* p5, <span class="type">char</span>* p6)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (p1 != p4)  *p++ = *p1++;</span><br><span class="line">    <span class="keyword">while</span> (p2 != p5)  *p++ = *p2++;</span><br><span class="line">    <span class="keyword">while</span> (p3 != p6)  *p++ = *p3++;</span><br><span class="line">    *p = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">char</span> a[<span class="number">15</span>], b[<span class="number">15</span>], c[<span class="number">15</span>];</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;</span><br><span class="line">        <span class="type">int</span> a1, a2, b1, b2, c1, c2;</span><br><span class="line">        cin &gt;&gt; a1 &gt;&gt; a2 &gt;&gt; b1 &gt;&gt; b2 &gt;&gt; c1 &gt;&gt; c2;</span><br><span class="line">        <span class="type">int</span> len = a2 + b2 + c2 - (a1 + b1 + c1) + <span class="number">3</span>;</span><br><span class="line">        <span class="type">char</span>* arr = <span class="keyword">new</span> <span class="type">char</span>[len + <span class="number">1</span>];</span><br><span class="line">        <span class="type">char</span>* p = arr;</span><br><span class="line">        <span class="type">char</span>* p1 = a + a1 - <span class="number">1</span>;</span><br><span class="line">        <span class="type">char</span>* p2 = b + b1 - <span class="number">1</span>;</span><br><span class="line">        <span class="type">char</span>* p3 = c + c1 - <span class="number">1</span>;</span><br><span class="line">        <span class="type">char</span>* p4 = a + a2;</span><br><span class="line">        <span class="type">char</span>* p5 = b + b2;</span><br><span class="line">        <span class="type">char</span>* p6 = c + c2;</span><br><span class="line">        <span class="built_in">myget</span>(p, p1, p2, p3, p4, p5, p6);</span><br><span class="line">        cout &lt;&lt; arr &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">delete</span>[]arr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="e-矩阵左转-指针与数组">E.矩阵左转（指针与数组）</h1><h2 id="题目描述">题目描述</h2><p>输入一个2*3的矩阵，将这个矩阵向左旋转90度后输出</p><p>比如现在有2*3矩阵 ：</p><p>1 2 3</p><p>4 5 6</p><p>向左旋转90度后的矩阵变为：</p><p>3 6</p><p>2 5</p><p>1 4</p><p>要求：除了矩阵创建和数据输入可以使用数组和数组下标的方法，其他过程对矩阵的任何访问都必须使用指针</p><p>提示：m行n列的二维矩阵，第i行第j列的元素与首元素的距离为i*n+j，序号从0开始计算</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">change</span><span class="params">(<span class="type">int</span>* arr1, <span class="type">int</span>* arr2, <span class="type">int</span> m, <span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++) </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            *(arr2 + (m - j) * m + i) = *(arr1 + i * n + j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="type">int</span> arr1[<span class="number">2</span>][<span class="number">3</span>], arr2[<span class="number">3</span>][<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                cin &gt;&gt; arr1[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">change</span>(arr1[<span class="number">0</span>], arr2[<span class="number">0</span>], <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">2</span>; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                cout &lt;&lt; arr2[i][j] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            cout &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面向对象程序设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CPP_第1周</title>
      <link href="/posts/696962755/"/>
      <url>/posts/696962755/</url>
      
        <content type="html"><![CDATA[<h1 id="a-表面积计算">A.表面积计算</h1><h2 id="题目描述">题目描述</h2><p>给出一个立方体的长宽高，计算它的表面积</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a, b, c, t, s, i;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; t; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;</span><br><span class="line">        s = <span class="number">2</span> * a * b + <span class="number">2</span> * b * c + <span class="number">2</span> * c * a;</span><br><span class="line">        cout &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="b-表达式求值">B.表达式求值</h1><h2 id="题目描述">题目描述</h2><p>对以下表达式进行求值，a、b、c是三个变量，它们都是小于100的自然数</p><p>a+b&gt;c&amp;&amp;b==c</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a, b, c, t, s, i;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;t;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;</span><br><span class="line">        <span class="keyword">if</span> (a + b &gt; c &amp;&amp; b == c)</span><br><span class="line">        &#123;</span><br><span class="line">            s = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">        &#123;</span><br><span class="line">            s = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="c-成绩评定">C.成绩评定</h1><h2 id="题目描述">题目描述</h2><p>对于给出0～100之间的成绩进行成绩评定，大于等于85是A，75分至85以下是B，65至75分以下是C，60至65分以下是D，60分以下是F</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">double</span> a, t, i;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=t;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; a;</span><br><span class="line">        <span class="keyword">if</span> (a &gt;= <span class="number">85</span>)</span><br><span class="line">            cout &lt;&lt; <span class="string">&#x27;A&#x27;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (a &gt;= <span class="number">75</span>)</span><br><span class="line">            cout &lt;&lt; <span class="string">&#x27;B&#x27;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (a &gt;= <span class="number">65</span>)</span><br><span class="line">            cout &lt;&lt; <span class="string">&#x27;C&#x27;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (a &gt;= <span class="number">60</span>)</span><br><span class="line">            cout &lt;&lt; <span class="string">&#x27;D&#x27;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            cout &lt;&lt; <span class="string">&#x27;F&#x27;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="d-超重青蛙">D.超重青蛙</h1><h2 id="题目描述">题目描述</h2><p>在青蛙王国，每个青蛙有着不同的体重。<br>给出一组青蛙的体重，计算里面超出平均体重的青蛙数量。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> max 100</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> t,i,j;</span><br><span class="line"><span class="type">double</span> c[max],a,b,s;</span><br><span class="line">s=<span class="number">0</span>;</span><br><span class="line">cin&gt;&gt;t;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=t;i++)</span><br><span class="line">&#123;</span><br><span class="line">cin&gt;&gt;a;</span><br><span class="line">b=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;=a;j++)</span><br><span class="line">&#123;</span><br><span class="line">cin&gt;&gt;c[j];</span><br><span class="line">s+=c[j];</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">double</span> average;</span><br><span class="line">average=s/a;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;=a;j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(c[j]&gt;average)</span><br><span class="line">&#123;</span><br><span class="line">b++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;b&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h1 id="e-求n的阶乘">E.求n的阶乘</h1><h2 id="题目描述">题目描述</h2><p>求n的阶乘（n大于等于1，小于等于12）</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> m,i,sum;</span><br><span class="line">sum=<span class="number">1</span>;</span><br><span class="line">cin&gt;&gt;m;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">&#123;</span><br><span class="line">sum*=i;</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;sum&lt;&lt;endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面向对象程序设计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>面向对象程序设计目录</title>
      <link href="/posts/2666278668/"/>
      <url>/posts/2666278668/</url>
      
        <content type="html"><![CDATA[<ol class="series-items"><li><a href="/posts/696962755/" title="CPP_第1周">CPP_第1周</a></li><li><a href="/posts/994009389/" title="CPP_第2周">CPP_第2周</a></li><li><a href="/posts/2206402120/" title="CPP_第3周">CPP_第3周</a></li><li><a href="/posts/508837617/" title="CPP_第4周">CPP_第4周</a></li><li><a href="/posts/2800245140/" title="CPP_第5周">CPP_第5周</a></li><li><a href="/posts/3026056826/" title="CPP_第6周">CPP_第6周</a></li><li><a href="/posts/216109343/" title="CPP_第7周">CPP_第7周</a></li><li><a href="/posts/1417838921/" title="CPP_第8周">CPP_第8周</a></li><li><a href="/posts/3963545132/" title="CPP_第9周">CPP_第9周</a></li><li><a href="/posts/1153292558/" title="CPP_第10周">CPP_第10周</a></li><li><a href="/posts/4227972715/" title="CPP_第11周">CPP_第11周</a></li><li><a href="/posts/4004778373/" title="CPP_第12周">CPP_第12周</a></li><li><a href="/posts/1443395296/" title="CPP_第13周">CPP_第13周</a></li><li><a href="/posts/3420409433/" title="CPP_第14周">CPP_第14周</a></li><li><a href="/posts/1935878460/" title="CPP_第15周">CPP_第15周</a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Blog目录</title>
      <link href="/posts/4199349087/"/>
      <url>/posts/4199349087/</url>
      
        <content type="html"><![CDATA[<ol class="series-items"><li><a href="/posts/205686455/" title="OS报告">OS报告</a></li><li><a href="/posts/1990012807/" title="数据库学习笔记">数据库学习笔记</a></li><li><a href="/posts/3972354381/" title="头歌_数据库实验">头歌_数据库实验</a></li><li><a href="/posts/2666278668/" title="面向对象程序设计目录">面向对象程序设计目录</a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>头歌_数据库实验</title>
      <link href="/posts/3972354381/"/>
      <url>/posts/3972354381/</url>
      
        <content type="html"><![CDATA[<ol class="series-items"><li><a href="/posts/33322/" title="实验2 MySQL软件操作及建库建表建数据">实验2 MySQL软件操作及建库建表建数据</a></li><li><a href="/posts/57811/" title="实验3 MySQL的DDL语言">实验3 MySQL的DDL语言</a></li><li><a href="/posts/43911/" title="实验4 MySQL单表查询">实验4 MySQL单表查询</a></li><li><a href="/posts/43230/" title="实验5 SQL的多表查询-1">实验5 SQL的多表查询-1</a></li><li><a href="/posts/48365/" title="实验6 SQL的多表查询-2">实验6 SQL的多表查询-2</a></li><li><a href="/posts/15145/" title="实验7 SQL的复杂多表查询-1">实验7 SQL的复杂多表查询-1</a></li><li><a href="/posts/14962/" title="实验8 SQL的复杂多表查询-2">实验8 SQL的复杂多表查询-2</a></li><li><a href="/posts/90/" title="实验9 SQL视图">实验9 SQL视图</a></li><li><a href="/posts/54623/" title="实验10 SQL互联网业务查询-1">实验10 SQL互联网业务查询-1</a></li><li><a href="/posts/21532/" title="实验11 SQL互联网业务查询-2">实验11 SQL互联网业务查询-2</a></li><li><a href="/posts/973/" title="实验12 数据库E-R图设计">实验12 数据库E-R图设计</a></li><li><a href="/posts/31554/" title="实验13 数据库编程-1">实验13 数据库编程-1</a></li><li><a href="/posts/3767/" title="实验14 数据库编程-2">实验14 数据库编程-2</a></li><li><a href="/posts/32272/" title="实验16 数据库触发器与权限">实验16 数据库触发器与权限</a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>数据库学习笔记</title>
      <link href="/posts/1990012807/"/>
      <url>/posts/1990012807/</url>
      
        <content type="html"><![CDATA[<ol class="series-items"><li><a href="/posts/1419064164/" title="DataBase 增删改语句">DataBase 增删改语句</a></li><li><a href="/posts/802921560/" title="DataBase 常用函数">DataBase 常用函数</a></li><li><a href="/posts/1146913277/" title="DataBase 查询语句">DataBase 查询语句</a></li><li><a href="/posts/2160201343/" title="DataBase 视图">DataBase 视图</a></li><li><a href="/posts/3438945314/" title="DataBase 聚合函数">DataBase 聚合函数</a></li><li><a href="/posts/4201200877/" title="DataBase 连接">DataBase 连接</a></li><li><a href="/posts/1132319962/" title="DataBase 存储过程">DataBase 存储过程</a></li><li><a href="/posts/1698569466/" title="DataBase 触发器和事件">DataBase 触发器和事件</a></li><li><a href="/posts/1137404687/" title="DataBase 事务">DataBase 事务</a></li><li><a href="/posts/129956530/" title="DataBase 数据类型">DataBase 数据类型</a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>实验16 数据库触发器与权限</title>
      <link href="/posts/32272/"/>
      <url>/posts/32272/</url>
      
        <content type="html"><![CDATA[<h1 id="第1关-执行-create-user-创建以2022100904为用户名的用户-同时设置其密码为root1234">第1关 执行 CREATE USER 创建以2022100904为用户名的用户，同时设置其密码为root1234</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;2022100904&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="keyword">WITH</span> mysql_native_password <span class="keyword">BY</span> <span class="string">&#x27;root1234&#x27;</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> mysql.user.Host, mysql.user.User <span class="keyword">FROM</span> mysql.user <span class="keyword">WHERE</span> <span class="keyword">USER</span> <span class="operator">=</span> <span class="string">&#x27;2022100904&#x27;</span>;</span><br></pre></td></tr></table></figure><h1 id="第2关-给予创建的用户2022100904在mydata数据库中授予-j-表-select-权限">第2关 给予创建的用户2022100904在mydata数据库中授予&quot;J&quot; 表 SELECT 权限</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span> <span class="keyword">ON</span> mydata.J <span class="keyword">TO</span> <span class="string">&#x27;2022100904&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="string">&#x27;2022100904&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br></pre></td></tr></table></figure><h1 id="第3关-给予创建的用户2022100904-2022100908授予-j-表-的all-privileges权限">第3关 给予创建的用户2022100904、2022100908授予&quot;J&quot;表 的ALL PRIVILEGES权限</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">ON</span> mydata.J <span class="keyword">TO</span> <span class="string">&#x27;2022100904&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">ON</span> mydata.J <span class="keyword">TO</span> <span class="string">&#x27;2022100908&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="string">&#x27;2022100904&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="string">&#x27;2022100908&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br></pre></td></tr></table></figure><h1 id="第4关-给予创建的用户2022100904在mydata数据库中授予-j-表的update和insert权限">第4关 给予创建的用户2022100904在mydata数据库中授予“J”表的UPDATE和INSERT权限</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">UPDATE</span>,<span class="keyword">INSERT</span> <span class="keyword">ON</span> mydata.J <span class="keyword">TO</span> <span class="string">&#x27;2022100904&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="string">&#x27;2022100904&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br></pre></td></tr></table></figure><h1 id="第5关-回收用户2022100904在mydata数据库中授予的-j-表-select权限">第5关 回收用户2022100904在mydata数据库中授予的 “J” 表 SELECT权限</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">REVOKE</span> <span class="keyword">SELECT</span> <span class="keyword">ON</span> mydata.J <span class="keyword">FROM</span> <span class="string">&#x27;2022100904&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="string">&#x27;2022100904&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br></pre></td></tr></table></figure><h1 id="第6关-回收用户2022100904-2022100908在mydata数据库的中授予-的j表all-privileges权限">第6关 回收用户2022100904、2022100908在mydata数据库的中授予 的J表ALL PRIVILEGES权限</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">REVOKE</span> <span class="keyword">ALL</span> <span class="keyword">ON</span> mydata.J <span class="keyword">FROM</span> <span class="string">&#x27;2022100904&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"><span class="keyword">REVOKE</span> <span class="keyword">ALL</span> <span class="keyword">ON</span> mydata.J <span class="keyword">FROM</span> <span class="string">&#x27;2022100908&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="string">&#x27;2022100904&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="string">&#x27;2022100908&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br></pre></td></tr></table></figure><h1 id="第7关-回收用户2022100904在mydata数据中授予的-j-表update和insert的权限">第7关 回收用户2022100904在mydata数据中授予的“J”表UPDATE和INSERT的权限</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">REVOKE</span> <span class="keyword">UPDATE</span>,<span class="keyword">INSERT</span> <span class="keyword">ON</span> mydata.J <span class="keyword">FROM</span> <span class="string">&#x27;2022100904&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="string">&#x27;2022100904&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br></pre></td></tr></table></figure><h1 id="第8关-创建角色名为-r1的角色">第8关 创建角色名为 R1的角色</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">CREATE</span> ROLE <span class="string">&#x27;R1&#x27;</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> mysql.user.Host, mysql.user.User <span class="keyword">FROM</span> mysql.user <span class="keyword">WHERE</span> <span class="keyword">USER</span> <span class="operator">=</span> <span class="string">&#x27;R1&#x27;</span>;</span><br></pre></td></tr></table></figure><h1 id="第9关-给予创建的角色r1在mydata数据库中授予-j-表-的select-update-insert权限">第9关 给予创建的角色R1在mydata数据库中授予&quot;J&quot; 表 的SELECT 、UPDATE、INSERT权限</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span>,<span class="keyword">UPDATE</span>,<span class="keyword">INSERT</span> <span class="keyword">ON</span> mydata.J <span class="keyword">TO</span> <span class="string">&#x27;R1&#x27;</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="string">&#x27;R1&#x27;</span>;</span><br></pre></td></tr></table></figure><h1 id="第10关-给予创建的用户2022100904授予角色r1权限">第10关 给予创建的用户2022100904授予角色R1权限</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">GRANT</span> <span class="string">&#x27;R1&#x27;</span> <span class="keyword">TO</span> <span class="string">&#x27;2022100904&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="string">&#x27;2022100904&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br></pre></td></tr></table></figure><h1 id="第11关-给予已授权限的角色r1在mydata数据库中再次授予-j-表-的delete权限">第11关 给予已授权限的角色R1在mydata数据库中再次授予&quot;J&quot; 表 的DELETE权限</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">DELETE</span> <span class="keyword">ON</span> mydata.J <span class="keyword">TO</span> <span class="string">&#x27;R1&#x27;</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="string">&#x27;R1&#x27;</span>;</span><br></pre></td></tr></table></figure><h1 id="第12关-回收角色r1-对-j-表的-insert-权限">第12关 回收角色R1 对 J 表的 INSERT 权限</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">REVOKE</span> <span class="keyword">INSERT</span> <span class="keyword">ON</span> mydata.J <span class="keyword">FROM</span> <span class="string">&#x27;R1&#x27;</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="string">&#x27;R1&#x27;</span>;</span><br></pre></td></tr></table></figure><h1 id="第13关-通过角色r1回收用户2022100904的被授予j表的select-update-insert权限">第13关 通过角色R1回收用户2022100904的被授予J表的SELECT 、UPDATE、INSERT权限</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">REVOKE</span> <span class="string">&#x27;R1&#x27;</span> <span class="keyword">FROM</span> <span class="string">&#x27;2022100904&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="string">&#x27;2022100904&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br></pre></td></tr></table></figure><h1 id="第14关-编写一个名为insert-s的触发器-在s表执行-insert-语句后被激发">第14关 编写一个名为INSERT_S的触发器，在S表执行 INSERT 语句后被激发</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line">DELIMITER $$</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> INSERT_S</span><br><span class="line"> AFTER <span class="keyword">INSERT</span> <span class="keyword">ON</span> S</span><br><span class="line"> <span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">INSERT INTO</span> N_S <span class="keyword">VALUES</span> (<span class="string">&#x27;S6&#x27;</span>, <span class="string">&#x27;深技大&#x27;</span>, <span class="string">&#x27;20&#x27;</span>, <span class="string">&#x27;深圳&#x27;</span>,<span class="string">&#x27;root@localhost&#x27;</span>);</span><br><span class="line"><span class="keyword">END</span>$$</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line">#将记录插入S表</span><br><span class="line"><span class="keyword">INSERT INTO</span> S <span class="keyword">VALUES</span> (<span class="string">&#x27;S6&#x27;</span>, <span class="string">&#x27;深技大&#x27;</span>, <span class="string">&#x27;20&#x27;</span>, <span class="string">&#x27;深圳&#x27;</span>);</span><br><span class="line">#查看N_S表</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> N_S;</span><br></pre></td></tr></table></figure><h1 id="第15关-编写一个名为update-s的触发器-检查s表的status-只允许0-100之间-如果超过100后-改为100">第15关 编写一个名为UPDATE_S的触发器，检查S表的STATUS，只允许0-100之间，如果超过100后，改为100。</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line">DELIMITER $$</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> UPDATE_S</span><br><span class="line">BEFORE <span class="keyword">UPDATE</span> <span class="keyword">ON</span> S</span><br><span class="line"><span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">   IF(NEW.STATUS <span class="operator">&lt;</span><span class="number">0</span>) <span class="keyword">OR</span> (NEW.STATUS<span class="operator">&gt;</span><span class="number">100</span>)</span><br><span class="line">      <span class="keyword">THEN</span> <span class="keyword">SET</span> NEW.STATUS<span class="operator">=</span><span class="number">100</span>;</span><br><span class="line">   <span class="keyword">END</span> IF;</span><br><span class="line"><span class="keyword">END</span>$$</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line">#更新S表</span><br><span class="line"><span class="keyword">UPDATE</span> S <span class="keyword">SET</span> S.STATUS <span class="operator">=</span> <span class="number">300</span> <span class="keyword">WHERE</span> S.CITY <span class="operator">=</span> <span class="string">&#x27;天津&#x27;</span>;</span><br><span class="line">#查看S表</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> S;</span><br></pre></td></tr></table></figure><h1 id="第16关-编写一个名为update-spj的触发器-spj表中有更新某条记录的qty时-自动更新表spj-sumqty表">第16关 编写一个名为UPDATE_SPJ的触发器，SPJ表中有更新某条记录的QTY时，自动更新表SPJ_SUMQTY表</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line">DELIMITER $$</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> UPDATE_SPJ</span><br><span class="line">AFTER <span class="keyword">UPDATE</span> <span class="keyword">ON</span> SPJ</span><br><span class="line"><span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">UPDATE</span> SPJ_SUMQTY <span class="keyword">SET</span> SUMQTY <span class="operator">=</span> SUMQTY <span class="operator">+</span> NEW.QTY <span class="operator">-</span> OLD.QTY</span><br><span class="line">    <span class="keyword">WHERE</span> PNO <span class="operator">=</span> NEW.PNO <span class="keyword">AND</span> JNO <span class="operator">=</span> NEW.JNO;</span><br><span class="line"><span class="keyword">END</span> $$</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line">#更新SPJ表</span><br><span class="line"><span class="keyword">UPDATE</span> SPJ <span class="keyword">SET</span> SPJ.QTY <span class="operator">=</span> SPJ.QTY <span class="operator">+</span> <span class="number">200</span> <span class="keyword">WHERE</span> SPJ.JNO <span class="operator">=</span> <span class="string">&#x27;J5&#x27;</span>;</span><br><span class="line">#查看SPJ_SUMQTY表</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SPJ_SUMQTY;</span><br></pre></td></tr></table></figure><h1 id="第17关-编写一个名为delete-spj的触发器-当spj表中有删除某条记录时-自动更新表spj-sumqty表">第17关 编写一个名为DELETE_SPJ的触发器，当SPJ表中有删除某条记录时，自动更新表SPJ_SUMQTY表</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"></span><br><span class="line">DELIMITER $$</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> DELETE_SPJ</span><br><span class="line">AFTER <span class="keyword">DELETE</span> <span class="keyword">ON</span> SPJ</span><br><span class="line"><span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">UPDATE</span> SPJ_SUMQTY <span class="keyword">SET</span> SUMQTY <span class="operator">=</span> SUMQTY <span class="operator">-</span> OLD.QTY</span><br><span class="line">    <span class="keyword">WHERE</span> SPJ_SUMQTY.PNO <span class="operator">=</span> OLD.PNO <span class="keyword">AND</span> SPJ_SUMQTY.JNO <span class="operator">=</span> OLD.JNO;</span><br><span class="line">    <span class="keyword">DELETE</span> <span class="keyword">FROM</span> SPJ_SUMQTY <span class="keyword">WHERE</span> SPJ_SUMQTY.SUMQTY <span class="operator">&lt;=</span><span class="number">0</span>;</span><br><span class="line"><span class="keyword">END</span> $$</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line">#删除SPJ表的某条记录</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> SPJ <span class="keyword">WHERE</span> SPJ.SNO <span class="operator">=</span> <span class="string">&#x27;S2&#x27;</span> <span class="keyword">AND</span> SPJ.PNO <span class="operator">=</span> <span class="string">&#x27;P3&#x27;</span> <span class="keyword">AND</span> SPJ.JNO <span class="operator">=</span> <span class="string">&#x27;J5&#x27;</span>;</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> SPJ <span class="keyword">WHERE</span> SPJ.SNO <span class="operator">=</span> <span class="string">&#x27;S2&#x27;</span> <span class="keyword">AND</span> SPJ.PNO <span class="operator">=</span> <span class="string">&#x27;P3&#x27;</span> <span class="keyword">AND</span> SPJ.JNO <span class="operator">=</span> <span class="string">&#x27;J1&#x27;</span>;</span><br><span class="line">#查看SPJ_SUMQTY表</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SPJ_SUMQTY;</span><br></pre></td></tr></table></figure><h1 id="第18关-编写一个名为insert-spj的触发器-当spj表中有插入某条记录时-自动更新表spj-sumqty表">第18关 编写一个名为INSERT_SPJ的触发器，当SPJ表中有插入某条记录时，自动更新表SPJ_SUMQTY表</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line">DELIMITER $$</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> INSERT_SPJ</span><br><span class="line">AFTER <span class="keyword">INSERT</span> <span class="keyword">ON</span> SPJ</span><br><span class="line"><span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">UPDATE</span> SPJ_SUMQTY <span class="keyword">SET</span> SUMQTY <span class="operator">=</span> SUMQTY <span class="operator">+</span> NEW.QTY</span><br><span class="line">    <span class="keyword">WHERE</span> SPJ_SUMQTY.PNO <span class="operator">=</span> NEW.PNO <span class="keyword">AND</span> SPJ_SUMQTY.JNO <span class="operator">=</span>NEW.JNO;</span><br><span class="line">    IF NEW.JNO <span class="keyword">NOT</span> <span class="keyword">IN</span> (<span class="keyword">SELECT</span> JNO <span class="keyword">FROM</span> SPJ_SUMQTY)</span><br><span class="line">    <span class="keyword">OR</span> NEW.PNO <span class="keyword">NOT</span> <span class="keyword">IN</span> (<span class="keyword">SELECT</span> PNO <span class="keyword">FROM</span> SPJ_SUMQTY)</span><br><span class="line">        <span class="keyword">THEN</span> <span class="keyword">INSERT INTO</span> SPJ_SUMQTY <span class="keyword">VALUES</span> (NEW.JNO,NEW.PNO,NEW.QTY);</span><br><span class="line">    <span class="keyword">END</span> IF;</span><br><span class="line"><span class="keyword">END</span> $$</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line">#将记录插入SPJ表</span><br><span class="line"><span class="keyword">INSERT INTO</span> SPJ <span class="keyword">VALUES</span> (<span class="string">&#x27;S6&#x27;</span>, <span class="string">&#x27;P1&#x27;</span>, <span class="string">&#x27;J6&#x27;</span>, <span class="number">200</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> SPJ <span class="keyword">VALUES</span> (<span class="string">&#x27;S6&#x27;</span>, <span class="string">&#x27;P3&#x27;</span>, <span class="string">&#x27;J5&#x27;</span>, <span class="number">300</span>);</span><br><span class="line">#查看SPJ_SUMQTY表</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SPJ_SUMQTY;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实验14 数据库编程-2</title>
      <link href="/posts/3767/"/>
      <url>/posts/3767/</url>
      
        <content type="html"><![CDATA[<h1 id="第1关-定义一个名为proc-updategrade的存储过程">第1关 定义一个名为PROC_UPDATEGRADE的存储过程</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">USE myschool;</span><br><span class="line">#增加一列等级列</span><br><span class="line"><span class="keyword">ALTER TABLE</span> SC <span class="keyword">ADD</span> `rank` <span class="type">CHAR</span>(<span class="number">2</span>);</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">BEGIN</span> ##########</span><br><span class="line">DELIMITER $$</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> PROC_UPDATEGRADE()</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">UPDATE</span> SC <span class="keyword">SET</span> rank <span class="operator">=</span> <span class="string">&#x27;A&#x27;</span> <span class="keyword">WHERE</span> Grade <span class="operator">&gt;=</span> <span class="number">90</span> <span class="keyword">AND</span> Grade <span class="operator">&lt;=</span> <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">UPDATE</span> SC <span class="keyword">SET</span> rank <span class="operator">=</span> <span class="string">&#x27;B&#x27;</span> <span class="keyword">WHERE</span> Grade <span class="operator">&gt;=</span> <span class="number">80</span> <span class="keyword">AND</span> Grade <span class="operator">&lt;</span> <span class="number">90</span>;</span><br><span class="line">    <span class="keyword">UPDATE</span> SC <span class="keyword">SET</span> rank <span class="operator">=</span> <span class="string">&#x27;C&#x27;</span> <span class="keyword">WHERE</span> Grade <span class="operator">&gt;=</span> <span class="number">70</span> <span class="keyword">AND</span> Grade <span class="operator">&lt;</span> <span class="number">80</span>;</span><br><span class="line">    <span class="keyword">UPDATE</span> SC <span class="keyword">SET</span> rank <span class="operator">=</span> <span class="string">&#x27;D&#x27;</span> <span class="keyword">WHERE</span> Grade <span class="operator">&gt;=</span> <span class="number">60</span> <span class="keyword">AND</span> Grade <span class="operator">&lt;</span> <span class="number">70</span>;</span><br><span class="line">    <span class="keyword">UPDATE</span> SC <span class="keyword">SET</span> rank <span class="operator">=</span> <span class="string">&#x27;E&#x27;</span> <span class="keyword">WHERE</span> Grade <span class="operator">&gt;=</span> <span class="number">0</span> <span class="keyword">AND</span> Grade <span class="operator">&lt;</span> <span class="number">60</span>;</span><br><span class="line"><span class="keyword">END</span>$$</span><br><span class="line">DELIMITER ;</span><br><span class="line"><span class="keyword">CALL</span> PROC_UPDATEGRADE();</span><br><span class="line">########## <span class="keyword">END</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SC;</span><br></pre></td></tr></table></figure><h1 id="第2关-使用游标定义一个名为proc-jgrade无参存储过程">第2关 使用游标定义一个名为PROC_JGRADE无参存储过程</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">BEGIN</span> ##########</span><br><span class="line">DELIMITER $$</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> PROC_JGRADE()</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">DECLARE</span> PTYPE <span class="type">CHAR</span>(<span class="number">10</span>);</span><br><span class="line">    <span class="keyword">DECLARE</span> NJNO <span class="type">CHAR</span>(<span class="number">10</span>);</span><br><span class="line">    <span class="keyword">DECLARE</span> QTYTEMP <span class="type">INT</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">DECLARE</span> JNOTEMP <span class="type">INT</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">DECLARE</span> TEMP <span class="keyword">CURSOR</span> <span class="keyword">FOR</span></span><br><span class="line">    <span class="keyword">SELECT</span> JNO,<span class="built_in">SUM</span>(QTY)</span><br><span class="line">    <span class="keyword">FROM</span> SPJ</span><br><span class="line">    <span class="keyword">GROUP</span> <span class="keyword">BY</span> JNO</span><br><span class="line">    <span class="keyword">ORDER</span> <span class="keyword">BY</span> JNO <span class="keyword">ASC</span>;</span><br><span class="line">    <span class="keyword">OPEN</span> TEMP;</span><br><span class="line">    <span class="keyword">CREATE</span> TEMPORARY <span class="keyword">TABLE</span> temp_table(</span><br><span class="line">    SJNO <span class="type">CHAR</span>(<span class="number">10</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">    SQTY <span class="type">CHAR</span>(<span class="number">10</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">    JTYPE <span class="type">CHAR</span>(<span class="number">10</span>) <span class="keyword">NOT NULL</span></span><br><span class="line">    );</span><br><span class="line">    REPEAT</span><br><span class="line">    <span class="keyword">FETCH</span> TEMP <span class="keyword">INTO</span> NJNO,QTYTEMP;</span><br><span class="line">    IF(QTYTEMP<span class="operator">&lt;</span><span class="number">1000</span>)</span><br><span class="line">    <span class="keyword">THEN</span></span><br><span class="line">    <span class="keyword">SET</span> PTYPE<span class="operator">=</span><span class="string">&#x27;S&#x27;</span>;</span><br><span class="line">    ELSEIF(<span class="number">1000</span><span class="operator">&lt;=</span>QTYTEMP <span class="keyword">AND</span> QTYTEMP <span class="operator">&lt;=</span><span class="number">2000</span>)</span><br><span class="line">    <span class="keyword">THEN</span></span><br><span class="line">    <span class="keyword">SET</span> PTYPE<span class="operator">=</span><span class="string">&#x27;M&#x27;</span>;</span><br><span class="line">    ELSEIF(QTYTEMP<span class="operator">&gt;</span><span class="number">2000</span>)</span><br><span class="line">    <span class="keyword">THEN</span></span><br><span class="line">    <span class="keyword">SET</span> PTYPE<span class="operator">=</span><span class="string">&#x27;L&#x27;</span>;</span><br><span class="line">    <span class="keyword">END</span> IF;</span><br><span class="line">    <span class="keyword">INSERT INTO</span> temp_table <span class="keyword">VALUES</span>(NJNO,QTYTEMP,PTYPE);</span><br><span class="line">    <span class="keyword">SET</span> JNOTEMP <span class="operator">=</span>JNOTEMP<span class="operator">+</span><span class="number">1</span>;</span><br><span class="line">    UNTIL JNOTEMP<span class="operator">&gt;=</span><span class="number">5</span></span><br><span class="line">    <span class="keyword">END</span> REPEAT;</span><br><span class="line">    <span class="keyword">CLOSE</span> TEMP;</span><br><span class="line">    <span class="keyword">SELECT</span><span class="operator">*</span><span class="keyword">FROM</span> temp_table;</span><br><span class="line"><span class="keyword">END</span>$$</span><br><span class="line">DELIMITER ;</span><br><span class="line">########## <span class="keyword">END</span> ##########</span><br><span class="line"># 以下代码禁止删除</span><br><span class="line"><span class="keyword">CALL</span> PROC_JGRADE();</span><br></pre></td></tr></table></figure><h1 id="第3关-使用游标定义一个名为proc-numgrade有参存储过程">第3关 使用游标定义一个名为PROC_NUMGRADE有参存储过程</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">USE myschool;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">BEGIN</span> ##########</span><br><span class="line">DELIMITER $</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> proc_numgrade(<span class="keyword">IN</span> sumtemp <span class="type">CHAR</span>(<span class="number">9</span>))</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">DECLARE</span> a <span class="type">INT</span>;</span><br><span class="line">    <span class="keyword">DECLARE</span> b <span class="type">INT</span> <span class="keyword">default</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">DECLARE</span> c <span class="keyword">cursor</span> <span class="keyword">for</span></span><br><span class="line">    <span class="keyword">SELECT</span> Grade</span><br><span class="line">    <span class="keyword">FROM</span> Course,SC</span><br><span class="line">    <span class="keyword">WHERE</span> Cname <span class="operator">=</span> sumtemp <span class="keyword">AND</span> Course.Cno <span class="operator">=</span> SC.Cno;</span><br><span class="line">    <span class="keyword">DECLARE</span> contINue handler <span class="keyword">for</span> <span class="keyword">not</span> found <span class="keyword">SET</span> b <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">CREATE</span> temporary <span class="keyword">table</span> TMEP_TABLE(</span><br><span class="line">        Type <span class="type">CHAR</span>(<span class="number">30</span>),</span><br><span class="line">        Num <span class="type">INT</span></span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">INSERT INTO</span> TMEP_TABLE <span class="keyword">VALUES</span>(<span class="string">&#x27;100&#x27;</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">INSERT INTO</span> TMEP_TABLE <span class="keyword">VALUES</span>(<span class="string">&#x27;[90,100)&#x27;</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">INSERT INTO</span> TMEP_TABLE <span class="keyword">VALUES</span>(<span class="string">&#x27;[80,90)&#x27;</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">INSERT INTO</span> TMEP_TABLE <span class="keyword">VALUES</span>(<span class="string">&#x27;[70,80)&#x27;</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">INSERT INTO</span> TMEP_TABLE <span class="keyword">VALUES</span>(<span class="string">&#x27;[60,70)&#x27;</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">INSERT INTO</span> TMEP_TABLE <span class="keyword">VALUES</span>(<span class="string">&#x27;[0,60)&#x27;</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">OPEN</span> c;</span><br><span class="line">    WHILE b <span class="operator">!=</span> <span class="number">1</span> do</span><br><span class="line">        <span class="keyword">FETCH</span> c <span class="keyword">INTO</span> a;</span><br><span class="line">        IF b <span class="operator">!=</span> <span class="number">1</span> <span class="keyword">THEN</span></span><br><span class="line">            IF a<span class="operator">=</span><span class="number">100</span> <span class="keyword">THEN</span> <span class="keyword">UPDATE</span> TMEP_TABLE <span class="keyword">SET</span> Num<span class="operator">=</span>Num<span class="operator">+</span><span class="number">1</span> <span class="keyword">WHERE</span> Type<span class="operator">=</span><span class="string">&#x27;100&#x27;</span>;</span><br><span class="line">            ELSEIF a<span class="operator">&gt;=</span><span class="number">90</span> <span class="keyword">AND</span> a<span class="operator">&lt;</span><span class="number">100</span> <span class="keyword">THEN</span> <span class="keyword">UPDATE</span> TMEP_TABLE <span class="keyword">SET</span> Num<span class="operator">=</span>Num<span class="operator">+</span><span class="number">1</span> <span class="keyword">WHERE</span> Type<span class="operator">=</span><span class="string">&#x27;[90,100)&#x27;</span>;</span><br><span class="line">            ELSEIF a<span class="operator">&gt;=</span><span class="number">80</span> <span class="keyword">AND</span> a<span class="operator">&lt;</span><span class="number">90</span> <span class="keyword">THEN</span> <span class="keyword">UPDATE</span> TMEP_TABLE <span class="keyword">SET</span> Num<span class="operator">=</span>Num<span class="operator">+</span><span class="number">1</span> <span class="keyword">WHERE</span> Type<span class="operator">=</span><span class="string">&#x27;[80,90)&#x27;</span>;</span><br><span class="line">            ELSEIF a<span class="operator">&gt;=</span><span class="number">70</span> <span class="keyword">AND</span> a<span class="operator">&lt;</span><span class="number">80</span> <span class="keyword">THEN</span> <span class="keyword">UPDATE</span> TMEP_TABLE <span class="keyword">SET</span> Num<span class="operator">=</span>Num<span class="operator">+</span><span class="number">1</span> <span class="keyword">WHERE</span> Type<span class="operator">=</span><span class="string">&#x27;[70,80)&#x27;</span>;</span><br><span class="line">            ELSEIF a<span class="operator">&gt;=</span><span class="number">60</span> <span class="keyword">AND</span> a<span class="operator">&lt;</span><span class="number">70</span> <span class="keyword">THEN</span> <span class="keyword">UPDATE</span> TMEP_TABLE <span class="keyword">SET</span> Num<span class="operator">=</span>Num<span class="operator">+</span><span class="number">1</span> <span class="keyword">WHERE</span> Type<span class="operator">=</span><span class="string">&#x27;[60,70)&#x27;</span>;</span><br><span class="line">            ELSEIF a<span class="operator">&gt;=</span><span class="number">0</span> <span class="keyword">AND</span> a<span class="operator">&lt;</span><span class="number">60</span> <span class="keyword">THEN</span> <span class="keyword">UPDATE</span> TMEP_TABLE <span class="keyword">SET</span> Num<span class="operator">=</span>Num<span class="operator">+</span><span class="number">1</span> <span class="keyword">WHERE</span> Type<span class="operator">=</span><span class="string">&#x27;[0,60)&#x27;</span>;</span><br><span class="line">            <span class="keyword">END</span> IF;  </span><br><span class="line">        <span class="keyword">END</span> IF;</span><br><span class="line">    <span class="keyword">END</span> WHILE;</span><br><span class="line">    <span class="keyword">CLOSE</span> c;</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> TMEP_TABLE;</span><br><span class="line"><span class="keyword">END</span>;$</span><br><span class="line">DELIMITER ;</span><br><span class="line">########## <span class="keyword">END</span> ##########</span><br><span class="line"># 以下代码禁止删除</span><br><span class="line"><span class="keyword">CALL</span> PROC_NUMGRADE(<span class="string">&#x27;离散数学&#x27;</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实验13 数据库编程-1</title>
      <link href="/posts/31554/"/>
      <url>/posts/31554/</url>
      
        <content type="html"><![CDATA[<h1 id="第1关-定义一个名为proc-count的无参数存储过程">第1关 定义一个名为PROC_COUNT的无参数存储过程</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line">DELIMITER $</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> PROC_COUNT()</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>)</span><br><span class="line">    <span class="keyword">FROM</span> J</span><br><span class="line">    <span class="keyword">WHERE</span> JNAME <span class="keyword">LIKE</span> &quot;%厂%&quot;;</span><br><span class="line"><span class="keyword">END</span> $</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CALL</span> PROC_COUNT()</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第2关-定义一个名为proc-jname的有参数存储过程">第2关 定义一个名为PROC_JNAME的有参数存储过程</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line">DELIMITER $</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> PROC_JNAME(<span class="keyword">IN</span> city <span class="type">CHAR</span>(<span class="number">2</span>))</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">SELECT</span> JNAME</span><br><span class="line">    <span class="keyword">FROM</span> J</span><br><span class="line">    <span class="keyword">WHERE</span> J.CITY <span class="operator">=</span> city;</span><br><span class="line"><span class="keyword">END</span> $</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">CALL</span> PROC_JNAME(<span class="string">&#x27;天津&#x27;</span>);</span><br></pre></td></tr></table></figure><h1 id="第3关-定义一个名为proc-jinfo的有参数存储过程">第3关 定义一个名为PROC_JINFO的有参数存储过程</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line">DELIMITER $</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> PROC_JINFO(<span class="keyword">IN</span> city <span class="type">CHAR</span>(<span class="number">2</span>))</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">SELECT</span></span><br><span class="line">        JNAME,</span><br><span class="line">        PNAME,</span><br><span class="line">        <span class="built_in">SUM</span>(QTY) SUM_QTY</span><br><span class="line">    <span class="keyword">FROM</span> SPJ</span><br><span class="line">    <span class="keyword">JOIN</span> P <span class="keyword">USING</span>(PNO)</span><br><span class="line">    <span class="keyword">JOIN</span> J <span class="keyword">USING</span>(JNO)</span><br><span class="line">    <span class="keyword">WHERE</span> J.CITY <span class="operator">=</span> city</span><br><span class="line">    <span class="keyword">GROUP</span> <span class="keyword">BY</span> JNAME,PNAME</span><br><span class="line">    <span class="keyword">ORDER</span> <span class="keyword">BY</span> JNAME,PNAME;</span><br><span class="line"><span class="keyword">END</span> $</span><br><span class="line">DELIMITER ;</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">CALL</span> PROC_JINFO(<span class="string">&#x27;天津&#x27;</span>);</span><br></pre></td></tr></table></figure><h1 id="第4关-定义一个名为proc-avggrade的有参数存储过程">第4关 定义一个名为PROC_AVGGRADE的有参数存储过程</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">USE myschool;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line">DELIMITER $</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> PROC_AVGGRADE(<span class="keyword">IN</span> name <span class="type">CHAR</span>(<span class="number">9</span>))</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">SELECT</span></span><br><span class="line">        <span class="built_in">AVG</span>(Grade) AVG_Grade</span><br><span class="line">    <span class="keyword">FROM</span> SC</span><br><span class="line">    <span class="keyword">JOIN</span> Course <span class="keyword">USING</span>(Cno)</span><br><span class="line">    <span class="keyword">WHERE</span> Cname <span class="operator">=</span> name;</span><br><span class="line"><span class="keyword">END</span> $</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line"># 以下代码禁止删除</span><br><span class="line"><span class="keyword">CALL</span> PROC_AVGGRADE(<span class="string">&#x27;数据库&#x27;</span>);</span><br></pre></td></tr></table></figure><h1 id="第5关-定义一个名为proc-sinfo的有参数存储过程">第5关 定义一个名为PROC_SINFO的有参数存储过程</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line">DELIMITER $</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> PROC_SINFO(<span class="keyword">IN</span> name <span class="type">CHAR</span>(<span class="number">10</span>))</span><br><span class="line"><span class="keyword">BEGIN</span>  </span><br><span class="line">    <span class="keyword">SELECT</span></span><br><span class="line">        JNAME,</span><br><span class="line">        PNAME,</span><br><span class="line">        <span class="built_in">SUM</span>(QTY) SUM_QTY</span><br><span class="line">    <span class="keyword">FROM</span> SPJ</span><br><span class="line">    <span class="keyword">JOIN</span> S <span class="keyword">USING</span>(SNO)</span><br><span class="line">    <span class="keyword">JOIN</span> P <span class="keyword">USING</span>(PNO)</span><br><span class="line">    <span class="keyword">JOIN</span> J <span class="keyword">USING</span>(JNO)</span><br><span class="line">    <span class="keyword">WHERE</span> SNAME <span class="operator">=</span> name</span><br><span class="line">    <span class="keyword">GROUP</span> <span class="keyword">BY</span> JNAME,PNAME</span><br><span class="line">    <span class="keyword">ORDER</span> <span class="keyword">BY</span> JNAME,PNAME;</span><br><span class="line"><span class="keyword">END</span> $</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">CALL</span> PROC_SINFO(<span class="string">&#x27;精益&#x27;</span>);</span><br></pre></td></tr></table></figure><h1 id="第6关-定义一个名为proc-jsearch的有参数存储过程">第6关 定义一个名为PROC_JSEARCH的有参数存储过程</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line">DELIMITER $</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> PROC_JSEARCH(<span class="keyword">IN</span> <span class="keyword">no</span> <span class="type">CHAR</span>(<span class="number">2</span>))</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">SELECT</span></span><br><span class="line">        SNAME,</span><br><span class="line">        PNAME,</span><br><span class="line">        JNAME</span><br><span class="line">    <span class="keyword">FROM</span> SPJ</span><br><span class="line">    <span class="keyword">JOIN</span> S <span class="keyword">USING</span>(SNO)</span><br><span class="line">    <span class="keyword">JOIN</span> P <span class="keyword">USING</span>(PNO)</span><br><span class="line">    <span class="keyword">JOIN</span> J <span class="keyword">USING</span>(JNO)</span><br><span class="line">    <span class="keyword">WHERE</span> SPJ.JNO <span class="operator">=</span> <span class="keyword">no</span></span><br><span class="line">    <span class="keyword">ORDER</span> <span class="keyword">BY</span> SNAME,PNAME;</span><br><span class="line"><span class="keyword">END</span> $</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">CALL</span> PROC_JSEARCH(<span class="string">&#x27;J2&#x27;</span>);</span><br></pre></td></tr></table></figure><h1 id="第7关-定义一个名为proc-supdate的有参数存储过程">第7关 定义一个名为PROC_SUPDATE的有参数存储过程</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line">DELIMITER $</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> PROC_SUPDATE(<span class="keyword">no</span> <span class="type">CHAR</span>(<span class="number">3</span>),name <span class="type">CHAR</span>(<span class="number">10</span>),city <span class="type">CHAR</span>(<span class="number">10</span>))</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">UPDATE</span> S</span><br><span class="line">    <span class="keyword">SET</span> SNAME <span class="operator">=</span> name,</span><br><span class="line">        CITY <span class="operator">=</span> city</span><br><span class="line">    <span class="keyword">WHERE</span> SNO <span class="operator">=</span> <span class="keyword">no</span>;</span><br><span class="line"><span class="keyword">END</span> $</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">CALL</span> PROC_SUPDATE(<span class="string">&#x27;S4&#x27;</span>, <span class="string">&#x27;深技大&#x27;</span>, <span class="string">&#x27;深圳&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> S;</span><br></pre></td></tr></table></figure><h1 id="第8关-定义一个名为proc-avgweight的有参数存储过程">第8关 定义一个名为PROC_AVGWEIGHT的有参数存储过程</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line">DELIMITER $</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> PROC_AVGWEIGHT(<span class="keyword">IN</span> sno <span class="type">CHAR</span>(<span class="number">3</span>),<span class="keyword">IN</span> jno <span class="type">CHAR</span>(<span class="number">3</span>),<span class="keyword">OUT</span> AVG_WEIGHT <span class="type">INT</span>)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">SELECT</span></span><br><span class="line">        <span class="built_in">SUM</span>(WEIGHT<span class="operator">*</span>QTY)<span class="operator">/</span><span class="built_in">SUM</span>(QTY)</span><br><span class="line">    <span class="keyword">INTO</span> AVG_WEIGHT</span><br><span class="line">    <span class="keyword">FROM</span> SPJ</span><br><span class="line">    <span class="keyword">JOIN</span> P <span class="keyword">USING</span>(PNO)</span><br><span class="line">    <span class="keyword">WHERE</span> SPJ.SNO <span class="operator">=</span> sno <span class="keyword">AND</span> SPJ.JNO <span class="operator">=</span> jno</span><br><span class="line">    <span class="keyword">GROUP</span> <span class="keyword">BY</span> SPJ.SNO,SPJ.JNO;</span><br><span class="line"><span class="keyword">END</span> $</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line"><span class="keyword">CALL</span> PROC_AVGWEIGHT(<span class="string">&#x27;S2&#x27;</span>,<span class="string">&#x27;J2&#x27;</span>,<span class="variable">@AVG_WEIGHT</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="variable">@AVG_WEIGHT</span>;</span><br></pre></td></tr></table></figure><h1 id="第9关-定义一个名为proc-jgrade的有参数存储过程">第9关 定义一个名为PROC_JGRADE的有参数存储过程</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line">DELIMITER $</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> PROC_JGRADE(<span class="keyword">IN</span> jno <span class="type">CHAR</span>(<span class="number">3</span>),<span class="keyword">OUT</span> JTYPE <span class="type">CHAR</span>(<span class="number">1</span>))</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">SELECT</span></span><br><span class="line">        <span class="keyword">CASE</span></span><br><span class="line">            <span class="keyword">WHEN</span> <span class="built_in">SUM</span>(QTY) <span class="operator">&gt;</span> <span class="number">2000</span> <span class="keyword">THEN</span> <span class="string">&#x27;L&#x27;</span></span><br><span class="line">            <span class="keyword">WHEN</span> <span class="built_in">SUM</span>(QTY) <span class="keyword">BETWEEN</span> <span class="number">1000</span> <span class="keyword">AND</span> <span class="number">2000</span> <span class="keyword">THEN</span> <span class="string">&#x27;M&#x27;</span></span><br><span class="line">            <span class="keyword">ELSE</span> <span class="string">&#x27;S&#x27;</span></span><br><span class="line">        <span class="keyword">END</span>  type</span><br><span class="line">        <span class="keyword">INTO</span> JTYPE</span><br><span class="line">    <span class="keyword">FROM</span> SPJ</span><br><span class="line">    <span class="keyword">WHERE</span> SPJ.JNO <span class="operator">=</span> jno;</span><br><span class="line"><span class="keyword">END</span>$</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">CALL</span> PROC_JGRADE(<span class="string">&#x27;J1&#x27;</span>, <span class="variable">@JTYPE</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="variable">@JTYPE</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实验12 数据库E-R图设计</title>
      <link href="/posts/973/"/>
      <url>/posts/973/</url>
      
        <content type="html"><![CDATA[<p>1、注意事项：<br>1)、先完成实体的关系模型(表)，确定实体的主码(尽量单列做主码)<br>2)、联系的转换：<br>①1:1的联系<br>联系合并到某个1端，并在该表中增加另一个实体的码(作为外码，不作为主属性！)，以及添加联系本身的属性。<br>② 1:n的联系<br>合并到n端对应的表中，将1端的码添加到n端的表(作为外码，不作为主属性！)，以及添加联系本身的属性。<br>③m:n的联系<br>必须增加一个新表，新表的码至少由联系两端实体的码组合而成，同时增加相关的联系属性(如有时间等辅助标识唯一属性，一般应作为主属性)。</p><p>3)、课本P232，1：1，1：n联系时，把转换新的关系模式打叉，以后工作时除非很特殊的场景，都不要转换为新的表。ER图的设计虽然理论上是最简关系，但关系型数据库的缺点之一就是表相对较多，多表查询可能时延较大，商用时还可能根据性能降低范式合表（只要业务模型能规避低范式的增删改问题即可）。</p><p>4）注意事项：<strong>取决于业务建模</strong><br><strong>①</strong> <strong>联系需要有意义，而不仅是取值约束</strong><br><strong>②</strong> <strong>联系可能需要新增时间等主属性</strong><br><strong>③</strong> <strong>两个实体之间可能存在多种联系</strong><br><strong>④</strong> <strong>三元联系之外，依然可能存在两两间联系</strong><br><strong>⑤</strong> <strong>联系可以再与实体或联系产生联系</strong><br><strong>⑥</strong> <strong>通过编号规则可增加信息量，减少主属性</strong><br><strong>⑦</strong> <strong>有时通过完整性约束(比如触发器)可约束取值，不一定要通过表来约束</strong></p><p><strong>题目1：</strong><br>某医院病房信息系统中需要如下数据信息：<br>科室：科地址，科名(不重复)，科电话<br>病房：床位数量，病房号<br>医生：姓名，职称，性别，工号<br>病人：姓名，病历号，性别</p><p>其中，一个科室有多个病房、多个医生，一个病房只能属于一个科室，一个医生只属于一个科室，但可负责多个病人的诊治(简化，只考虑每人一次诊断)，一个病人入住病房后（一个病房可能住多名病人）的主管医生只有一个。<em>(注：题目特意未描述医生与病房的联系，请按题意作答。因此分组综合实验宣讲时，都必须讲E-R图的设计，自然语言描述数据库设计容易二义性。)</em><br>完成如下设计：<br>（1）设计该信息系统的E－R图；（20分）<br><img src="https://raw.githubusercontent.com/crayz-l/Learning_picgo/main/img/sql_experiment12_1" alt=""></p><p>（2）将该E-R图转换为关系模型结构，注明每个关系模式的主码(下划线)和外码(可用FK标注)，是否满足BCNF。（10分）<br>科室（<u>科名</u>，科地址，科电话）<br>病房（<u>病房号</u>，床位数量，科名（FK））<br>医生（<u>工号</u>，姓名，职称，性别，科名（FK））<br>病人（<u>病历号</u>，姓名，性别，病房号（FK），主管医生工号（FK））<br>没有任何部分码依赖、传递依赖、或非主属性到主码的依赖，所以均满足BCNF。</p><p>（3）假设病人可以看多个医生(同一个医生也可以看<strong>多</strong>次)，那么是否需要新建表？请仅写出该新建的表，其他不用写。标注主码(下划线)和外码(可用FK标注)。（10分）<br>诊断（<u>医生工号（FK）</u>，<u>病历号（FK）</u>，<u>诊断时间</u>，诊断）</p><p><strong>题目2：</strong><br>某工厂信息系统需如下数据信息，集团有多个工厂，每间工厂可生产多种产品，且每种产品可以在多间工厂生产，每间工厂需记录生产产品的<strong>该月产量</strong>；每间工厂聘用多名职工，且每名职工只能在一间工厂工作，工厂聘用职工有聘期和工资。工厂的属性有厂名、工厂编号、地址，产品的属性有产品名、产品编号、规格，职工的属性有职工号、姓名。<br>（1）根据上述语义画出E-R图，要求画出属性；（15分）<br><img src="https://raw.githubusercontent.com/crayz-l/Learning_picgo/main/img/sql_experiment12_2" alt=""><br>（2）将该E-R模型转换为关系模型，指出每个关系模式的主码(下划线)和外码(可用FK标注)，以及是否满足BCNF。（15分）<br>工厂（<u>工厂编号</u>，厂名，地址）满足BCNF;<br>产品（<u>产品编号</u>，产品名，规格）满足BCNF；<br>职工（<u>职工号</u>，姓名，聘期，工资，工厂编号（FK））满足BCNF；<br>生产记录（<u>工厂编号（FK）</u>，<u>产品编号（FK）</u>，生产年月，月产量）满足BCNF。<br>由于记录月产量肯定需要按月份划分，所以在生产记录表中引入生产年月这一属性。</p><p><strong>题目3：</strong><br>某高校设计的数据库需设计如下属性列：<br>①   首先课程号、准考证号均为唯一，请根据下表的列名确定对应属性列；<em>(提示：唯一即能够标识一个实体，先读完题目，然后根据下表排除后的列名找出课程号、准考证号能唯一确定的列。此外，本题特意不用学号)；</em><br>②   教室号和考试时间(含日期时间)决定唯一的考场，每门课可以有多个考场(而一个考场在某考试时间只能考一门课)；一人可以考多门课(不同学期可以考同一门课)；<br>③   缓考情况里比如缓考/休学需记录在该学期的该次选课里，成绩为空；<br><strong>请根据题干作答，</strong> 其他语义不再赘述 <em>(题目并未给出很详细的信息，但可以按题意给出唯一参考答案。)</em></p><table><thead><tr><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td>准考证号</td><td>姓名</td><td>教室号</td><td>考试时间</td><td>主监考工号</td><td>座位号</td><td>缓考情况</td><td>考试成绩</td><td>考试成绩</td><td>考试成绩</td><td>考试成绩</td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td>课程号</td><td>课程名</td><td>学期</td><td>成绩</td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td>缓考/休学/缺考…</td><td></td><td></td><td>2022-1</td><td></td></tr></tbody></table><p>(1)请回答以上关系是否满足3NF？是否满足2NF？<br>由题目可知，在考试成绩一列还可细分，不满足1NF，故不满足3NF和2NF</p><p>(2)若不满足，请将其转化为符合3NF，表名自定，不要增删属性，注明主码(下划线)和外码(用FK标注)。<em>提示：用E-R图思想比列举函数依赖关系往往更直观，尤其商用需要描述上百个属性时。</em><br>学生信息（<u>准考证号</u>，姓名）<br>课程信息（<u>课程号</u>，课程名）<br>考场信息（<u>教室号</u>，<u>考试时间</u>，课程号（FK），主监考工号）<br>考场座位（<u>准考证号（FK）</u>，<u>教室号（FK）</u>，<u>考试时间</u>，座位号）<br>考试成绩（<u>准考证号（FK）</u>，<u>课程号（FK）</u>，<u>学期</u>，<u>缓考情况</u>，成绩）</p>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实验11 SQL互联网业务查询-2</title>
      <link href="/posts/21532/"/>
      <url>/posts/21532/</url>
      
        <content type="html"><![CDATA[<h1 id="第1关-查询某网站每个日期新用户的次日留存率">第1关 查询某网站每个日期新用户的次日留存率</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">with</span> Table_a <span class="keyword">as</span>(</span><br><span class="line">    <span class="keyword">SELECT</span></span><br><span class="line">        user_id,</span><br><span class="line">        <span class="built_in">MIN</span>(<span class="type">date</span>) <span class="type">date</span></span><br><span class="line">    <span class="keyword">FROM</span> login</span><br><span class="line">    <span class="keyword">GROUP</span> <span class="keyword">BY</span> user_id</span><br><span class="line">)</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    Table_a.date,</span><br><span class="line">    ROUND (<span class="built_in">COUNT</span>(<span class="keyword">DISTINCT</span> login.user_id)<span class="operator">/</span><span class="built_in">COUNT</span>(Table_a.user_id),<span class="number">3</span>) p</span><br><span class="line"><span class="keyword">FROM</span> Table_a</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> login <span class="keyword">ON</span> Table_a.user_id <span class="operator">=</span> login.user_id <span class="keyword">AND</span> DATEDIFF(login.date,Table_a.date) <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> Table_a.date</span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    login.date,</span><br><span class="line">    <span class="number">0.000</span></span><br><span class="line"><span class="keyword">FROM</span> login</span><br><span class="line"><span class="keyword">WHERE</span> <span class="type">date</span> <span class="keyword">NOT</span> <span class="keyword">IN</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="type">date</span></span><br><span class="line">    <span class="keyword">FROM</span> Table_a</span><br><span class="line">)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="type">date</span></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第2关-查询满足条件的用户">第2关 查询满足条件的用户</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    user_id,</span><br><span class="line">    <span class="built_in">MIN</span>(<span class="keyword">CASE</span> <span class="keyword">WHEN</span> num <span class="operator">=</span> <span class="number">1</span> <span class="keyword">THEN</span> <span class="type">date</span> <span class="keyword">END</span>) first_buy_date,</span><br><span class="line">    <span class="built_in">MAX</span>(<span class="keyword">CASE</span> <span class="keyword">WHEN</span> num <span class="operator">=</span> <span class="number">2</span> <span class="keyword">THEN</span> <span class="type">date</span> <span class="keyword">END</span>) second_buy_date,</span><br><span class="line">    <span class="built_in">COUNT</span>(<span class="operator">*</span>) cnt</span><br><span class="line"><span class="keyword">FROM</span> (</span><br><span class="line">    <span class="keyword">SELECT</span></span><br><span class="line">        <span class="operator">*</span>,</span><br><span class="line">        <span class="built_in">row_number</span>() <span class="keyword">over</span>(<span class="keyword">partition</span> <span class="keyword">by</span> user_id <span class="keyword">order</span> <span class="keyword">by</span> <span class="type">date</span>) num</span><br><span class="line">    <span class="keyword">FROM</span> order_info</span><br><span class="line">    <span class="keyword">WHERE</span> status <span class="operator">=</span> <span class="string">&#x27;completed&#x27;</span></span><br><span class="line">    <span class="keyword">AND</span> <span class="type">date</span> <span class="operator">&gt;</span> <span class="string">&#x27;2021-10-15&#x27;</span></span><br><span class="line">    <span class="keyword">AND</span> product_name <span class="keyword">IN</span> (<span class="string">&#x27;C++&#x27;</span>,<span class="string">&#x27;Python&#x27;</span>,<span class="string">&#x27;Java&#x27;</span>)</span><br><span class="line">) a</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> user_id</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="number">1</span>)<span class="operator">&gt;=</span><span class="number">2</span></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第3关-查询未完成订单率排名前三的用户">第3关 查询未完成订单率排名前三的用户</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    product_name,</span><br><span class="line">    user_id,</span><br><span class="line">    rnk,</span><br><span class="line">    CONCAT(FORMAT(incomp_rate<span class="operator">*</span><span class="number">100</span>, <span class="number">2</span>), <span class="string">&#x27;%&#x27;</span>) incomp_rate</span><br><span class="line"><span class="keyword">FROM</span>(</span><br><span class="line">    <span class="keyword">SELECT</span></span><br><span class="line">        product_name,</span><br><span class="line">        user_id,</span><br><span class="line">        <span class="built_in">DENSE_RANK</span>() <span class="keyword">OVER</span> (<span class="keyword">PARTITION</span> <span class="keyword">BY</span> product_name <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="built_in">SUM</span>(IF(status <span class="operator">=</span> <span class="string">&#x27;no_completed&#x27;</span>,<span class="number">1</span>,<span class="number">0</span>)) <span class="operator">/</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">DESC</span>)  rnk,</span><br><span class="line">        ROUND(<span class="built_in">SUM</span>(IF(status <span class="operator">=</span> <span class="string">&#x27;no_completed&#x27;</span>,<span class="number">1</span>,<span class="number">0</span>))<span class="operator">/</span><span class="built_in">COUNT</span>(<span class="operator">*</span>),<span class="number">4</span>) incomp_rate</span><br><span class="line">    <span class="keyword">FROM</span> order_info</span><br><span class="line">    <span class="keyword">WHERE</span> <span class="type">date</span> <span class="keyword">BETWEEN</span> <span class="string">&#x27;2021-10-16&#x27;</span> <span class="keyword">AND</span> <span class="string">&#x27;2021-10-31&#x27;</span></span><br><span class="line">    <span class="keyword">GROUP</span> <span class="keyword">BY</span> product_name,user_id</span><br><span class="line">    <span class="keyword">HAVING</span> incomp_rate <span class="operator">&gt;</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">ORDER</span> <span class="keyword">BY</span> product_name,rnk</span><br><span class="line">) a</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> product_name,user_id</span><br><span class="line"><span class="keyword">HAVING</span> rnk <span class="operator">&lt;=</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实验10 SQL互联网业务查询-1</title>
      <link href="/posts/54623/"/>
      <url>/posts/54623/</url>
      
        <content type="html"><![CDATA[<h1 id="第1关-查找购买个数超过20-重量小于50的商品-按照商品id升序排序">第1关 查找购买个数超过20,重量小于50的商品，按照商品id升序排序</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">USE mygoods;</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> G.id,<span class="built_in">SUM</span>(T.count) total</span><br><span class="line"><span class="keyword">FROM</span> goods G</span><br><span class="line"><span class="keyword">JOIN</span> trans T <span class="keyword">USING</span>(id)</span><br><span class="line"><span class="keyword">WHERE</span> weight <span class="operator">&lt;</span> <span class="number">50</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> T.id</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">SUM</span>(T.count)<span class="operator">&gt;</span><span class="number">20</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> G.id;</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第2关-查询向follow表中user-id-1-的用户-推荐其关注的人喜欢的音乐">第2关 查询向follow表中user_id = 1 的用户，推荐其关注的人喜欢的音乐</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">USE mymusic;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> music_name</span><br><span class="line"><span class="keyword">FROM</span> music</span><br><span class="line"><span class="keyword">WHERE</span> id <span class="keyword">IN</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> music_id</span><br><span class="line">    <span class="keyword">FROM</span> music_likes mi,follow f</span><br><span class="line">    <span class="keyword">WHERE</span> mi.user_id <span class="operator">=</span> f.follower_id <span class="keyword">AND</span> f.user_id <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">AND</span> music_id <span class="keyword">NOT</span> <span class="keyword">IN</span>(</span><br><span class="line">        <span class="keyword">SELECT</span> music_id</span><br><span class="line">        <span class="keyword">FROM</span> music_likes mi</span><br><span class="line">        <span class="keyword">WHERE</span> user_id <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> music_name</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第3关-查询向follow表中user-id用户-推荐其关注的人喜欢的音乐">第3关 查询向follow表中user_id用户，推荐其关注的人喜欢的音乐</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">USE mymusic;</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> f.user_id,music_name</span><br><span class="line"><span class="keyword">FROM</span> music_likes mi</span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> follow f <span class="keyword">ON</span> f.follower_id <span class="operator">=</span> mi.user_id</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> music m <span class="keyword">ON</span> mi.music_id <span class="operator">=</span> m.id</span><br><span class="line"><span class="keyword">WHERE</span> music_id <span class="keyword">NOT</span> <span class="keyword">IN</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> music_id</span><br><span class="line">    <span class="keyword">FROM</span> (</span><br><span class="line">        <span class="keyword">SELECT</span> Tablea.<span class="operator">*</span></span><br><span class="line">        <span class="keyword">FROM</span> (</span><br><span class="line">            <span class="keyword">SELECT</span></span><br><span class="line">            mi1.<span class="operator">*</span>,</span><br><span class="line">            f1.follower_id</span><br><span class="line">            <span class="keyword">FROM</span> follow f1,music_likes mi1</span><br><span class="line">            <span class="keyword">WHERE</span> f1.user_id <span class="operator">=</span> mi1.user_id</span><br><span class="line">        ) Tablea,music_likes mi2</span><br><span class="line">        <span class="keyword">WHERE</span> Tablea.follower_id <span class="operator">=</span> mi2.user_id <span class="keyword">AND</span> Tablea.music_id <span class="operator">=</span> mi2.music_id</span><br><span class="line">    ) Tableb</span><br><span class="line">)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> user_id,music_name</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第4关-查询用户日活数及支付金额">第4关 查询用户日活数及支付金额</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">USE myusers;</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">   lr.dt,</span><br><span class="line">   <span class="built_in">COUNT</span>(<span class="keyword">DISTINCT</span> lr.user_id) dau,</span><br><span class="line">   <span class="built_in">SUM</span>(nu.is_new) dau_new,</span><br><span class="line">   <span class="built_in">SUM</span>(up.pay_money) total_pay,</span><br><span class="line">   <span class="built_in">SUM</span>(IF(nu.is_new<span class="operator">=</span><span class="number">1</span>,up.pay_money,<span class="keyword">NULL</span>)) total_pay_new</span><br><span class="line"><span class="keyword">FROM</span> (<span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> user_id,dt <span class="keyword">FROM</span> login_record) lr</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> new_user nu <span class="keyword">ON</span> lr.user_id <span class="operator">=</span> nu.user_id</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> user_pay up <span class="keyword">ON</span> lr.user_id <span class="operator">=</span> up.user_id <span class="keyword">AND</span> lr.dt <span class="operator">=</span> up.dt</span><br><span class="line"></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> lr.dt</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">SUM</span>(up.pay_money) <span class="keyword">IS</span> <span class="keyword">NOT NULL</span></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第5关-查询各工程号最大的按零件号合计供应量以及该零件号-并先按工程号升序-再按零件号升序排序">第5关 查询各工程号最大的按零件号合计供应量以及该零件号，并先按工程号升序，再按零件号升序排序。</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> JNO,PNO,SUM_QTY maxsum</span><br><span class="line"><span class="keyword">FROM</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> JNO,PNO,<span class="built_in">SUM</span>(QTY) SUM_QTY</span><br><span class="line">    <span class="keyword">FROM</span> SPJ</span><br><span class="line">    <span class="keyword">GROUP</span> <span class="keyword">BY</span> JNO,PNO</span><br><span class="line">    <span class="keyword">ORDER</span> <span class="keyword">BY</span> JNO,PNO</span><br><span class="line">) A</span><br><span class="line"><span class="keyword">WHERE</span> SUM_QTY <span class="operator">=</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="built_in">MAX</span>(SUM_QTY) maxsum</span><br><span class="line">    <span class="keyword">FROM</span>(</span><br><span class="line">        <span class="keyword">SELECT</span> JNO,PNO,<span class="built_in">SUM</span>(QTY) SUM_QTY</span><br><span class="line">            <span class="keyword">FROM</span> SPJ</span><br><span class="line">            <span class="keyword">GROUP</span> <span class="keyword">BY</span> JNO,PNO</span><br><span class="line">            <span class="keyword">ORDER</span> <span class="keyword">BY</span> JNO,PNO) B</span><br><span class="line">    <span class="keyword">WHERE</span> A.JNO <span class="operator">=</span> B.JNO</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实验9 SQL视图</title>
      <link href="/posts/90/"/>
      <url>/posts/90/</url>
      
        <content type="html"><![CDATA[<h1 id="第1关-请为三建工程项目建立一个供应情况的视图v-spq-包括供应商代码-sno-零件代码-pno-供应数量-qty">第1关 请为三建工程项目建立一个供应情况的视图V_SPQ，包括供应商代码(SNO)、零件代码(PNO)、供应数量(QTY)</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> V_SPQ <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> SNO,PNO,QTY</span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">JOIN</span> J <span class="keyword">USING</span>(JNO)</span><br><span class="line"><span class="keyword">WHERE</span> JNAME <span class="operator">=</span> <span class="string">&#x27;三建&#x27;</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> V_SPQ;</span><br></pre></td></tr></table></figure><h1 id="第2关-从视图v-spq找出三建工程项目使用的各种零件代码及其数">第2关 从视图V_SPQ找出三建工程项目使用的各种零件代码及其数</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> PNO ,<span class="built_in">SUM</span>(QTY) SUM_QTY</span><br><span class="line"><span class="keyword">FROM</span> V_SPQ</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> PNO</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> SUM_QTY <span class="keyword">DESC</span></span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第3关-从视图v-spq找出供应商s1的供应情况">第3关 从视图V_SPQ找出供应商S1的供应情况</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> PNO,QTY</span><br><span class="line"><span class="keyword">FROM</span> V_SPQ</span><br><span class="line"><span class="keyword">WHERE</span> SNO <span class="operator">=</span> <span class="string">&#x27;S1&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第4关-定义查询s2供应商的所有供应明细的视图v-spj2">第4关 定义查询S2供应商的所有供应明细的视图V_SPJ2</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> V_SPJ2 <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">WHERE</span> SNO <span class="operator">=</span> <span class="string">&#x27;S2&#x27;</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> V_SPJ2;</span><br></pre></td></tr></table></figure><h1 id="第5关-定义查询北京的供应商的编号-名称和城市的视图v-bjs">第5关 定义查询北京的供应商的编号、名称和城市的视图V_BJS</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> V_BJS <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> SNO,SNAME,CITY</span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">WHERE</span> CITY <span class="operator">=</span> <span class="string">&#x27;北京&#x27;</span>;</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> V_BJS;</span><br></pre></td></tr></table></figure><h1 id="第6关-定义查询各工程名称使用的各种颜色零件的个数的视图v-pjq">第6关 定义查询各工程名称使用的各种颜色零件的个数的视图V_PJQ</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> V_PJQ <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> JNAME,COLOR,<span class="built_in">SUM</span>(QTY) SUM_QTY</span><br><span class="line"><span class="keyword">FROM</span> SPJ,P,J</span><br><span class="line"><span class="keyword">WHERE</span> SPJ.PNO <span class="operator">=</span> P.PNO <span class="keyword">AND</span> SPJ.JNO <span class="operator">=</span> J.JNO</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> JNAME,COLOR;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> V_PJQ <span class="keyword">ORDER</span> <span class="keyword">BY</span> V_PJQ.JNAME <span class="keyword">ASC</span>, V_PJQ.COLOR <span class="keyword">ASC</span>;</span><br></pre></td></tr></table></figure><h1 id="第7关-将视图v-spq中供应数量为400的供应商改为-s1-并观察基本表spj的变化">第7关 将视图V_SPQ中供应数量为400的供应商改为’S1’，并观察基本表SPJ的变化</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">UPDATE</span> V_SPQ</span><br><span class="line"><span class="keyword">SET</span> SNO <span class="operator">=</span> <span class="string">&#x27;S1&#x27;</span></span><br><span class="line"><span class="keyword">WHERE</span> QTY<span class="operator">=</span><span class="number">400</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SPJ;</span><br></pre></td></tr></table></figure><h1 id="第8关-建立比赛-1001-的所有解答的视图v-1001-并要求进行修改和插入操作时仍需保证该视图只有比赛1001的解答">第8关 建立比赛 1001 的所有解答的视图v_1001，并要求进行修改和插入操作时仍需保证该视图只有比赛1001的解答。</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> v_1001 <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> solution</span><br><span class="line"><span class="keyword">WHERE</span> contest_id <span class="operator">=</span> <span class="string">&#x27;1001&#x27;</span></span><br><span class="line"><span class="keyword">WITH</span> <span class="keyword">CHECK</span> OPTION;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#保证下面一行MYSQL语句在<span class="number">16</span>行的位置，以保证结果匹配</span><br><span class="line"><span class="keyword">UPDATE</span> v_1001 <span class="keyword">SET</span> v_1001.contest_id <span class="operator">=</span> <span class="number">1002</span>;</span><br></pre></td></tr></table></figure><h1 id="第9关-建立2020级做了1003号题的选手视图v-user2020-1003-包括user-id-name-result">第9关 建立2020级做了1003号题的选手视图v_user2020_1003（包括user_id、name、result）</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> v_user2020_1003 <span class="keyword">As</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> u.user_id,name,<span class="keyword">result</span></span><br><span class="line"><span class="keyword">FROM</span> users u,solution s</span><br><span class="line"><span class="keyword">WHERE</span> u.user_id <span class="operator">=</span> s.user_id <span class="keyword">AND</span> s.user_id <span class="keyword">LIKE</span> &quot;2020%&quot; <span class="keyword">AND</span> s.problem_id <span class="operator">=</span> <span class="number">1003</span> ;</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> v_user2020_1003;</span><br></pre></td></tr></table></figure><h1 id="第10关-建立2020级做了1001号题且result为6的选手视图v-user2020-1001-6">第10关 建立2020级做了1001号题且result为6的选手视图v_user2020_1001_6</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> v_user2020_1001_6 <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> u.user_id,u.name,s.result,s.problem_id</span><br><span class="line"><span class="keyword">FROM</span> users u,solution s</span><br><span class="line"><span class="keyword">WHERE</span> u.user_id <span class="operator">=</span> s.user_id <span class="keyword">AND</span> s.user_id <span class="keyword">LIKE</span> &quot;2020%&quot; <span class="keyword">AND</span> s.problem_id <span class="operator">=</span> <span class="number">1001</span> <span class="keyword">AND</span> s.result <span class="operator">=</span> <span class="number">6</span>;</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> v_user2020_1001_6;</span><br></pre></td></tr></table></figure><h1 id="第11关-将选手的user-id及解答的平均avgmemory定义为一个视图v-users-avgmemory">第11关 将选手的user_id及解答的平均avgmemory定义为一个视图v_users_avgmemory</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> v_users_avgmemory <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> user_id,<span class="built_in">AVG</span>(memory) avgmemory</span><br><span class="line"><span class="keyword">FROM</span> solution</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> user_id;</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> v_users_avgmemory;</span><br></pre></td></tr></table></figure><h1 id="第12关-删除视图v-1001">第12关 删除视图v_1001</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> v_1001;</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#保证下面一行MYSQL语句在<span class="number">9</span>行的位置，以保证结果匹配</span><br><span class="line"><span class="keyword">SELECT</span> v_1001.<span class="operator">*</span> <span class="keyword">FROM</span> v_1001;</span><br></pre></td></tr></table></figure><h1 id="第13关-在视图v-users-avgmemory中查询平均memory在2000以下的选手信息及平均memory">第13关 在视图v_users_avgmemory中查询平均memory在2000以下的选手信息及平均memory</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> v_users_avgmemory</span><br><span class="line"><span class="keyword">WHERE</span> avgmemory <span class="operator">&lt;</span> <span class="number">2000</span></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第14关-在视图v-1001中删除user-id为201902010318的记录">第14关 在视图v_1001中删除user_id为201902010318的记录</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> v_1001</span><br><span class="line"><span class="keyword">WHERE</span> user_id <span class="operator">=</span> <span class="number">201902010318</span>;</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> v_1001;</span><br></pre></td></tr></table></figure><h1 id="第15关-在视图v-users-avgmemory中插入一条记录-2020100904-1800">第15关 在视图v_users_avgmemory中插入一条记录(2020100904，1800)</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line"></span><br><span class="line">#请在第<span class="number">5</span>行开始添加实现代码，务必保证从第<span class="number">5</span>行开始添加代码，以保证结果匹配</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">INSERT INTO</span> v_users_avgmemory <span class="keyword">VALUE</span>(<span class="number">2020100904</span>,<span class="number">1800</span>)</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第16关-在视图v-user2020-1003中将user-id为20200202的result更改为10">第16关 在视图v_user2020_1003中将user_id为20200202的result更改为10</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">UPDATE</span> v_user2020_1003</span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">result</span> <span class="operator">=</span> <span class="number">10</span></span><br><span class="line"><span class="keyword">WHERE</span> user_id <span class="operator">=</span> <span class="string">&#x27;20200202&#x27;</span>;</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> v_user2020_1003.<span class="operator">*</span> <span class="keyword">FROM</span> v_user2020_1003 <span class="keyword">WHERE</span> v_user2020_1003.user_id <span class="operator">=</span> <span class="string">&#x27;20200202&#x27;</span>;</span><br></pre></td></tr></table></figure><h1 id="第17关-根据该需求给spj表插入相应数据">第17关 根据该需求给SPJ表插入相应数据</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">INSERT INTO</span> SPJ (SNO,PNO,JNO,QTY)</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    <span class="string">&#x27;S3&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;P4&#x27;</span>,</span><br><span class="line">    JNO,</span><br><span class="line">    <span class="keyword">NULL</span></span><br><span class="line"><span class="keyword">FROM</span> J</span><br><span class="line"><span class="keyword">WHERE</span> JNAME <span class="keyword">LIKE</span> <span class="string">&#x27;%厂&#x27;</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SPJ;</span><br></pre></td></tr></table></figure><h1 id="第18关-创建一个名为v-pjmaxsp的视图">第18关 创建一个名为V_PJMAXSP的视图</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> TemTable <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> JNO,SNO,<span class="built_in">SUM</span>(QTY) SUM_QTY</span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> SNO,JNO</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> JNO,QTY <span class="keyword">DESC</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> V_PJMAXSP <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> TemTable.JNO,TemTable.SNO,SNAME</span><br><span class="line"><span class="keyword">FROM</span> TemTable,S</span><br><span class="line"><span class="keyword">WHERE</span> SUM_QTY<span class="operator">&gt;=</span><span class="keyword">ALL</span>(<span class="keyword">SELECT</span> SUM_QTY <span class="keyword">FROM</span> TemTable t <span class="keyword">WHERE</span> TemTable.JNO<span class="operator">=</span>t.JNO)</span><br><span class="line">    <span class="keyword">AND</span> TemTable.SNO <span class="operator">=</span> S.SNO</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> JNO,SNO;</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> V_PJMAXSP;</span><br></pre></td></tr></table></figure><h1 id="第19关-创建一个名为test的视图">第19关 创建一个名为test的视图</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> test <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> u.<span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> users u</span><br><span class="line"><span class="keyword">JOIN</span> solution s <span class="keyword">USING</span>(user_id)</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">    <span class="keyword">FROM</span> solution A</span><br><span class="line">    <span class="keyword">WHERE</span> A.user_id <span class="operator">=</span> <span class="string">&#x27;202002020217&#x27;</span> <span class="keyword">AND</span> <span class="keyword">result</span> <span class="operator">=</span> <span class="number">4</span> <span class="keyword">AND</span> <span class="keyword">language</span> <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">AND</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>(</span><br><span class="line">            <span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">            <span class="keyword">FROM</span> solution B</span><br><span class="line">            <span class="keyword">WHERE</span> u.user_id <span class="operator">=</span> B.user_id <span class="keyword">AND</span> A.problem_id <span class="operator">=</span> B.problem_id</span><br><span class="line">        )</span><br><span class="line">)</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> u.user_id</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="keyword">DISTINCT</span> s.contest_id) <span class="operator">=</span> <span class="number">3</span>;</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> test;</span><br></pre></td></tr></table></figure><h1 id="第20关-创建一个名为v-qty-rank的视图">第20关 创建一个名为V_QTY_RANK的视图</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> V_QTY_RANK</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    <span class="operator">*</span>,</span><br><span class="line">    <span class="keyword">CASE</span></span><br><span class="line">        <span class="keyword">WHEN</span> QTY <span class="operator">&gt;=</span> <span class="number">500</span> <span class="keyword">THEN</span> <span class="string">&#x27;A&#x27;</span></span><br><span class="line">        <span class="keyword">WHEN</span> QTY <span class="keyword">BETWEEN</span> <span class="number">200</span> <span class="keyword">AND</span> <span class="number">500</span> <span class="keyword">THEN</span> <span class="string">&#x27;B&#x27;</span></span><br><span class="line">        <span class="keyword">WHEN</span> QTY <span class="operator">&lt;</span> <span class="number">200</span> <span class="keyword">THEN</span> <span class="string">&#x27;C&#x27;</span></span><br><span class="line">        <span class="keyword">ELSE</span> <span class="keyword">NULL</span></span><br><span class="line">    <span class="keyword">END</span> <span class="keyword">AS</span> QTY_RANK</span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> QTY_RANK;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> V_QTY_RANK;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实验8 SQL的复杂多表查询-2</title>
      <link href="/posts/14962/"/>
      <url>/posts/14962/</url>
      
        <content type="html"><![CDATA[<h1 id="第1关-基于派生表查询每个队员解答中超过他平均memory的user-id及题目编号problem-id">第1关 基于派生表查询每个队员解答中超过他平均memory的user_id及题目编号problem_id</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> s.user_id,s.problem_id</span><br><span class="line"><span class="keyword">FROM</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> user_id,<span class="built_in">AVG</span>(memory) <span class="keyword">AS</span> AM</span><br><span class="line">    <span class="keyword">FROM</span> solution</span><br><span class="line">    <span class="keyword">GROUP</span> <span class="keyword">BY</span> user_id</span><br><span class="line">) <span class="keyword">AS</span> Ta</span><br><span class="line"><span class="keyword">JOIN</span> solution s <span class="keyword">USING</span>(user_id)</span><br><span class="line"><span class="keyword">WHERE</span> s.memory <span class="operator">&gt;</span> Ta.AM</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第2关-用any-all实现查询2019级选手-user-id前4位为2019-满足比2020级其中一个选手注册时间早即可的选手">第2关 用ANY/ALL实现查询2019级选手（user_id前4位为2019）满足比2020级其中一个选手注册时间早即可的选手</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> user_id,reg_time,name</span><br><span class="line"><span class="keyword">FROM</span> users</span><br><span class="line"><span class="keyword">WHERE</span> user_id <span class="keyword">LIKE</span> <span class="string">&#x27;2019%&#x27;</span> <span class="keyword">AND</span> reg_time <span class="operator">&lt;</span> <span class="keyword">ANY</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> reg_time</span><br><span class="line">    <span class="keyword">FROM</span> users</span><br><span class="line">    <span class="keyword">WHERE</span> user_id <span class="keyword">LIKE</span> <span class="string">&#x27;2020%&#x27;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第3关-用聚集查询实现查询2019级选手-user-id前4位为2019-满足比2020级其中一个选手注册时间早即可的选手">第3关 用聚集查询实现查询2019级选手（user_id前4位为2019）满足比2020级其中一个选手注册时间早即可的选手</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> user_id,reg_time,name</span><br><span class="line"><span class="keyword">FROM</span> users</span><br><span class="line"><span class="keyword">WHERE</span> user_id <span class="keyword">LIKE</span> &quot;2019%&quot; <span class="keyword">AND</span> reg_time <span class="operator">&lt;</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="built_in">MAX</span>(reg_time)</span><br><span class="line">    <span class="keyword">FROM</span> users</span><br><span class="line">    <span class="keyword">WHERE</span> user_id <span class="keyword">LIKE</span> &quot;2020%&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第4关-用any-all实现查询2019级选手所有比2020级选手注册时间都早的选手信息">第4关 用ANY/ALL实现查询2019级选手所有比2020级选手注册时间都早的选手信息</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> users</span><br><span class="line"><span class="keyword">WHERE</span> user_id <span class="keyword">LIKE</span> &quot;2019%&quot; <span class="keyword">AND</span> reg_time <span class="operator">&lt;</span> <span class="keyword">ALL</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> reg_time</span><br><span class="line">    <span class="keyword">FROM</span> users</span><br><span class="line">    <span class="keyword">WHERE</span> user_id <span class="keyword">LIKE</span>&quot;2020%&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第5关-用聚集查询实现查询2019级选手所有比2020级选手注册时间都早的选手信息">第5关 用聚集查询实现查询2019级选手所有比2020级选手注册时间都早的选手信息</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> users</span><br><span class="line"><span class="keyword">WHERE</span> user_id <span class="keyword">LIKE</span> &quot;2019%&quot; <span class="keyword">AND</span> reg_time<span class="operator">&lt;</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="built_in">MIN</span>(reg_time)</span><br><span class="line">    <span class="keyword">FROM</span> users</span><br><span class="line">    <span class="keyword">WHERE</span> user_id <span class="keyword">LIKE</span> &quot;2020%&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第6关-用-not-exists-实现查询至少参与过-202002020217-选手参与过的所有比赛的选手信息">第6关 用 NOT EXISTS 实现查询至少参与过&quot;202002020217&quot;选手参与过的所有比赛的选手信息</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> users</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">    <span class="keyword">FROM</span> (</span><br><span class="line">        <span class="keyword">SELECT</span> contest_id</span><br><span class="line">        <span class="keyword">FROM</span> solution s</span><br><span class="line">        <span class="keyword">WHERE</span> user_id <span class="operator">=</span> <span class="string">&#x27;202002020217&#x27;</span> <span class="keyword">AND</span> contest_id <span class="keyword">IS</span> <span class="keyword">NOT NULL</span></span><br><span class="line">    ) s1</span><br><span class="line">    <span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> (</span><br><span class="line">        <span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">        <span class="keyword">FROM</span> solution s2</span><br><span class="line">        <span class="keyword">WHERE</span> s1.contest_id <span class="operator">=</span> s2.contest_id <span class="keyword">AND</span> users.user_id <span class="operator">=</span> s2.user_id</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第7关-求至少用了供应商-s1所供应的全部零件的工程号-jno">第7关 求至少用了供应商 S1所供应的全部零件的工程号 JNO</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> a.JNO</span><br><span class="line"><span class="keyword">FROM</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">    <span class="keyword">FROM</span> SPJ</span><br><span class="line">    <span class="keyword">WHERE</span> PNO <span class="keyword">IN</span> (</span><br><span class="line">        <span class="keyword">SELECT</span> PNO</span><br><span class="line">        <span class="keyword">FROM</span> (</span><br><span class="line">            <span class="keyword">SELECT</span> PNO,JNO</span><br><span class="line">            <span class="keyword">FROM</span> SPJ</span><br><span class="line">            <span class="keyword">WHERE</span> SNO <span class="operator">=</span> <span class="string">&#x27;S1&#x27;</span></span><br><span class="line">        ) Ta</span><br><span class="line">    )</span><br><span class="line">) a,</span><br><span class="line">(</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">    <span class="keyword">FROM</span> SPJ</span><br><span class="line">    <span class="keyword">WHERE</span> PNO <span class="keyword">IN</span> (</span><br><span class="line">        <span class="keyword">SELECT</span> PNO</span><br><span class="line">        <span class="keyword">FROM</span> (</span><br><span class="line">            <span class="keyword">SELECT</span> PNO,JNO</span><br><span class="line">            <span class="keyword">FROM</span> SPJ</span><br><span class="line">            <span class="keyword">WHERE</span> SNO <span class="operator">=</span> <span class="string">&#x27;S1&#x27;</span></span><br><span class="line">        ) Ta</span><br><span class="line">    )</span><br><span class="line">) b</span><br><span class="line"><span class="keyword">WHERE</span> a.JNO <span class="operator">=</span> b.JNO <span class="keyword">AND</span> a.PNO <span class="operator">!=</span> b.PN</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实验7 SQL的复杂多表查询-1</title>
      <link href="/posts/15145/"/>
      <url>/posts/15145/</url>
      
        <content type="html"><![CDATA[<h1 id="第1关-求各颜色零件的平均重量">第1关 求各颜色零件的平均重量</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    COLOR,</span><br><span class="line">    <span class="built_in">AVG</span>(WEIGHT)</span><br><span class="line"><span class="keyword">FROM</span> P</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> COLOR;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第2关-求北京和天津供应商的总个数">第2关 求北京和天津供应商的总个数</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    CITY,</span><br><span class="line">    <span class="built_in">COUNT</span>(<span class="operator">*</span>)</span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">WHERE</span> CITY <span class="operator">=</span> <span class="string">&#x27;北京&#x27;</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    CITY,</span><br><span class="line">    <span class="built_in">COUNT</span>(<span class="operator">*</span>)</span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">WHERE</span> CITY <span class="operator">=</span> <span class="string">&#x27;天津&#x27;</span></span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第3关-求各供应商供应的零件总数">第3关 求各供应商供应的零件总数</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    SNO,</span><br><span class="line">    <span class="built_in">SUM</span>(QTY) SUM_QTY</span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> SNO</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> SUM_QTY <span class="keyword">DESC</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第4关-求各供应商供应给各工程的零件总数">第4关 求各供应商供应给各工程的零件总数</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    SNO,</span><br><span class="line">    JNO,</span><br><span class="line">    <span class="built_in">SUM</span>(QTY) SUM_QTY</span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> SNO,JNO</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> SNO <span class="keyword">DESC</span>, JNO <span class="keyword">DESC</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第5关-求重量大于所有零件平均重量的零件名称">第5关 求重量大于所有零件平均重量的零件名称</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    PNAME</span><br><span class="line"><span class="keyword">FROM</span> P</span><br><span class="line"><span class="keyword">WHERE</span> WEIGHT <span class="operator">&gt;</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="built_in">AVG</span>(WEIGHT)</span><br><span class="line">    <span class="keyword">FROM</span> P</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第6关-查询供应了1000个以上零件的供应商名称">第6关 查询供应了1000个以上零件的供应商名称</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    SNAME</span><br><span class="line"><span class="keyword">FROM</span> S,SPJ</span><br><span class="line"><span class="keyword">WHERE</span> S.SNO <span class="operator">=</span> SPJ.SNO</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> SNAME</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">SUM</span>(QTY)<span class="operator">&gt;</span><span class="number">1000</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> SNAME <span class="keyword">DESC</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第7关-统计p表中颜色为蓝色的零件个数-并指定该查询列的名称为-蓝色零件数">第7关 统计P表中颜色为蓝色的零件个数，并指定该查询列的名称为“蓝色零件数”</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    <span class="built_in">COUNT</span>(COLOR) <span class="string">&#x27;蓝色零件数&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> P</span><br><span class="line"><span class="keyword">WHERE</span> COLOR <span class="operator">=</span> <span class="string">&#x27;蓝&#x27;</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第8关-查询p表中各零件的编号-名称及重量按85-计算后的信息-其中重量按85-计算后的查询列名改为-零件净重">第8关 查询P表中各零件的编号，名称及重量按85%计算后的信息，其中重量按85%计算后的查询列名改为“零件净重”</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    PNO,</span><br><span class="line">    PNAME,</span><br><span class="line">    WEIGHT <span class="operator">*</span> <span class="number">0.85</span> <span class="string">&#x27;零件净重&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> P</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第9关-查询-s表status值大于20且小于50-或sname字段值的第一个字为-精-或第三个字为-益-或-民-的供应">第9关 查询 S表STATUS值大于20且小于50，或SNAME字段值的第一个字为“精”或第三个字为“益”或“民”的供应</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"><span class="keyword">WHERE</span> (STATUS <span class="operator">&gt;</span> <span class="number">20</span> <span class="keyword">AND</span> STATUS <span class="operator">&lt;</span> <span class="number">50</span>)<span class="keyword">OR</span> (SNAME <span class="keyword">LIKE</span> <span class="string">&#x27;精%&#x27;</span> <span class="keyword">OR</span> SNAME <span class="keyword">LIKE</span> <span class="string">&#x27;__益&#x27;</span> <span class="keyword">OR</span> SNAME <span class="keyword">LIKE</span> <span class="string">&#x27;__民&#x27;</span>);</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第10关-将spj表按qty值降序排列-再找出spj表中前6条记录-用limit-6">第10关 将SPJ表按QTY值降序排列，再找出SPJ表中前6条记录(用limit 6)</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line">SELEC <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> QTY <span class="keyword">DESC</span></span><br><span class="line">LIMIT <span class="number">6</span></span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第11关-找出供应零件总数量不低于1000的供应商号码-及每个供应商供应的总数量-并且结果按总数量降序排列">第11关 找出供应零件总数量不低于1000的供应商号码，及每个供应商供应的总数量，并且结果按总数量降序排列</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    SNO,</span><br><span class="line">    <span class="built_in">SUM</span>(QTY) SUM_QTY</span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> SNO</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">SUM</span>(QTY) <span class="operator">&gt;=</span><span class="number">1000</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> SUM_QTY <span class="keyword">DESC</span></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第12关-找出工程项目j1使用的各种零件的名称及其数量">第12关 找出工程项目J1使用的各种零件的名称及其数量</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    PNAME,</span><br><span class="line">    <span class="built_in">SUM</span>(QTY) SUM_QTY</span><br><span class="line"><span class="keyword">FROM</span> SPJ,P</span><br><span class="line"><span class="keyword">WHERE</span> SPJ.PNO <span class="operator">=</span> P.PNO <span class="keyword">AND</span> SPJ.JNO <span class="operator">=</span> <span class="string">&#x27;J1&#x27;</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> PNAME</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> SUM_QTY <span class="keyword">DESC</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第13关-求使用了300个及以上p1零件的工程名称">第13关 求使用了300个及以上P1零件的工程名称</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    JNAME</span><br><span class="line"><span class="keyword">FROM</span> J</span><br><span class="line"><span class="keyword">JOIN</span> SPJ <span class="keyword">USING</span>(JNO)</span><br><span class="line"><span class="keyword">WHERE</span> SPJ.PNO <span class="operator">=</span> <span class="string">&#x27;P1&#x27;</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> JNAME</span><br><span class="line"><span class="keyword">HAVING</span>  <span class="built_in">SUM</span>(QTY) <span class="operator">&gt;</span> <span class="number">300</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第14关-求各工程-名-使用的各城市供应的零件总数">第14关 求各工程（名）使用的各城市供应的零件总数</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    JNAME,</span><br><span class="line">    S.CITY,</span><br><span class="line">    <span class="built_in">SUM</span>(QTY) SUM_QTY</span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">JOIN</span> S <span class="keyword">USING</span>(SNO)</span><br><span class="line"><span class="keyword">JOIN</span> J <span class="keyword">USING</span>(JNO)</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> JNAME,S.CITY</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> JNAME <span class="keyword">DESC</span>,S.CITY <span class="keyword">DESC</span></span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第15关-用嵌套查询这样的工程：供给该工程的零件p3的平均供应量-大于其中一种供给工程j1的零件的最大供应量">第15关 用嵌套查询这样的工程：供给该工程的零件P3的平均供应量，大于其中一种供给工程J1的零件的最大供应量</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> JNO</span><br><span class="line"><span class="keyword">FROM</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> JNO,<span class="built_in">AVG</span>(QTY) JQ</span><br><span class="line">    <span class="keyword">FROM</span> SPJ</span><br><span class="line">    <span class="keyword">WHERE</span> PNO <span class="operator">=</span> <span class="string">&#x27;P3&#x27;</span></span><br><span class="line">    <span class="keyword">GROUP</span> <span class="keyword">BY</span> JNO</span><br><span class="line">) T1</span><br><span class="line"><span class="keyword">WHERE</span> JQ <span class="operator">&gt;</span><span class="keyword">ANY</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> PQ</span><br><span class="line">    <span class="keyword">FROM</span>(</span><br><span class="line">        <span class="keyword">SELECT</span> <span class="built_in">MAX</span>(QTY) PQ</span><br><span class="line">        <span class="keyword">FROM</span> SPJ</span><br><span class="line">        <span class="keyword">WHERE</span> JNO <span class="operator">=</span><span class="string">&#x27;J1&#x27;</span></span><br><span class="line">        <span class="keyword">GROUP</span> <span class="keyword">BY</span> PNO</span><br><span class="line">    ) T2</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第16关-用链接查询这样的工程：供给该工程的零件p3的平均供应量-大于其中一种供给工程j1的零件的最大供应量">第16关 用链接查询这样的工程：供给该工程的零件P3的平均供应量，大于其中一种供给工程J1的零件的最大供应量</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> JNO</span><br><span class="line"><span class="keyword">FROM</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> JNO,<span class="built_in">AVG</span>(QTY) JQ</span><br><span class="line">    <span class="keyword">FROM</span> SPJ</span><br><span class="line">    <span class="keyword">WHERE</span> PNO <span class="operator">=</span> <span class="string">&#x27;P3&#x27;</span></span><br><span class="line">    <span class="keyword">GROUP</span> <span class="keyword">BY</span> JNO</span><br><span class="line">) T1</span><br><span class="line"><span class="keyword">JOIN</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="built_in">MAX</span>(QTY) PQ</span><br><span class="line">    <span class="keyword">FROM</span> SPJ</span><br><span class="line">    <span class="keyword">WHERE</span> JNO <span class="operator">=</span><span class="string">&#x27;J1&#x27;</span></span><br><span class="line">    <span class="keyword">GROUP</span> <span class="keyword">BY</span> PNO</span><br><span class="line">) T2</span><br><span class="line"><span class="keyword">ON</span> T1.JQ <span class="operator">&gt;</span> T2.PQ</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第17关-查询这样的工程号：供应该工程零件p3的平均供应量-不小于工程j1使用各零件合计数量的最小值">第17关 查询这样的工程号：供应该工程零件P3的平均供应量，不小于工程J1使用各零件合计数量的最小值</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> JNO</span><br><span class="line"><span class="keyword">FROM</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> JNO,<span class="built_in">AVG</span>(QTY) JQ</span><br><span class="line">    <span class="keyword">FROM</span> SPJ</span><br><span class="line">    <span class="keyword">WHERE</span> PNO<span class="operator">=</span><span class="string">&#x27;P3&#x27;</span></span><br><span class="line">    <span class="keyword">GROUP</span> <span class="keyword">BY</span> JN</span><br><span class="line">) T1</span><br><span class="line"><span class="keyword">WHERE</span> JQ<span class="operator">&gt;=</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="built_in">MIN</span>(PQ)</span><br><span class="line">    <span class="keyword">FROM</span> (</span><br><span class="line">        <span class="keyword">SELECT</span> <span class="built_in">SUM</span>(QTY) PQ</span><br><span class="line">        <span class="keyword">FROM</span> SPJ</span><br><span class="line">        <span class="keyword">WHERE</span> JNO <span class="operator">=</span> <span class="string">&#x27;J1&#x27;</span></span><br><span class="line">        <span class="keyword">GROUP</span> <span class="keyword">BY</span> PNO</span><br><span class="line">    ) T2</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实验6 SQL的多表查询-2</title>
      <link href="/posts/48365/"/>
      <url>/posts/48365/</url>
      
        <content type="html"><![CDATA[<h1 id="第1关-查询每个选手的信息及其提交的解答信息-没做题的选手不显示">第1关 查询每个选手的信息及其提交的解答信息，没做题的选手不显示</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码，在语句末尾加LIMIT <span class="number">50</span>，即可显示查询结果前<span class="number">50</span>条。</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> users u,solution s</span><br><span class="line"><span class="keyword">WHERE</span> u.user_id <span class="operator">=</span> s.user_id</span><br><span class="line">LIMIT <span class="number">50</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第2关-查询做了1001题且耗时大于500-time-的选手信息">第2关 查询做了1001题且耗时大于500（time）的选手信息</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> u.user_id,u.reg_time,u.name</span><br><span class="line"><span class="keyword">FROM</span> users u,solution s</span><br><span class="line"><span class="keyword">WHERE</span> u.user_id <span class="operator">=</span> s.user_id <span class="keyword">AND</span> s.time<span class="operator">&gt;</span><span class="number">500</span> <span class="keyword">AND</span> s.problem_id <span class="operator">=</span> <span class="number">1001</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第3关-查询所有选手信息及其提交的解答信息-没做题的选手也要显示">第3关 查询所有选手信息及其提交的解答信息，没做题的选手也要显示</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码，在语句末尾加LIMIT <span class="number">50</span>，即可显示查询结果前<span class="number">50</span>条。</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> users u</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> solution s</span><br><span class="line">    <span class="keyword">ON</span> u.user_id <span class="operator">=</span> s.user_id</span><br><span class="line">LIMIT <span class="number">50</span>;</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第4关-查询每个选手的信息-交的题目-和提交的结果-没做题的选手不显示">第4关 查询每个选手的信息、交的题目、和提交的结果，没做题的选手不显示</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码，在语句末尾加LIMIT <span class="number">50</span>，即可显示查询结果前<span class="number">50</span>条。</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> u.user_id,u.reg_time,u.name,s.problem_id,s.result</span><br><span class="line"><span class="keyword">FROM</span> users u</span><br><span class="line"><span class="keyword">JOIN</span> solution s</span><br><span class="line">    <span class="keyword">ON</span> u.user_id <span class="operator">=</span> s.user_id</span><br><span class="line">LIMIT <span class="number">50</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第5关-用嵌套查询查找和problem-id为-1026-的题目属于同一个比赛的题目信息">第5关 用嵌套查询查找和problem_id为 1026 的题目属于同一个比赛的题目信息</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> problem p</span><br><span class="line"><span class="keyword">WHERE</span> problem_id <span class="keyword">IN</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> problem_id</span><br><span class="line">    <span class="keyword">FROM</span> contest_problem</span><br><span class="line">    <span class="keyword">WHERE</span> contest_id <span class="keyword">IN</span>(</span><br><span class="line">        <span class="keyword">SELECT</span> contest_id</span><br><span class="line">        <span class="keyword">FROM</span> contest_problem</span><br><span class="line">        <span class="keyword">WHERE</span> problem_id <span class="operator">=</span> <span class="string">&#x27;1026&#x27;</span></span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> problem_id;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第6关-用连接查询查找和problem-id为-1026-的题目属于同一个比赛的题目信息">第6关 用连接查询查找和problem_id为 1026 的题目属于同一个比赛的题目信息</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> p.problem_id,title,description,hint,time_limit,memory_limit</span><br><span class="line"><span class="keyword">FROM</span> problem p,contest_problem cpA,contest_problem cpB</span><br><span class="line"><span class="keyword">WHERE</span> cpA.problem_id <span class="operator">=</span> <span class="number">1026</span> <span class="keyword">AND</span> cpA.contest_id <span class="operator">=</span> cpB.contest_id <span class="keyword">AND</span> cpB.problem_id <span class="operator">=</span> p.problem_id</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> p.problem_id</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第7关-用-exists-实现查询做了-1032-号题的选手信息">第7关 用 EXISTS 实现查询做了 1032 号题的选手信息</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> users u</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">EXISTS</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">    <span class="keyword">FROM</span> solution</span><br><span class="line">    <span class="keyword">WHERE</span> problem_id <span class="operator">=</span> <span class="number">1032</span> <span class="keyword">AND</span> u.user_id <span class="operator">=</span> user_id</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第8关-用not-exists实现查询没做-1032-号题的选手信息">第8关 用NOT EXISTS实现查询没做 1032 号题的选手信息</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> users u</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">    <span class="keyword">FROM</span> solution s</span><br><span class="line">    <span class="keyword">WHERE</span> problem_id <span class="operator">=</span> <span class="number">1032</span> <span class="keyword">AND</span> u.user_id <span class="operator">=</span> s.user_id</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第9关-用-exists-实现查询和problem-id为-1026-的题目属于同一个比赛的题目信息">第9关 用 EXISTS 实现查询和problem_id为 1026 的题目属于同一个比赛的题目信息</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> problem p</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">EXISTS</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">    <span class="keyword">FROM</span> contest_problem cpA,contest_problem cpB</span><br><span class="line">    <span class="keyword">WHERE</span> cpA.problem_id <span class="operator">=</span> <span class="number">1026</span> <span class="keyword">AND</span> cpA.contest_id <span class="operator">=</span> cpB.contest_id <span class="keyword">AND</span> p.problem_id <span class="operator">=</span> cpB.problem_id</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第10关-用-not-exists-实现查询参与过所有比赛的选手信息">第10关 用 NOT EXISTS 实现查询参与过所有比赛的选手信息</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> users u</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">    <span class="keyword">FROM</span> contest c</span><br><span class="line">    <span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>(</span><br><span class="line">        <span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">        <span class="keyword">FROM</span> solution s</span><br><span class="line">        <span class="keyword">WHERE</span> u.user_id <span class="operator">=</span> s.user_id <span class="keyword">AND</span> c.contest_id <span class="operator">=</span> s.contest_id</span><br><span class="line">    )</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实验5 SQL的多表查询-1</title>
      <link href="/posts/43230/"/>
      <url>/posts/43230/</url>
      
        <content type="html"><![CDATA[<h1 id="第1关-等值连接：求s表和j表城市相同的等值连接-列顺序还是按照s-j表">第1关 等值连接：求S表和J表城市相同的等值连接(列顺序还是按照S、J表)</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> S,J</span><br><span class="line"><span class="keyword">WHERE</span> S.CITY <span class="operator">=</span> J.CITY</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第2关-查询供应情况-并显示供应商-零件和工程三者的名称">第2关 查询供应情况，并显示供应商、零件和工程三者的名称</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> SNAME,PNAME,JNAME,QTY</span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">JOIN</span> S <span class="keyword">USING</span> (SNO)</span><br><span class="line"><span class="keyword">JOIN</span> P <span class="keyword">USING</span>(PNO)</span><br><span class="line"><span class="keyword">JOIN</span> J <span class="keyword">USING</span>(JNO)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 第二种写法</span></span><br><span class="line"><span class="keyword">SELECT</span> SNAME,PNAME,JNAME,QTY</span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">JOIN</span> S <span class="keyword">ON</span> SPJ.SNO <span class="operator">=</span> S.SNO</span><br><span class="line"><span class="keyword">JOIN</span> P <span class="keyword">ON</span> SPJ.PNO <span class="operator">=</span> P.PNO</span><br><span class="line"><span class="keyword">JOIN</span> J <span class="keyword">ON</span> SPJ.JNO <span class="operator">=</span> J.JNO</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第3关-找出上海厂商供应的所有零件号码">第3关 找出上海厂商供应的所有零件号码</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> PNO</span><br><span class="line"><span class="keyword">FROM</span> SPJ,S</span><br><span class="line"><span class="keyword">WHERE</span> SPJ.SNO <span class="operator">=</span> S.SNO <span class="keyword">AND</span> S.CITY <span class="operator">=</span> <span class="string">&#x27;上海&#x27;</span></span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第4关-找出使用上海产的零件的工程名称">第4关 找出使用上海产的零件的工程名称</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> JNAME</span><br><span class="line"><span class="keyword">FROM</span> J</span><br><span class="line"><span class="keyword">WHERE</span> JNO <span class="keyword">IN</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> JNO</span><br><span class="line">    <span class="keyword">FROM</span> SPJ,S</span><br><span class="line">    <span class="keyword">WHERE</span> SPJ.SNO <span class="operator">=</span> S.SNO <span class="keyword">AND</span> S.CITY <span class="operator">=</span> <span class="string">&#x27;上海&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> JNAME <span class="keyword">DESC</span></span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第5关-找出没有使用天津产的零件的工程号码">第5关  找出没有使用天津产的零件的工程号码</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> JNO</span><br><span class="line"><span class="keyword">FROM</span> J</span><br><span class="line"><span class="keyword">WHERE</span> JNO <span class="keyword">NOT</span> <span class="keyword">IN</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> JNO</span><br><span class="line">    <span class="keyword">FROM</span> SPJ,S</span><br><span class="line">    <span class="keyword">WHERE</span> SPJ.SNO <span class="operator">=</span> S.SNO <span class="keyword">AND</span> S.CITY <span class="operator">=</span> <span class="string">&#x27;天津&#x27;</span></span><br><span class="line">);</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第6关-求供应工程j1零件为红色的供应商号码sno">第6关 求供应工程J1零件为红色的供应商号码SNO</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> SNO</span><br><span class="line"><span class="keyword">FROM</span> SPJ,P</span><br><span class="line"><span class="keyword">WHERE</span> SPJ.JNO <span class="operator">=</span> <span class="string">&#x27;J1&#x27;</span> <span class="keyword">AND</span> SPJ.PNO <span class="operator">=</span> P.PNO <span class="keyword">AND</span> P.COLOR <span class="operator">=</span> <span class="string">&#x27;红&#x27;</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第7关-求没有使用天津供应商生产的红色零件的工程号-jno">第7关 求没有使用天津供应商生产的红色零件的工程号 JNO</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> JNO</span><br><span class="line"><span class="keyword">FROM</span> J</span><br><span class="line"><span class="keyword">WHERE</span> JNO <span class="keyword">NOT</span> <span class="keyword">IN</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> JNO</span><br><span class="line">    <span class="keyword">FROM</span> SPJ,S,P</span><br><span class="line">    <span class="keyword">WHERE</span>  SPJ.SNO <span class="operator">=</span> S.SNO <span class="keyword">AND</span> SPJ.PNO <span class="operator">=</span> P.PNO <span class="keyword">AND</span></span><br><span class="line">        P.COLOR <span class="operator">=</span> <span class="string">&#x27;红&#x27;</span> <span class="keyword">AND</span> S.CITY <span class="operator">=</span> <span class="string">&#x27;天津&#x27;</span></span><br><span class="line">)</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第8关-查询所有-红色-的15公斤及以上的零件名">第8关 查询所有“红色”的15公斤及以上的零件名</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> PNAME</span><br><span class="line"><span class="keyword">FROM</span> P</span><br><span class="line"><span class="keyword">WHERE</span> COLOR <span class="operator">=</span> <span class="string">&#x27;红&#x27;</span> <span class="keyword">AND</span> WEIGHT <span class="operator">&gt;=</span> <span class="number">15</span>;</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第9关-查询工程名称中含有-厂-字的工程明细">第9关 查询工程名称中含有“厂”字的工程明细</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> J</span><br><span class="line"><span class="keyword">WHERE</span> JNAME <span class="keyword">LIKE</span> <span class="string">&#x27;%厂&#x27;</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实验4 MySQL单表查询</title>
      <link href="/posts/43911/"/>
      <url>/posts/43911/</url>
      
        <content type="html"><![CDATA[<h1 id="第1关-在users表中新增一个用户-user-id为2019100904学号-name为-2019-物联网-李明">第1关 在users表中新增一个用户，user_id为2019100904学号，name为’2019-物联网-李明’</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">INSERT INTO</span> users(user_id,name)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">2019100904</span>,<span class="string">&#x27;2019-物联网-李明&#x27;</span>);</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> users.user_id <span class="operator">=</span> <span class="string">&#x27;2019100904&#x27;</span>;</span><br></pre></td></tr></table></figure><h1 id="第2关-在users表中更新用户-user-id为robot-2-的信息-name设为-机器人二号">第2关 在users表中更新用户 user_id为robot_2 的信息，name设为 ‘机器人二号’</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">UPDATE</span> users</span><br><span class="line"><span class="keyword">SET</span> name<span class="operator">=</span><span class="string">&#x27;机器人二号&#x27;</span></span><br><span class="line"><span class="keyword">WHERE</span> user_id<span class="operator">=</span><span class="string">&#x27;robot_2&#x27;</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> users.user_id <span class="operator">=</span> <span class="string">&#x27;robot_2&#x27;</span>;</span><br></pre></td></tr></table></figure><h1 id="第3关-将solution表中所有-problem-id-为1003-题目的解答结果-result-设为-6">第3关 将solution表中所有 problem_id 为1003 题目的解答结果（result）设为 6</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">UPDATE</span> solution</span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">result</span><span class="operator">=</span><span class="number">6</span></span><br><span class="line"><span class="keyword">WHERE</span> problem_id<span class="operator">=</span><span class="number">1003</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> solution <span class="keyword">WHERE</span> solution.problem_id <span class="operator">=</span> <span class="number">1003</span>;</span><br></pre></td></tr></table></figure><h1 id="第4关-删除solution表中比赛contest-id-为1001的全部解答">第4关 删除solution表中比赛contest_id 为1001的全部解答</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> solution</span><br><span class="line"><span class="keyword">WHERE</span> contest_id<span class="operator">=</span><span class="number">1001</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> solution <span class="keyword">WHERE</span> solution.contest_id <span class="operator">=</span> <span class="number">1001</span>;</span><br></pre></td></tr></table></figure><h1 id="第5关-查询所有-contest-的-title-和-end-time">第5关 查询所有 contest 的 title 和 end_time</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> title,end_time</span><br><span class="line"><span class="keyword">FROM</span> contest;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第6关-查询哪些选手的-user-id-提交过-solution-要求结果中-user-id-不重复">第6关 查询哪些选手的 user_id 提交过 solution，要求结果中 user_id 不重复</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> user_id</span><br><span class="line"><span class="keyword">FROM</span> solution;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第7关-查询-end-time-晚于-2020-11-21-17-30-00-的-contest-id">第7关 查询 end_time 晚于 ‘2020-11-21 17:30:00’ 的 contest_id</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> contest_id <span class="keyword">FROM</span> contest</span><br><span class="line"><span class="keyword">WHERE</span> end_time<span class="operator">&gt;</span><span class="string">&#x27;2020-11-21 17:30:00&#x27;</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第8关-查询-problem-id-在-1005-1009-之间的-problem-的-title">第8关 查询 problem_id 在 1005~1009 之间的 problem 的 title</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> title <span class="keyword">FROM</span> problem</span><br><span class="line"><span class="keyword">WHERE</span> problem_id<span class="operator">&gt;=</span><span class="number">1005</span> <span class="keyword">and</span> problem_id<span class="operator">&lt;=</span><span class="number">1009</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第9关-查询-language-不在-0-1-3-中的-solution-的-code-length">第9关 查询 language 不在 0、1、3 中的 solution 的 code_length</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> code_length <span class="keyword">FROM</span> solution</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">language</span> <span class="keyword">NOT</span> <span class="keyword">IN</span> (<span class="number">0</span>,<span class="number">1</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第10关-查询2018级选手信息-user-id-为学号的用户前4位为年级">第10关 查询2018级选手信息（user_id 为学号的用户前4位为年级）</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users</span><br><span class="line"><span class="keyword">WHERE</span> user_id <span class="keyword">LIKE</span> <span class="string">&#x27;2018%&#x27;</span></span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第11关-查询-生医-专业选手信息-name-中有-生医-的选手">第11关 查询’生医’专业选手信息（name 中有 ‘生医’ 的选手）</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users</span><br><span class="line"><span class="keyword">WHERE</span> name <span class="keyword">LIKE</span> <span class="string">&#x27;%生医%&#x27;</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第12关-查询不属于任何比赛的solution的-solution-id-和-in-date-contest-id-为-null">第12关 查询不属于任何比赛的solution的 solution_id 和 in_date（contest_id 为 NULL）</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> solution_id,in_date <span class="keyword">FROM</span> solution</span><br><span class="line"><span class="keyword">WHERE</span> contest_id <span class="keyword">is</span> <span class="keyword">NULL</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第13关-查询-result-为-6-且-problem-id大于1010-的-solution-id与language">第13关 查询 result 为 6 且 problem_id大于1010 的 solution_id与language</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> solution_id,<span class="keyword">language</span> <span class="keyword">FROM</span> solution</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">result</span><span class="operator">=</span><span class="number">6</span> <span class="keyword">and</span> problem_id<span class="operator">&gt;</span><span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第14关-查询提交过solution的选手人数">第14关 查询提交过solution的选手人数</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="keyword">DISTINCT</span> user_id)</span><br><span class="line"><span class="keyword">FROM</span> solution;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第15关-查询耗内存-memory-最多的solution的内存消耗大小与-solution-id">第15关 查询耗内存（memory）最多的solution的内存消耗大小与 solution_id</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> memory,solution_id <span class="keyword">FROM</span> solution</span><br><span class="line"><span class="keyword">WHERE</span> memory  <span class="keyword">IN</span></span><br><span class="line">(</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="built_in">MAX</span>(memory)</span><br><span class="line">    <span class="keyword">FROM</span> solution</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第16关-查询每个题目的提交数">第16关 查询每个题目的提交数</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> problem_id,<span class="built_in">COUNT</span>(problem_id)</span><br><span class="line"><span class="keyword">FROM</span> solution</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> problem_id;</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第17关-查询提交数大于20的题目的题号">第17关 查询提交数大于20的题目的题号</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> problem_id <span class="keyword">FROM</span> solution</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> problem_id</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(problem_id)<span class="operator">&gt;</span><span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第18关-查找所有problem-id-为1001-的解答或contest-id-为空的解答">第18关 查找所有problem_id 为1001 的解答或contest_id 为空的解答</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">USE `sqlexp<span class="operator">-</span>sztuoj`;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> solution</span><br><span class="line"><span class="keyword">WHERE</span> problem_id<span class="operator">=</span><span class="number">1001</span> <span class="keyword">or</span> contest_id <span class="keyword">is</span> <span class="keyword">NULL</span>;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实验3 MySQL的DDL语言</title>
      <link href="/posts/57811/"/>
      <url>/posts/57811/</url>
      
        <content type="html"><![CDATA[<h1 id="第1关-将p表中的所有红色零件的重量增加6">第1关 将P表中的所有红色零件的重量增加6</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line"><span class="keyword">UPDATE</span> P</span><br><span class="line"><span class="keyword">set</span> WEIGHT<span class="operator">=</span>WEIGHT<span class="operator">+</span><span class="number">6</span></span><br><span class="line"><span class="keyword">WHERE</span> COLOR<span class="operator">=</span><span class="string">&#x27;红&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> P;</span><br></pre></td></tr></table></figure><h1 id="第2关-把p表中全部红色零件的颜色改成蓝色">第2关 把P表中全部红色零件的颜色改成蓝色</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line"><span class="keyword">UPDATE</span> P</span><br><span class="line"><span class="keyword">SET</span> COLOR<span class="operator">=</span><span class="string">&#x27;蓝&#x27;</span></span><br><span class="line"><span class="keyword">WHERE</span> COLOR<span class="operator">=</span><span class="string">&#x27;红&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> P;</span><br></pre></td></tr></table></figure><h1 id="第3关-将spj表中由s5供给j4的零件p6改为由s3供应">第3关 将SPJ表中由S5供给J4的零件P6改为由S3供应</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line"><span class="keyword">UPDATE</span> SPJ</span><br><span class="line"><span class="keyword">SET</span> SNO<span class="operator">=</span>&quot;S3&quot;</span><br><span class="line"><span class="keyword">WHERE</span> PNO<span class="operator">=</span>&quot;P6&quot; <span class="keyword">AND</span> JNO<span class="operator">=</span>&quot;J4&quot; <span class="keyword">AND</span> SNO<span class="operator">=</span>&quot;S5&quot;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SPJ;</span><br></pre></td></tr></table></figure><h1 id="第4关-将spj表中所有天津供应商的qty属性值减少11-用子查询方式">第4关 将SPJ表中所有天津供应商的QTY属性值减少11（用子查询方式）</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line"><span class="keyword">UPDATE</span> SPJ</span><br><span class="line"><span class="keyword">SET</span> QTY<span class="operator">=</span>QTY<span class="number">-11</span></span><br><span class="line"><span class="keyword">WHERE</span> SNO <span class="keyword">IN</span></span><br><span class="line">(</span><br><span class="line">    <span class="keyword">SELECT</span> SNO</span><br><span class="line">    <span class="keyword">FROM</span> S</span><br><span class="line">    <span class="keyword">WHERE</span> CITY<span class="operator">=</span><span class="string">&#x27;天津&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SPJ;</span><br></pre></td></tr></table></figure><h1 id="第5关-删除j表中的所有工程项目在天津的记录">第5关 删除J表中的所有工程项目在天津的记录</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line"><span class="keyword">DELETE</span></span><br><span class="line"><span class="keyword">FROM</span> J</span><br><span class="line"><span class="keyword">WHERE</span> CITY<span class="operator">=</span><span class="string">&#x27;天津&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> J;</span><br></pre></td></tr></table></figure><h1 id="第6关-从spj表中删除供应商号是s2的记录">第6关 从SPJ表中删除供应商号是S2的记录</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">DELETE</span></span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">WHERE</span> SNO<span class="operator">=</span>&quot;S2&quot;;</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SPJ;</span><br></pre></td></tr></table></figure><h1 id="第7关-从spj表中删除零件名称为螺丝刀的记录-用子查询方式">第7关 从SPJ表中删除零件名称为螺丝刀的记录（用子查询方式）</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">DELETE</span></span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">WHERE</span> PNO <span class="keyword">IN</span></span><br><span class="line">(</span><br><span class="line">    <span class="keyword">SELECT</span> PNO</span><br><span class="line">    <span class="keyword">FROM</span> P</span><br><span class="line">    <span class="keyword">WHERE</span> PNAME<span class="operator">=</span>&quot;螺丝刀&quot;</span><br><span class="line">);  </span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SPJ;</span><br></pre></td></tr></table></figure><h1 id="第8关-删除p表中所有的记录">第8关 删除P表中所有的记录</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> P;</span><br><span class="line"> </span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> P</span><br></pre></td></tr></table></figure><h1 id="第9关-请将-s2-j6-p4-200-插入供应情况关系表spj">第9关 请将(S2，J6，P4，200)插入供应情况关系表SPJ</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">INSERT</span></span><br><span class="line"><span class="keyword">INTO</span> SPJ(SNO,PNO,JNO,QTY)</span><br><span class="line"><span class="keyword">VALUES</span>(&quot;S2&quot;,&quot;P4&quot;,&quot;J6&quot;,<span class="number">200</span>);  </span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br><span class="line">#以下代码禁止删除</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SPJ;</span><br></pre></td></tr></table></figure><h1 id="第10关-求供应工程j1零件的供应商号码sno">第10关 求供应工程J1零件的供应商号码SNO</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> SNO</span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">WHERE</span> JNO<span class="operator">=</span>&quot;J1&quot;;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第11关-求供应工程j1零件p1的供应商号码sno">第11关 求供应工程J1零件P1的供应商号码SNO</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">######### <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> SNO</span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">WHERE</span> JNO<span class="operator">=</span>&quot;J1&quot; <span class="keyword">AND</span> PNO<span class="operator">=</span>&quot;P1&quot;;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第12关-找出所有供应商的姓名和所在城市">第12关 找出所有供应商的姓名和所在城市</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> SNAME,CITY</span><br><span class="line"><span class="keyword">FROM</span> S</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第13关-找出所有零件的名称-颜色-重量">第13关 找出所有零件的名称、颜色、重量</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> PNAME,COLOR,WEIGHT</span><br><span class="line"><span class="keyword">FROM</span> P;</span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure><h1 id="第14关-找出使用供应商s1所供应零件的工程号码">第14关 找出使用供应商S1所供应零件的工程号码</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line">#请在此处添加实现代码</span><br><span class="line">########## <span class="keyword">Begin</span> ##########</span><br><span class="line"><span class="keyword">SELECT</span> JNO</span><br><span class="line"><span class="keyword">FROM</span> SPJ</span><br><span class="line"><span class="keyword">WHERE</span> SNO<span class="operator">=</span>&quot;S1&quot;;</span><br><span class="line"></span><br><span class="line">########## <span class="keyword">End</span> ##########</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实验2 MySQL软件操作及建库建表建数据</title>
      <link href="/posts/33322/"/>
      <url>/posts/33322/</url>
      
        <content type="html"><![CDATA[<h1 id="第1关-创建数据库">第1关  创建数据库</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE mydata;</span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span> databases;</span><br></pre></td></tr></table></figure><h1 id="第2关-创建供应商表s-并插入数据">第2关 创建供应商表S，并插入数据</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE TABLE</span> S(</span><br><span class="line">   SNO <span class="type">CHAR</span>(<span class="number">2</span>),</span><br><span class="line">   SNAME <span class="type">VARCHAR</span>(<span class="number">5</span>),</span><br><span class="line">   STATUS <span class="type">INT</span>,</span><br><span class="line">   CITY <span class="type">CHAR</span>(<span class="number">2</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT INTO</span> S <span class="keyword">VALUES</span>(<span class="string">&#x27;S1&#x27;</span>,<span class="string">&#x27;精益&#x27;</span>,<span class="number">20</span>,<span class="string">&#x27;天津&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> S <span class="keyword">VALUES</span>(<span class="string">&#x27;S2&#x27;</span>,<span class="string">&#x27;盛锡&#x27;</span>,<span class="number">10</span>,<span class="string">&#x27;北京&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> S <span class="keyword">VALUES</span>(<span class="string">&#x27;S3&#x27;</span>,<span class="string">&#x27;东方红&#x27;</span>,<span class="number">30</span>,<span class="string">&#x27;北京&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> S <span class="keyword">VALUES</span>(<span class="string">&#x27;S4&#x27;</span>,<span class="string">&#x27;丰泰盛&#x27;</span>,<span class="number">20</span>,<span class="string">&#x27;天津&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> S <span class="keyword">VALUES</span>(<span class="string">&#x27;S5&#x27;</span>,<span class="string">&#x27;为民&#x27;</span>,<span class="number">30</span>,<span class="string">&#x27;上海&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> S;</span><br></pre></td></tr></table></figure><h1 id="第3关-创建零件表p-并插入数据">第3关 创建零件表P，并插入数据</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE TABLE</span> P(</span><br><span class="line">    PNO <span class="type">CHAR</span>(<span class="number">2</span>),</span><br><span class="line">    PNAME <span class="type">VARCHAR</span>(<span class="number">5</span>),</span><br><span class="line">    COLOR <span class="type">CHAR</span>(<span class="number">1</span>),</span><br><span class="line">    WEIGHT <span class="type">INT</span></span><br><span class="line"></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT INTO</span> P <span class="keyword">VALUES</span> (<span class="string">&#x27;P1&#x27;</span>,<span class="string">&#x27;螺母&#x27;</span>,<span class="string">&#x27;红&#x27;</span>,<span class="number">12</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> P <span class="keyword">VALUES</span> (<span class="string">&#x27;P2&#x27;</span>,<span class="string">&#x27;螺栓&#x27;</span>,<span class="string">&#x27;绿&#x27;</span>,<span class="number">17</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> P <span class="keyword">VALUES</span> (<span class="string">&#x27;P3&#x27;</span>,<span class="string">&#x27;螺丝刀&#x27;</span>,<span class="string">&#x27;蓝&#x27;</span>,<span class="number">14</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> P <span class="keyword">VALUES</span> (<span class="string">&#x27;P4&#x27;</span>,<span class="string">&#x27;螺丝刀&#x27;</span>,<span class="string">&#x27;红&#x27;</span>,<span class="number">14</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> P <span class="keyword">VALUES</span> (<span class="string">&#x27;P5&#x27;</span>,<span class="string">&#x27;凸轮&#x27;</span>,<span class="string">&#x27;蓝&#x27;</span>,<span class="number">40</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> P <span class="keyword">VALUES</span> (<span class="string">&#x27;P6&#x27;</span>,<span class="string">&#x27;齿轮&#x27;</span>,<span class="string">&#x27;红&#x27;</span>,<span class="number">30</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> P;</span><br></pre></td></tr></table></figure><h1 id="第4关-创建工程项目表j-并插入数据">第4关 创建工程项目表J，并插入数据</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE TABLE</span> J(</span><br><span class="line">    JNO <span class="type">CHAR</span>(<span class="number">2</span>),</span><br><span class="line">    JNAME <span class="type">VARCHAR</span>(<span class="number">5</span>),</span><br><span class="line">    CITY <span class="type">CHAR</span>(<span class="number">2</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">INSERT INTO</span> J <span class="keyword">VALUES</span> (<span class="string">&#x27;J1&#x27;</span>,<span class="string">&#x27;三建&#x27;</span>,<span class="string">&#x27;北京&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> J <span class="keyword">VALUES</span> (<span class="string">&#x27;J2&#x27;</span>,<span class="string">&#x27;一汽&#x27;</span>,<span class="string">&#x27;长春&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> J <span class="keyword">VALUES</span> (<span class="string">&#x27;J3&#x27;</span>,<span class="string">&#x27;弹簧厂&#x27;</span>,<span class="string">&#x27;天津&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> J <span class="keyword">VALUES</span> (<span class="string">&#x27;J4&#x27;</span>,<span class="string">&#x27;造船厂&#x27;</span>,<span class="string">&#x27;天津&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> J <span class="keyword">VALUES</span> (<span class="string">&#x27;J5&#x27;</span>,<span class="string">&#x27;机车厂&#x27;</span>,<span class="string">&#x27;唐山&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> J <span class="keyword">VALUES</span> (<span class="string">&#x27;J6&#x27;</span>,<span class="string">&#x27;无线电厂&#x27;</span>,<span class="string">&#x27;常州&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> J <span class="keyword">VALUES</span> (<span class="string">&#x27;J7&#x27;</span>,<span class="string">&#x27;半导体厂&#x27;</span>,<span class="string">&#x27;南京&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> J;</span><br></pre></td></tr></table></figure><h1 id="第5关-创建供应情况表spj-并插入数据">第5关 创建供应情况表SPJ，并插入数据</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">USE mydata;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE TABLE</span> SPJ(</span><br><span class="line">    SNO <span class="type">CHAR</span>(<span class="number">2</span>),</span><br><span class="line">    PNO <span class="type">CHAR</span>(<span class="number">2</span>),</span><br><span class="line">    JNO <span class="type">CHAR</span>(<span class="number">2</span>),</span><br><span class="line">    QTY <span class="type">INT</span></span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT INTO</span> SPJ(SNO,PNO,JNO,QTY)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">&#x27;S1&#x27;</span>, <span class="string">&#x27;P1&#x27;</span>, <span class="string">&#x27;J1&#x27;</span>, <span class="number">200</span>),</span><br><span class="line">    (<span class="string">&#x27;S1&#x27;</span>, <span class="string">&#x27;P1&#x27;</span>, <span class="string">&#x27;J3&#x27;</span>, <span class="number">100</span>),</span><br><span class="line">    (<span class="string">&#x27;S1&#x27;</span>, <span class="string">&#x27;P1&#x27;</span>, <span class="string">&#x27;J4&#x27;</span>, <span class="number">700</span>),</span><br><span class="line">    (<span class="string">&#x27;S1&#x27;</span>, <span class="string">&#x27;P2&#x27;</span>, <span class="string">&#x27;J2&#x27;</span>, <span class="number">100</span>),</span><br><span class="line">    (<span class="string">&#x27;S2&#x27;</span>, <span class="string">&#x27;P3&#x27;</span>, <span class="string">&#x27;J1&#x27;</span>, <span class="number">400</span>),</span><br><span class="line">    (<span class="string">&#x27;S2&#x27;</span>, <span class="string">&#x27;P3&#x27;</span>, <span class="string">&#x27;J2&#x27;</span>, <span class="number">200</span>),</span><br><span class="line">    (<span class="string">&#x27;S2&#x27;</span>, <span class="string">&#x27;P3&#x27;</span>, <span class="string">&#x27;J4&#x27;</span>, <span class="number">500</span>),</span><br><span class="line">    (<span class="string">&#x27;S2&#x27;</span>, <span class="string">&#x27;P3&#x27;</span>, <span class="string">&#x27;J5&#x27;</span>, <span class="number">400</span>),</span><br><span class="line">    (<span class="string">&#x27;S2&#x27;</span>, <span class="string">&#x27;P5&#x27;</span>, <span class="string">&#x27;J1&#x27;</span>, <span class="number">400</span>),</span><br><span class="line">    (<span class="string">&#x27;S2&#x27;</span>, <span class="string">&#x27;P5&#x27;</span>, <span class="string">&#x27;J2&#x27;</span>, <span class="number">100</span>),</span><br><span class="line">    (<span class="string">&#x27;S3&#x27;</span>, <span class="string">&#x27;P1&#x27;</span>, <span class="string">&#x27;J1&#x27;</span>, <span class="number">200</span>),</span><br><span class="line">    (<span class="string">&#x27;S3&#x27;</span>, <span class="string">&#x27;P3&#x27;</span>, <span class="string">&#x27;J1&#x27;</span>, <span class="number">200</span>),</span><br><span class="line">    (<span class="string">&#x27;S4&#x27;</span>, <span class="string">&#x27;P5&#x27;</span>, <span class="string">&#x27;J1&#x27;</span>, <span class="number">100</span>),</span><br><span class="line">    (<span class="string">&#x27;S4&#x27;</span>, <span class="string">&#x27;P6&#x27;</span>, <span class="string">&#x27;J3&#x27;</span>, <span class="number">300</span>),  </span><br><span class="line">    (<span class="string">&#x27;S4&#x27;</span>, <span class="string">&#x27;P6&#x27;</span>, <span class="string">&#x27;J4&#x27;</span>, <span class="number">200</span>),</span><br><span class="line">    (<span class="string">&#x27;S5&#x27;</span>, <span class="string">&#x27;P2&#x27;</span>, <span class="string">&#x27;J4&#x27;</span>, <span class="number">100</span>),</span><br><span class="line">    (<span class="string">&#x27;S5&#x27;</span>, <span class="string">&#x27;P3&#x27;</span>, <span class="string">&#x27;J1&#x27;</span>, <span class="number">200</span>),</span><br><span class="line">    (<span class="string">&#x27;S5&#x27;</span>, <span class="string">&#x27;P6&#x27;</span>, <span class="string">&#x27;J2&#x27;</span>, <span class="number">200</span>),</span><br><span class="line">    (<span class="string">&#x27;S5&#x27;</span>, <span class="string">&#x27;P6&#x27;</span>, <span class="string">&#x27;J4&#x27;</span>, <span class="number">500</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SPJ;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OS报告</title>
      <link href="/posts/205686455/"/>
      <url>/posts/205686455/</url>
      
        <content type="html"><![CDATA[<p><a href="https://pan.baidu.com/share/init?surl=dp9Thx6mB8kHrWhWw2OHYw&amp;pwd=yaka">资料下载请点此处</a></p><p>操作系统的实验是基于linux系统，多数同学都是使用windows系统，此时需要安装Vmware应用来使用虚拟机，建议linux系统的版本为Ubuntu22，过于新的版本会存在一定的bug。</p><p>24年春季学期操作系统的报告内容及相关复习资料已存在网盘链接中，有需要的同学可以自行下载。<br>网盘中还存放Vmware安装包，激活密钥以及Ubuntu22的镜像。</p><p>推荐网课：<a href="https://www.bilibili.com/video/BV1qd4y177eA/?spm_id_from=333.337.search-card.all.click&amp;vd_source=7ea8b289c9b1077782b6b55d6b14d8fc">操作系统原理期末速成不挂科主攻大题_哔哩哔哩_bilibili</a></p>]]></content>
      
      
      <categories>
          
          <category> 题解 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 操作系统 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/posts/16107/"/>
      <url>/posts/16107/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="quick-start">Quick Start</h2><h3 id="create-a-new-post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="run-server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="generate-static-files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="deploy-to-remote-sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>DataBase 数据类型</title>
      <link href="/posts/129956530/"/>
      <url>/posts/129956530/</url>
      
        <content type="html"><![CDATA[<h1 id="string-类型">String 类型</h1><ul><li>CHAR 固定长度字符串<ul><li>char会开辟指定个字符的一个储存空间，假如存放一个字符A，剩余的字符空着放那，别的字符也不可以使用。</li></ul></li><li>VARCHAR 可变长度字符串 max：64KB<ul><li>varchar会根据我们存放的字符的长度来开辟存储空间。</li></ul></li><li>LONGTEXT 长文本串 max：4GB</li></ul><h1 id="整数类型">整数类型</h1><ul><li>TINYINT<ul><li>占用字节：1B，数值范围：[-128, 127]</li></ul></li><li>UNSIGNED TINYINT (无符号微整型)<ul><li>数值范围：[0, 255]</li></ul></li><li>SMALLINT<ul><li>占用字节：2B，数值范围：[-32K, 32K]</li></ul></li><li>MEDIUMINT<ul><li>占用字节：3B，数值范围：[-8M, 8M]</li></ul></li><li>INT<ul><li>占用字节：4B，数值范围：[-2B, 2B]</li></ul></li><li>BIGINT<ul><li>占用字节：8B，数值范围：[-9Z, 9Z]</li></ul></li></ul><h1 id="浮点数类型">浮点数类型</h1><ul><li>DECIMAL(p,s)<ul><li>用于存储定点数 ，p决定存储数字的最大位数（包括整数位数和小数位数），s决定小数点后的位数</li></ul></li><li>FLOAT<ul><li>占用字节：4B</li></ul></li><li>DOUBLE<ul><li>占用字节：8B</li></ul></li><li>FLOAT和DOUBLE可用于存储对精度要求不高的数据</li></ul><h1 id="布尔类型">布尔类型</h1><p>BOOLEAN/BOOL  存储True或FALSE</p><h1 id="日期和时间类型">日期和时间类型</h1><ul><li>DATE<ul><li>只能存储到日期，无法存储具体时间</li></ul></li><li>TIME</li><li>DATETIME<ul><li>占用字节：8b</li></ul></li><li>TIMESTAMP（时间戳）<ul><li>占用字节：4b，只能存储到2038年以前的时间</li></ul></li><li>YEAR<ul><li>用于存储四位数的年份</li></ul></li></ul><h1 id="json类型">JSON类型</h1><h2 id="创建json对象-假设表中已有json类型的属性">创建JSON对象（假设表中已有JSON类型的属性）</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 法1</span></span><br><span class="line"><span class="keyword">UPDATE</span> products</span><br><span class="line"><span class="keyword">SET</span> properties <span class="operator">=</span> <span class="string">&#x27;</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">&quot;dimensions&quot; : [1,2,3],</span></span><br><span class="line"><span class="string">&quot;weight&quot; : 10,</span></span><br><span class="line"><span class="string">&quot;manufacturer&quot;:&#123;&quot;name&quot;:&quot;sony&quot;&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&#x27;</span></span><br><span class="line"><span class="keyword">WHERE</span> product_id <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 法2</span></span><br><span class="line"><span class="keyword">UPDATE</span> products</span><br><span class="line"><span class="keyword">SET</span> properties <span class="operator">=</span> <span class="built_in">JSON_OBJECT</span>(</span><br><span class="line"><span class="string">&#x27;weight&#x27;</span>,<span class="number">10</span>,</span><br><span class="line"><span class="string">&#x27;dimensions&#x27;</span>,<span class="built_in">JSON_ARRAY</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>),</span><br><span class="line"><span class="string">&#x27;manufacturer&#x27;</span>,<span class="built_in">JSON_OBJECT</span>(<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;sony&#x27;</span>)</span><br><span class="line">)</span><br><span class="line"><span class="keyword">WHERE</span> product_id <span class="operator">=</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><h2 id="json函数">JSON函数</h2><ul><li>JSON_OBJECT（参数1，参数2，…，参数n）<ul><li>参数1传入键（用引号括起的字符串）</li><li>参数2传入值</li></ul></li><li>JSON_ARRAY（参数1,…,参数n）<ul><li>用于建设长度为n的数组，传入的参数为数组内的值</li></ul></li><li>JSON_EXTRACT（参数1，参数2）<ul><li>参数1为JSON属性</li><li>参数2为要读取的键值对</li><li>示例：JSON_EXTRACT(properties,&quot;$.weight&quot;), $ 表示当前读取的JSON对象</li><li>简化写法：properties-&gt;’$.weight’，-&gt;&gt; 可用于读取不带引号的字符串</li></ul></li><li>JSON_SET（参数1，键1，值1，…)<ul><li>参数1传入JSON属性的列名</li><li>键1，值1，分别传入要修改的键和修改的值，键要用’$.键名’表示</li></ul></li><li>JSON_REMOVE(参数1，参数2，…)<ul><li>参数1传入JSON属性</li><li>参数2以后传入要删除的键</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DataBase 事务</title>
      <link href="/posts/1137404687/"/>
      <url>/posts/1137404687/</url>
      
        <content type="html"><![CDATA[<p>代表单个工作单元的一组SQL语句，在事务中的语句都应成功完成。<br>属性（ACID）：</p><ul><li>原子性(Atomicity) 事务不可中断,要么事务中所有语句被执行,要么事务被退回,执行的更改被撤销</li><li>一致性(Consistency) 数据库状态保持一致</li><li>隔离性质(Isolation) 事务之间彼此不受干扰，且一次只有一个事务可更新同样的数据（互斥）</li><li>持久性(Durability) 事务产生的更改是永久的</li></ul><h2 id="创建事务">创建事务</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">START</span> TRANSACTION; <span class="comment">-- 开启事务 </span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 要执行的语句</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">COMMIT</span>; <span class="comment">-- 关闭事务</span></span><br></pre></td></tr></table></figure><h2 id="常见并发问题">常见并发问题</h2><ul><li>脏读（Dirty Reads）<ul><li>事务读取了尚未被提交的数据</li></ul></li><li>不可重复读（Non-repeating Reads）<ul><li>就是一个事务读到另一个事务修改后并提交的数据（update）。在同一个事务中，<strong>对于同一组数据读取到的结果不一致</strong></li></ul></li><li>幻读（Phantom Reads）<ul><li>事务B前后两次读取同一个范围的数据，在事务B两次读取的过程中事务A新增了数据，导致事务B后一次读取到前一次查询没有看到的行</li></ul></li><li>丢失更新<ul><li>同时有多个事务更新同样的数据，后提交的事务覆盖先前的事务</li></ul></li><li>死锁<ul><li>多个事务拿着不同事务需要更新数据的锁</li><li>出现原因：<ul><li>多个事务里对于同样的数据采用相反顺序进行更新</li></ul></li><li>解决方案：<ul><li>更新多条记录时采用相同顺序</li><li>简化事务，缩小事务运行时长</li><li>安排运行时长长的事务（基于大表）在非高峰时段进行</li></ul></li></ul></li></ul><h2 id="事务隔离级别">事务隔离级别</h2><h3 id="设置事务隔离级别">设置事务隔离级别</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;transaction_isolation&#x27;</span>; <span class="comment">-- 查看数据库的事务隔离级别</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> TRANSACTION ISOLATION LEVEL [隔离级别] <span class="comment">-- 为某个事物设置隔离级别</span></span><br><span class="line"><span class="keyword">SET</span> SESSION TRANSACTION ISOLATION LEVEL [隔离级别]</span><br><span class="line"><span class="comment">-- 为会话或连接设置隔离级别</span></span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">GLOBAL</span> TRANSACTIOn ISOLATION LEVEL [隔离级别]</span><br><span class="line"><span class="comment">-- 设置全局隔离级别</span></span><br></pre></td></tr></table></figure><ul><li>读未提交(READ UNCOMMITED)</li><li>读已提交(READ COMMITED)</li><li>可重复读(REPEATABLE READ)</li><li>序列化(SERIALIZABLE)  只在解决幻读问题的情况下使用该级别</li></ul>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DataBase 触发器和事件</title>
      <link href="/posts/1698569466/"/>
      <url>/posts/1698569466/</url>
      
        <content type="html"><![CDATA[<h1 id="触发器">触发器</h1><ul><li>MySQL触发器（Trigger）是一种特殊的存储过程，</li><li>它与表有关，当表上的特定事件（insert，update，delete）发生时，触发器会自动执行。</li><li>可以使用触发器来实现数据约束，数据验证，数据复制等功能<ul><li>数据复制：通过创建触发器，在给一张表插入数据的同时给另一张表插入同样的数据</li><li>数据验证：在插入或更新数据时，检查记录的某些字段是否符合要求，则拒绝插入或者更新，这样可以保证数据的完整性和一致性</li></ul></li><li>触发时间分为AFTER和BEFORE两种</li></ul><h2 id="创建触发器">创建触发器</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> payments_after_delete</span><br><span class="line"> AFTER <span class="keyword">DELETE</span> <span class="keyword">ON</span> payments</span><br><span class="line"> <span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span></span><br><span class="line"><span class="keyword">BEGIN</span> </span><br><span class="line"><span class="keyword">UPDATE</span> invoices</span><br><span class="line">    <span class="keyword">SET</span> payment_total <span class="operator">=</span> payment_total <span class="operator">-</span> OLD.amount</span><br><span class="line">    <span class="keyword">WHERE</span> invoice_id <span class="operator">=</span> OLD.invoice_id;</span><br><span class="line"><span class="keyword">END</span>$$</span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure><h2 id="查看触发器">查看触发器</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> <span class="keyword">TRIGGER</span> </span><br></pre></td></tr></table></figure><h2 id="删除触发器">删除触发器</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TRIGGER</span> IF <span class="keyword">EXISTS</span> [触发器]</span><br></pre></td></tr></table></figure><h1 id="事件">事件</h1><p>根据计划执行的任务或一堆SQL代码</p><h2 id="创建事件">创建事件</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> EVENT yearly_dalete_stale_audit_rows</span><br><span class="line"><span class="keyword">ON</span> SCHEDULE</span><br><span class="line"><span class="keyword">EVERY</span> <span class="number">1</span> <span class="keyword">YEAR</span> <span class="comment">-- 表示每年执行一次，可利用STARTS,ENDS 增加起止区间</span></span><br><span class="line"><span class="comment">-- AT + 具体日期 表示在该日期执行一次 </span></span><br><span class="line">DO <span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> payments_aduit</span><br><span class="line">    <span class="keyword">WHERE</span> action_date <span class="operator">&lt;</span> NOW() <span class="operator">-</span> <span class="type">INTERVAL</span> <span class="number">1</span> <span class="keyword">YEAR</span>;</span><br><span class="line"><span class="keyword">END</span>$$</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure><h2 id="查看事件">查看事件</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> EVENTS;</span><br></pre></td></tr></table></figure><h2 id="删除事件">删除事件</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> EVENT IF <span class="keyword">EXISTS</span> [事件]</span><br></pre></td></tr></table></figure><h2 id="更改事件">更改事件</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> EVENT yearly_dalete_stale_audit_rows <span class="comment">-- 关键字为ALTER</span></span><br><span class="line"><span class="keyword">ON</span> SCHEDULE</span><br><span class="line"><span class="keyword">AT</span> <span class="string">&#x27;2024-05-18&#x27;</span></span><br><span class="line">DO <span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> payments_aduit</span><br><span class="line">    <span class="keyword">WHERE</span> action_date <span class="operator">&lt;</span> NOW() <span class="operator">-</span> <span class="type">INTERVAL</span> <span class="number">1</span> <span class="keyword">YEAR</span>;</span><br><span class="line"><span class="keyword">END</span>$$</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ALTER还可以暂时启用或关闭事件</span></span><br><span class="line"><span class="keyword">ALTER</span> EVENT [事件] DISABLE <span class="operator">/</span> ENABLE;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DataBase 存储过程</title>
      <link href="/posts/1132319962/"/>
      <url>/posts/1132319962/</url>
      
        <content type="html"><![CDATA[<p>存储过程是一个包含一堆SQL代码的数据库对象</p><p>修改默认分隔符的原因：<br>在MySQL中创建存储过程时，我们通常需要修改默认的分隔符。原因是MySQL默认使用分号（;）作为SQL语句的结束标志。但在存储过程中，我们可能需要使用多条SQL语句，并且这些语句也是以分号结束的。<br>如果不修改默认的分隔符，MySQL会在遇到第一个分号时就认为存储过程的定义结束了，从而导致存储过程的创建失败。因此，我们通常在创建存储过程前先设置一个临时的分隔符（例如 $$)，然后在存储过程结束后再将分隔符改回分号。</p><h2 id="创建存储过程">创建存储过程</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $$ <span class="comment">-- 修改默认分隔符</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> get_invoices_with_balance()</span><br><span class="line"><span class="keyword">BEGIN</span> </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">    <span class="keyword">FROM</span> invoices_with_balance; <span class="comment">-- 在begin-end中，每一次的查询语句都用；分隔</span></span><br><span class="line"><span class="keyword">END</span>$$ <span class="comment">-- 使用修改后的默认分隔符来将begin-end中的内容视为一个整体</span></span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CALL</span> get_invoices_with_balance() <span class="comment">-- 使用call命令调用存储过程</span></span><br></pre></td></tr></table></figure><h2 id="删除存储过程">删除存储过程</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">PROCEDURE</span> IF <span class="keyword">EXISTS</span> get_invoices_with_balance; </span><br></pre></td></tr></table></figure><h2 id="创建带参数的存储过程">创建带参数的存储过程</h2><ul><li>不带默认值</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> get_invoices_by_client(id <span class="type">INT</span>(<span class="number">11</span>))</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">    <span class="keyword">FROM</span> invoices i</span><br><span class="line">    <span class="keyword">WHERE</span> i.client_id <span class="operator">=</span> id;</span><br><span class="line"><span class="keyword">END</span>$$</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure><ul><li>带默认值</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"><span class="keyword">CREATE</span> DEFINER<span class="operator">=</span>`root`@`localhost` <span class="keyword">PROCEDURE</span> `get_payments`(</span><br><span class="line">client_id <span class="type">INT</span>,</span><br><span class="line">    payment_method_id TINYINT</span><br><span class="line">)</span><br><span class="line"><span class="keyword">BEGIN</span> </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">    <span class="keyword">FROM</span> payments p</span><br><span class="line">    <span class="keyword">WHERE</span> p.client_id <span class="operator">=</span> IFNULL(client_id,p.client_id) </span><br><span class="line">    <span class="comment">-- 如果提供的client_id为空，则返回所有client_id</span></span><br><span class="line">    <span class="keyword">AND</span> p.payment_method <span class="operator">=</span> IFNULL(payment_method_id,p.payment_method);</span><br><span class="line"><span class="keyword">END</span>$$</span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure><h2 id="参数验证">参数验证</h2><p>在创建存储过程时加入判断语句，避免更新数据库时插入不合理的数据</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $$ </span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> make_payment</span><br><span class="line">(</span><br><span class="line">invoice_id <span class="type">INT</span>,</span><br><span class="line">payment_amount <span class="type">DECIMAL</span>(<span class="number">9</span>,<span class="number">2</span>), </span><br><span class="line"><span class="comment">-- 前一个参数表示数字的总位数（包括小数部分和整数部分），后一个表示小数点后的位数</span></span><br><span class="line">payment_date <span class="type">DATE</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">IF payment_amount <span class="operator">&lt;=</span> <span class="number">0</span> <span class="keyword">THEN</span></span><br><span class="line">SIGNAL <span class="keyword">SQLSTATE</span> <span class="string">&#x27;22003&#x27;</span> <span class="comment">-- sqlstate的错误代码，网上可搜</span></span><br><span class="line"><span class="keyword">SET</span> MESSAGE_TEXT <span class="operator">=</span> <span class="string">&#x27;Invalid payment amount&#x27;</span></span><br><span class="line"><span class="keyword">END</span> IF;</span><br><span class="line"><span class="keyword">UPDATE</span> invoices i</span><br><span class="line"><span class="keyword">SET</span> </span><br><span class="line">i.payment_total <span class="operator">=</span> payment_amount,</span><br><span class="line">i.payment_data <span class="operator">=</span> payment_date</span><br><span class="line"><span class="keyword">WHERE</span> i.invoice_id <span class="operator">=</span> invoice_id;</span><br><span class="line"><span class="keyword">END</span> $$</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure><h2 id="输出参数">输出参数</h2><p>通过程序得到返回值</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> get_unpaid_invoice_for_client</span><br><span class="line">(</span><br><span class="line">client_id <span class="type">INT</span>,</span><br><span class="line"><span class="keyword">OUT</span> invoices_count <span class="type">INT</span>, <span class="comment">-- 作为输出参数，需要使用OUT进行标记</span></span><br><span class="line"><span class="keyword">OUT</span> invoices_total <span class="type">DECIMAL</span>(<span class="number">9</span>,<span class="number">2</span>)</span><br><span class="line">)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>),<span class="built_in">SUM</span>(invoices_total)</span><br><span class="line"><span class="keyword">INTO</span> invoices_count,invoices_total <span class="comment">-- 将查询值传入输出参数</span></span><br><span class="line"><span class="keyword">FROM</span> invoices i</span><br><span class="line"><span class="keyword">WHERE</span> i.client_id <span class="operator">=</span> client_id <span class="keyword">AND</span> payment_total <span class="operator">=</span> <span class="number">0</span> </span><br><span class="line"><span class="keyword">END</span> $$</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询</span></span><br><span class="line"><span class="keyword">CALL</span> get_unpaid_invoice_for_client(<span class="number">3</span>,<span class="variable">@invoices_count</span>,<span class="variable">@invoices_total</span>)</span><br><span class="line"><span class="comment">-- 查询客户未支付的发票数和发票总金额</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="variable">@invoices_count</span>,<span class="variable">@invoices_total</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="变量">变量</h2><p>变量在mysql中分为两种：</p><ol><li>用户变量：在用户使用mysql期间会被保存，当用户下线时会被清除<br>格式：SET @变量名</li><li>本地变量：在存储过程和函数中定义的变量，在执行完毕后会被清除</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> get_risk_factor()</span><br><span class="line"><span class="keyword">BEGIN</span> </span><br><span class="line"><span class="keyword">DECLARE</span> risk_factor <span class="type">DECIMAL</span>(<span class="number">9</span>,<span class="number">2</span>) <span class="keyword">DEFAULT</span> <span class="number">0</span>; <span class="comment">-- DECLARE 声明变量</span></span><br><span class="line"><span class="keyword">DECLARE</span> invoices_total <span class="type">DECIMAL</span>(<span class="number">9</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">DECLARE</span> invoice_count <span class="type">INT</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>),<span class="built_in">SUM</span>(invoice_total)</span><br><span class="line"><span class="keyword">INTO</span> invoice_count,invoices_total</span><br><span class="line"><span class="keyword">FROM</span> invoices;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> risk_factor <span class="operator">=</span> invoices_total <span class="operator">/</span> invoice_count <span class="operator">*</span> <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> risk_factor;</span><br><span class="line"><span class="keyword">END</span>$$</span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure><h2 id="函数">函数</h2><p>函数不同于存储过程，它只能返回一列<br>函数的属性：</p><ol><li>DETERMINISTIC 确定性，相同的输入对象返回值相同</li><li>READ SQL DATA 读取SQL的数据</li><li>MODIFIES SQL DATA 修改SQL的数据</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">FUNCTION</span> get_risk_factor_for_client</span><br><span class="line">(</span><br><span class="line">client_id <span class="type">INT</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">RETURNS</span> <span class="type">INT</span> <span class="comment">-- 确定函数返回值的类型</span></span><br><span class="line"><span class="keyword">READS</span> <span class="keyword">SQL</span> DATA <span class="comment">-- 确定函数的属性</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">DECLARE</span> risk_factor <span class="type">DECIMAL</span>(<span class="number">9</span>,<span class="number">2</span>) <span class="keyword">DEFAULT</span> <span class="number">0</span>; <span class="comment">-- DECLARE 声明变量</span></span><br><span class="line"><span class="keyword">DECLARE</span> invoices_total <span class="type">DECIMAL</span>(<span class="number">9</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">DECLARE</span> invoices_count <span class="type">INT</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>),<span class="built_in">SUM</span>(invoice_total)</span><br><span class="line"><span class="keyword">INTO</span> invoices_count,invoices_total</span><br><span class="line"><span class="keyword">FROM</span> invoices i</span><br><span class="line"><span class="keyword">WHERE</span> i.client_id <span class="operator">=</span> client_id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> risk_factor <span class="operator">=</span> invoices_total <span class="operator">/</span> invoices_count <span class="operator">*</span> <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">RETURN</span> IFNULL(risk_factor,<span class="number">0</span>);</span><br><span class="line"><span class="keyword">END</span> $$</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DataBase 增删改语句</title>
      <link href="/posts/1419064164/"/>
      <url>/posts/1419064164/</url>
      
        <content type="html"><![CDATA[<h2 id="insert子句-插入数据">INSERT子句 插入数据</h2><ol><li>插入单行<br>格式：INSERT INTO 表名 （列名1，列名2，……） VALUES（值1，值2，……）</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT INTO</span> customers(first_name,last_name,address,city,state)</span><br><span class="line"><span class="comment">-- 列名属于可忽略部分，但通过写列名，可以不按表中的列名顺序插入，如果大量数据不按照表中列名顺序，可考虑写列名部分；同时写列名部分，可以只插入表中没有设定默认值的列值，其他则会设定为默认值</span></span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">&#x27;xiling&#x27;</span>,<span class="string">&#x27;luo&#x27;</span>,<span class="string">&#x27;SZTU&#x27;</span>,<span class="string">&#x27;shenzhen&#x27;</span>,<span class="string">&#x27;GD&#x27;</span>)</span><br></pre></td></tr></table></figure><ol start="2"><li>插入多行<br>格式：INSERT INTO 表名 （列名1，列名2，……）<br>VALUES（值1，值2，……），（值1，值2，……），……</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT INTO</span> products(name,quantity_in_stock,unit_price)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">&#x27;product4&#x27;</span>,<span class="number">25</span>,<span class="number">4.55</span>),</span><br><span class="line">(<span class="string">&#x27;product5&#x27;</span>,<span class="number">38</span>,<span class="number">3.50</span>)</span><br></pre></td></tr></table></figure><ol start="3"><li>插入分层行<br>若要在两个有关联的表插入有关联的元组数据，可通过LAST_INSERT_ID()调用上一条记录刚得到的id（该id为表中的主键，拥有自动递增特性）</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT INTO</span> orders(customer_id,order_date,status) </span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">12</span>,<span class="string">&#x27;2024-04-02&#x27;</span>,<span class="number">1</span>)；</span><br><span class="line"><span class="keyword">INSERT INTO</span> order_items </span><br><span class="line"><span class="keyword">VALUES</span>(LAST_INSERT_ID(),<span class="number">14</span>,<span class="number">1</span>,<span class="number">4.55</span>)；</span><br></pre></td></tr></table></figure><h3 id="建表并复制">建表并复制</h3><p>将某表的某些记录复制成另一个表，利用 <strong>CREATE TABLE 【表名】 AS</strong> 完成。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE TABLE</span> invoices_archived <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> i.invoice_id,</span><br><span class="line">  i.number,</span><br><span class="line">     c.name client,</span><br><span class="line">     i.invoice_total,</span><br><span class="line">     i.payment_total,</span><br><span class="line">     i.invoice_date,</span><br><span class="line">     i.due_date,</span><br><span class="line">     i.payment_date</span><br><span class="line"><span class="keyword">FROM</span> clients c,invoices i</span><br><span class="line"><span class="keyword">WHERE</span> c.client_id <span class="operator">=</span> i.client_id <span class="keyword">AND</span> payment_date <span class="keyword">IS</span> <span class="keyword">NOT NULL</span></span><br><span class="line"><span class="comment">-- SELECT子句用于挑选被复制的记录</span></span><br></pre></td></tr></table></figure><h2 id="update子句-更新数据">UPDATE子句 更新数据</h2><ol><li>更新一行<br>格式：UPDATE 【表名】 SET 【列名1】= 值1,…… ，WHERE 条件（指定某一条记录的主键）</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> invoices</span><br><span class="line"><span class="keyword">SET</span> payment_total <span class="operator">=</span> <span class="number">10</span>, payment_date <span class="operator">=</span> <span class="string">&#x27;2019-03-01&#x27;</span></span><br><span class="line"><span class="keyword">WHERE</span> invoice_id <span class="operator">=</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure><ol start="2"><li>更新多行<br>格式：UPDATE 【表名】 SET 【列名1】= 值1,…… ，WHERE 条件</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> customers</span><br><span class="line"><span class="keyword">SET</span> points <span class="operator">=</span> points <span class="operator">+</span> <span class="number">50</span></span><br><span class="line"><span class="keyword">WHERE</span> birth_date <span class="operator">&lt;</span> <span class="string">&#x27;1990-01-01&#x27;</span>;</span><br></pre></td></tr></table></figure><ol start="3"><li>使用子查询的情况<br>在我们不知道WHERE的条件时，可以用子查询先得到我们所需要的条件，再进行更新。<br>如：我们需要更新订单表内的注释信息，但我们不知道顾客的id，只知道姓名，在这情况下就需要通过在顾客表找到姓名相对应的id，再到订单表更新注释</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> orders</span><br><span class="line"><span class="keyword">SET</span> comments <span class="operator">=</span> <span class="string">&#x27;Gold customers&#x27;</span></span><br><span class="line"><span class="keyword">WHERE</span> customer_id <span class="keyword">IN</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> customer_id</span><br><span class="line">    <span class="keyword">FROM</span> customers</span><br><span class="line">    <span class="keyword">WHERE</span> points <span class="operator">&gt;</span> <span class="number">3000</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><h2 id="delete子句-删除数据">DELETE子句 删除数据</h2><p>格式：DELETE FROM 【表名】 WHERE 【条件1】，……</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> invoices</span><br><span class="line"><span class="keyword">WHERE</span> client_id <span class="operator">=</span> (</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> clients</span><br><span class="line"><span class="keyword">WHERE</span> name <span class="operator">=</span> <span class="string">&#x27;Myworks&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DataBase 常用函数</title>
      <link href="/posts/802921560/"/>
      <url>/posts/802921560/</url>
      
        <content type="html"><![CDATA[<h2 id="数值函数">数值函数</h2><h3 id="round函数">ROUND函数</h3><p>格式：ROUND（value，parameter）<br>将value四舍五入到paramet位小数</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ROUND(<span class="number">5.7542</span>,<span class="number">2</span>)</span><br><span class="line"><span class="comment">-- 运行结果：5.75</span></span><br></pre></td></tr></table></figure><h3 id="truncate函数">TRUNCATE函数</h3><p>格式：TRUNCATE（value，parame）<br>将value截断到paramet位小数</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">TRUNCATE</span>(<span class="number">5.7552</span>,<span class="number">2</span>)</span><br><span class="line"><span class="comment">-- 运行结果：5.75</span></span><br></pre></td></tr></table></figure><h3 id="ceiling函数">CEILING函数</h3><p>格式：CELING（value）<br>返回大于或等于value的最小整数</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">CEILING</span>(<span class="number">5.76</span>)</span><br><span class="line"><span class="comment">-- 运行结果：6</span></span><br></pre></td></tr></table></figure><h3 id="floor函数">FLOOR函数</h3><p>格式：FLOOR（value）<br>返回小于或等于value的最大整数</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">FLOOR</span>(<span class="number">1.52</span>)</span><br><span class="line"><span class="comment">-- 运行结果：1</span></span><br></pre></td></tr></table></figure><h3 id="abs函数">ABS函数</h3><p>格式：ABS（value）<br>返回绝对值</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">ABS</span>(<span class="number">-5.2</span>)</span><br><span class="line"><span class="comment">-- 运行结果：5.2</span></span><br></pre></td></tr></table></figure><h3 id="rand函数">RAND函数</h3><p>生成0-1之间的随机值</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> RAND()</span><br></pre></td></tr></table></figure><h2 id="字符串函数">字符串函数</h2><h3 id="length函数">LENGTH函数</h3><p>格式：LENGTH（str）<br>返回字符串的字符个数</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> LENGTH(<span class="string">&#x27;sky&#x27;</span>)</span><br><span class="line"><span class="comment">-- 运行结果：3</span></span><br></pre></td></tr></table></figure><h3 id="upper函数">UPPER函数</h3><p>格式：UPPER（str）<br>返回大写的字符串</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">UPPER</span>(<span class="string">&#x27;sky&#x27;</span>)</span><br><span class="line"><span class="comment">-- 运行结果：SKY</span></span><br></pre></td></tr></table></figure><h3 id="lower函数">LOWER函数</h3><p>格式：LOWER（str）<br>返回小写的字符串</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">LOWER</span>(<span class="string">&#x27;SKY&#x27;</span>)</span><br><span class="line"><span class="comment">-- 运行结果：sky</span></span><br></pre></td></tr></table></figure><h3 id="trim函数">TRIM函数</h3><p>分为三种：TRIM，LTRIM，RTRIM<br>用于删除多余的空格</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">TRIM</span>(<span class="string">&#x27;   SKY   &#x27;</span>),  <span class="comment">-- 删除SKY前后多余的空格</span></span><br><span class="line">LTRIM(<span class="string">&#x27;   cat&#x27;</span>),  <span class="comment">-- 删除cat左边多余的空格</span></span><br><span class="line">    RTRIM(<span class="string">&#x27;dog  &#x27;</span>)  <span class="comment">-- 删除dog右边多余的空格</span></span><br></pre></td></tr></table></figure><h3 id="left函数">LEFT函数</h3><p>格式：LEFT（str，parameter）<br>从左侧开始返回parameter个字符</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">LEFT</span>(<span class="string">&#x27;Kingdom&#x27;</span>,<span class="number">4</span>)</span><br><span class="line"><span class="comment">-- 运行结果：King</span></span><br></pre></td></tr></table></figure><h3 id="right函数">RIGHT函数</h3><p>格式：RIGHT（str，parameter）<br>从右侧开始返回parameter个字符</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">RIGHT</span>(<span class="string">&#x27;Kingdom&#x27;</span>,<span class="number">3</span>)</span><br><span class="line"><span class="comment">-- 运行结果：dom</span></span><br></pre></td></tr></table></figure><h3 id="substring函数">SUBSTRING函数</h3><p>格式：SUBSTRING（str，start，end）<br>截取str的start位置到end位置，若无end则默认到str末尾</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUBSTRING</span>(<span class="string">&#x27;Kingdom&#x27;</span>,<span class="number">1</span>,<span class="number">4</span>)</span><br><span class="line"><span class="comment">-- 运行结果：King</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUBSTRING</span>(<span class="string">&#x27;Kingdom&#x27;</span>,<span class="number">2</span>)</span><br><span class="line"><span class="comment">-- 运行结果：ingdom</span></span><br></pre></td></tr></table></figure><h3 id="locate函数">LOCATE函数</h3><p>格式：LOCATE（str1，str2）<br>返回str1在str2第一次出现的位置</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> LOCATE(<span class="string">&#x27;n&#x27;</span>,<span class="string">&#x27;Kingarten&#x27;</span>)</span><br><span class="line"><span class="comment">-- 运行结果：3</span></span><br><span class="line"><span class="comment">-- MySQL的位置从1起</span></span><br></pre></td></tr></table></figure><h3 id="replace函数">REPLACE函数</h3><p>格式：REPLACE（str，str1，str2）<br>将str中的str1替换为str2</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> REPLACE(<span class="string">&#x27;Kingarten&#x27;</span>,<span class="string">&#x27;garten&#x27;</span>,<span class="string">&#x27;garden&#x27;</span>)</span><br><span class="line"><span class="comment">-- 运行结果：Kingarden</span></span><br></pre></td></tr></table></figure><h3 id="concat函数">CONCAT函数</h3><p>格式：CONCAT（str1，str2，……）<br>连接字符串</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;John&#x27;</span>,<span class="string">&#x27; &#x27;</span>,<span class="string">&#x27;Smith&#x27;</span>)</span><br><span class="line"><span class="comment">-- 运行结果：John Smith</span></span><br></pre></td></tr></table></figure><h2 id="日期函数">日期函数</h2><table><thead><tr><th>NOW()</th><th>返回当前的时间</th></tr></thead><tbody><tr><td>CURDATE()</td><td>返回当前的日期</td></tr><tr><td>CURTIME()</td><td>返回当前的时刻</td></tr></tbody></table><h3 id="extract函数">EXTRACT函数</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">EXTRACT</span>(<span class="keyword">YEAR</span> <span class="keyword">FROM</span> NOW()) <span class="comment">-- 返回当前的年份</span></span><br><span class="line"><span class="comment">-- YEAR 可以更换为 MONTH，DAY，HOUR，MINUTE，SECOND等等</span></span><br></pre></td></tr></table></figure><h2 id="日期和时间的计算">日期和时间的计算</h2><ul><li>格式化日期和时间：<a href="https://dev.mysql.com/doc/refman/8.0/en/date-and-time-functions.html">MySQL :: MySQL 8.0 Reference Manual :: 14.7 Date and Time Functions</a></li></ul><h3 id="增加或减少日期">增加或减少日期</h3><ul><li>DATE_ADD(日期，INTERVAL 1 DAY) DAY可以替换为MONTH/YEAR</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> DATE_ADD(<span class="string">&#x27;2020-01-01&#x27;</span>,<span class="type">INTERVAL</span> <span class="number">1</span> <span class="keyword">DAY</span>)</span><br><span class="line"><span class="comment">-- 结果：2020-01-02</span></span><br></pre></td></tr></table></figure><ul><li>DATE_SUB(日期，INTERVAL 1 DAY) DAY可以替换为MONTH/YEAR</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> DATE_SUB(<span class="string">&#x27;2020-01-01&#x27;</span>,<span class="type">INTERVAL</span> <span class="number">1</span> <span class="keyword">DAY</span>)</span><br><span class="line"><span class="comment">-- 结果：2019-12-31</span></span><br></pre></td></tr></table></figure><ul><li>DATEDIFF(日期1，日期2)<br>以日期1减去日期2，求得两个日期之间的间隔，时间间隔不纳入考虑</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> DATEDIFF(<span class="string">&#x27;2020-02-01&#x27;</span>,<span class="string">&#x27;2020-01-01&#x27;</span>)</span><br><span class="line"><span class="comment">-- 结果：31</span></span><br></pre></td></tr></table></figure><ul><li>TIME_TO_SEC(时刻)<br>将时刻转换为秒，从而易于计算，从凌晨0点开始计算</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> TIME_TO_SEC(<span class="string">&#x27;09:00&#x27;</span>)<span class="operator">-</span>TIME_TO_SEC(<span class="string">&#x27;05:00&#x27;</span>)</span><br><span class="line"><span class="comment">-- 结果：14400</span></span><br></pre></td></tr></table></figure><h2 id="其他函数">其他函数</h2><h3 id="ifnull函数">IFNULL函数</h3><p>格式：IFNULL(列名，字符串)<br>判断列值中是否有空值，若有空值，以字符串内容替换</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">order_id,</span><br><span class="line">IFNULL(shipper_id,<span class="string">&#x27;Not Assigned&#x27;</span>)</span><br><span class="line"><span class="keyword">FROM</span> orders</span><br></pre></td></tr></table></figure><h3 id="coalesce函数">COALESCE函数</h3><p>格式：COALESCE（列名1，列名2，…，字符串）<br>若列名1中存在空值，以同行列名2的值进行替换，若还为空则继续替换，直至以字符串内容替换</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">order_id,</span><br><span class="line"><span class="built_in">COALESCE</span>(shipper_id,comments,<span class="string">&#x27;Not Assigned&#x27;</span>)</span><br><span class="line"><span class="keyword">FROM</span> orders</span><br></pre></td></tr></table></figure><h3 id="if函数">IF函数</h3><p>格式：IF（表达式，返回值1，返回值2）<br>表达式成立则得到返回值1，否则得到返回值2</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">oi.product_id,</span><br><span class="line">    p.name,</span><br><span class="line">    <span class="built_in">COUNT</span>(<span class="operator">*</span>) orders,</span><br><span class="line">    IF(<span class="built_in">COUNT</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">1</span>,<span class="string">&#x27;Many times&#x27;</span>,<span class="string">&#x27;Once&#x27;</span>) frequency</span><br><span class="line"><span class="keyword">FROM</span> order_items oi</span><br><span class="line"><span class="keyword">JOIN</span> products p <span class="keyword">USING</span>(product_id)</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> oi.product_id,p.name</span><br></pre></td></tr></table></figure><h3 id="case运算符">CASE运算符</h3><p>格式： CASE WHEN 表达式 THEN 返回值 …… (ELSE) 返回值 END<br>通过多个测试语句返回不同的结果</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">CONCAT(first_name,<span class="string">&#x27; &#x27;</span>,last_name) customer,</span><br><span class="line">    points,</span><br><span class="line">    <span class="keyword">CASE</span> </span><br><span class="line">    <span class="keyword">WHEN</span> points<span class="operator">&gt;</span><span class="number">3000</span> <span class="keyword">THEN</span> <span class="string">&#x27;Gold&#x27;</span></span><br><span class="line">    <span class="keyword">WHEN</span> points <span class="keyword">BETWEEN</span> <span class="number">2000</span> <span class="keyword">AND</span> <span class="number">3000</span> <span class="keyword">THEN</span> <span class="string">&#x27;Sliver&#x27;</span></span><br><span class="line">    <span class="keyword">WHEN</span> points<span class="operator">&lt;</span><span class="number">2000</span> <span class="keyword">THEN</span> <span class="string">&#x27;Bronze&#x27;</span></span><br><span class="line">    <span class="keyword">END</span> <span class="keyword">AS</span> category</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> points <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DataBase 查询语句</title>
      <link href="/posts/1146913277/"/>
      <url>/posts/1146913277/</url>
      
        <content type="html"><![CDATA[<h2 id="select-语句">SELECT 语句</h2><ol><li>用于选择数据库中的某些列，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∗</mo></mrow><annotation encoding="application/x-tex">*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord">∗</span></span></span></span> 表示全部列。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> [表名]; <span class="comment">-- 表示选中某表的全部列</span></span><br><span class="line"><span class="keyword">SELECT</span> [列名]<span class="operator">/</span>[列名<span class="number">1</span>],[列名<span class="number">2</span>],... <span class="keyword">FROM</span> [表名]; <span class="comment">-- 表示选中某表的某列/某些列</span></span><br></pre></td></tr></table></figure><ul><li>DISTINCT 关键字 用于去重查询</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> user_id</span><br><span class="line"><span class="keyword">FROM</span> solution;</span><br></pre></td></tr></table></figure><h2 id="关键字">关键字</h2><ol><li><strong>AS</strong><br>用于接列的别名（可省略）</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">name,</span><br><span class="line">unit_price,</span><br><span class="line">unit_price <span class="operator">*</span> <span class="number">1.1</span> <span class="keyword">AS</span> new_price <span class="operator">/</span> unit_price <span class="operator">*</span> <span class="number">1.1</span> new_price </span><br><span class="line"><span class="comment">-- 在显示查询结果时，unit_price * 1.1 这一列名会被别名new_price替代</span></span><br><span class="line"><span class="comment">-- 第三行左右两种写法表示同一种意思</span></span><br><span class="line"><span class="keyword">FROM</span> [表名];</span><br></pre></td></tr></table></figure><ol start="2"><li>ALL<br><strong>ALL</strong> 可以与(=、&gt;、&gt;=、&lt;、&lt;=、&lt;&gt;)结合是来使用，分别表示等于、大于、大于等于、小于、小于等于、不等于其中的其中的所有数据。<br><strong>ALL</strong> 关键字用在比较操作符(=、&gt;、&gt;=、&lt;、&lt;=、&lt;&gt;…)的后面，表示查询结果的多个数据中的所有都满足该比较操作符才算满足。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> invoices</span><br><span class="line"><span class="keyword">WHERE</span> invoice_total <span class="operator">&gt;</span> <span class="keyword">ALL</span>(</span><br><span class="line"><span class="keyword">SELECT</span> invoice_total</span><br><span class="line">    <span class="keyword">FROM</span> invoices</span><br><span class="line">    <span class="keyword">WHERE</span> invoice_id <span class="operator">=</span> <span class="number">3</span></span><br><span class="line">)</span><br><span class="line"> <span class="comment">-- ALL返回（）里面所有的值，和invoice_total 逐一比较</span></span><br></pre></td></tr></table></figure><ol start="3"><li>ANY/SOME<br><strong>ANY/SOME</strong> 可以与(=、&gt;、&gt;=、&lt;、&lt;=、&lt;&gt;)结合起来使用，分别表示等于、大于、大于等于、小于、小于等于、不等于其中的任何一个数据。<br><strong>ANY/SOME</strong> 关键字用在比较操作符(=、&gt;、&gt;=、&lt;、&lt;=、&lt;&gt;…)的后面，表示查询结果的多个数据中的任一个满足该比较操作符就算满足。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> clients</span><br><span class="line"><span class="keyword">WHERE</span> client_id <span class="operator">=</span> <span class="keyword">ANY</span>(</span><br><span class="line"><span class="keyword">SELECT</span> client_id </span><br><span class="line"><span class="keyword">FROM</span> invoices</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> client_id </span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">&gt;=</span> <span class="number">2</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><h2 id="where-语句">WHERE 语句</h2><ol><li>作为增删查改等操作时的条件语句，用于过滤数据<br>下述以查询语句为例：</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> [表名]</span><br><span class="line"><span class="keyword">WHERE</span> [条件];</span><br></pre></td></tr></table></figure><h2 id="运算符">运算符</h2><h3 id="比较">比较</h3><table><thead><tr><th>大于</th><th>大于等于</th><th>小于</th><th>小于等于</th><th>等于</th><th>不等于</th><th>不大于</th><th>不小于</th><th>其他</th></tr></thead><tbody><tr><td>&gt;</td><td>&gt;=</td><td>&lt;</td><td>&lt;=</td><td>=</td><td>!= 或 &lt;&gt;</td><td>!&gt;</td><td>!&lt;</td><td>NOT+上述运算符</td></tr></tbody></table><h3 id="逻辑运算">逻辑运算</h3><table><thead><tr><th>AND</th><th>用于判定多个条件同时成立的情况</th></tr></thead><tbody><tr><td>OR</td><td>用于判定多个条件其中一个正确的情况</td></tr><tr><td>NOT</td><td>用于判定与某条件相反的情况</td></tr></tbody></table><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>N</mi><mi>D</mi></mrow><annotation encoding="application/x-tex">AND</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span></span>  和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">OR</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span></span></span></span> 只能用于连接表示 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>r</mi><mi>u</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">true</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">u</span><span class="mord mathdefault">e</span></span></span></span> or <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mi>a</mi><mi>l</mi><mi>s</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">false</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span></span></span></span> 的逻辑语句，不能连接语句和字符串</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> state <span class="operator">=</span> <span class="string">&#x27;VA&#x27;</span> <span class="keyword">OR</span> <span class="string">&#x27;GA&#x27;</span> <span class="keyword">OR</span> <span class="string">&#x27;FL&#x27;</span> <span class="comment">--这种条件语句无法成立</span></span><br></pre></td></tr></table></figure><h3 id="确定集合">确定集合</h3><table><thead><tr><th>IN</th><th>用于查询属性值在该集合内的元组</th></tr></thead><tbody><tr><td>NOT IN</td><td>用于查询属性值不在该集合内的元组</td></tr></tbody></table><table><thead><tr><th>EXISTS</th><th>用于查询符合条件的元组</th></tr></thead><tbody><tr><td>NOT EXISTS</td><td>用于查询不符合条件的元组</td></tr></tbody></table><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> products p</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">    <span class="keyword">FROM</span> order_items oi</span><br><span class="line">    <span class="keyword">WHERE</span> p.product_id <span class="operator">=</span> oi.product_id</span><br><span class="line">);</span><br><span class="line"><span class="comment">-- EXISTS 只返回True或False，不返回具体的值</span></span><br></pre></td></tr></table></figure><ul><li>外层小表，内层大表（或者将sql从左到右来看：左面小表，右边大表）： <strong>exists</strong> 比 <strong>in</strong> 的效率高</li><li>外层大表，内层小表（或者将sql从左到右来看：左面大表，右边小表）： <strong>in</strong> 比 <strong>exists</strong> 的效率高</li></ul><h3 id="确定范围">确定范围</h3><table><thead><tr><th>BETWEEN AND</th><th>查找属性值在指定范围内的元组</th></tr></thead><tbody><tr><td>NOT BETWEEN AND</td><td>查找属性值不在指定范围内的元组</td></tr></tbody></table><h3 id="字符匹配">字符匹配</h3><table><thead><tr><th>LIKE</th><th>查找指定属性列值与匹配串相匹配的元组</th></tr></thead><tbody><tr><td>NOT LIKE</td><td>查定指定属性列值不与匹配串匹配的元组</td></tr></tbody></table><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> address <span class="keyword">LIKE</span> ‘<span class="operator">%</span>trial<span class="operator">%</span>’</span><br><span class="line"><span class="comment">-- 格式： [NOT] LIKE &#x27;匹配串&#x27;</span></span><br><span class="line"><span class="comment">-- 通配符：（1）% 用于代表任意长度的字符串；（2）_ 用于代表单个字符</span></span><br></pre></td></tr></table></figure><h3 id="空值查询">空值查询</h3><table><thead><tr><th>IS NULL</th><th>查询某属性值为空的元组</th></tr></thead><tbody><tr><td>IS NOT NULL</td><td>查询某属性值非空的元组</td></tr></tbody></table><h2 id="order-by-语句">ORDER BY 语句</h2><ol><li>用于查询时按某列进行排序，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mi>E</mi><mi>S</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">DESC</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> 是降序的缩写</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> order_items</span><br><span class="line"><span class="keyword">WHERE</span> order_id <span class="operator">=</span> <span class="number">2</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> quantity <span class="operator">*</span> unit_price <span class="keyword">DESC</span>; <span class="comment">-- 按照数量乘以单价后的总价进行降序排序</span></span><br><span class="line"><span class="comment">-- 格式：ORDER BY [列名称] </span></span><br></pre></td></tr></table></figure><h2 id="limit-语句">LIMIT 语句</h2><ol><li>用于限制查询记录输出</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> points <span class="keyword">DESC</span></span><br><span class="line">LIMIT <span class="number">3</span>; <span class="comment">-- 表示只输出前三条记录</span></span><br></pre></td></tr></table></figure><ul><li>OFFSET 关键词表示偏移量</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line">LIMIT <span class="number">6</span>,<span class="number">3</span> <span class="comment">-- 表示以3条记录为一页，跨过前6条记录并展示</span></span><br><span class="line">LIMIT <span class="number">3</span> <span class="keyword">OFFSET</span> <span class="number">6</span> <span class="comment">-- 与上一条LIMIT语句表达意思相同</span></span><br></pre></td></tr></table></figure><h2 id="子查询">子查询</h2><p>子查询指一个查询语句嵌套在另一个查询语句内部的查询</p><ul><li>不相关子查询：子查询的查询条件不依赖于父查询，称为不相关子查询。</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno,Sname,Sdept</span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sdept <span class="keyword">IN</span>(</span><br><span class="line"><span class="keyword">SELECT</span> Sdept </span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sname<span class="operator">=</span><span class="string">&#x27;刘晨&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><ul><li>相关子查询：如果子查询的查询条件依赖于父查询，这类子查询称为相关子查询。</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> invoices A</span><br><span class="line"><span class="keyword">WHERE</span> invoice_total <span class="operator">&gt;</span>(</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(invoice_total)</span><br><span class="line">    <span class="keyword">FROM</span> invoices</span><br><span class="line">    <span class="keyword">WHERE</span> client_id <span class="operator">=</span> A.client_id</span><br><span class="line">);</span><br></pre></td></tr></table></figure><ul><li>SELECT子句中的子查询</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">c.client_id,</span><br><span class="line">    name,</span><br><span class="line">    (<span class="keyword">SELECT</span> <span class="built_in">SUM</span>(invoice_total) <span class="keyword">FROM</span> invoices <span class="keyword">WHERE</span> client_id <span class="operator">=</span> c.client_id) <span class="keyword">AS</span> total_sales,</span><br><span class="line">    (<span class="keyword">SELECT</span> <span class="built_in">AVG</span>(invoice_total) <span class="keyword">FROM</span> invoices) <span class="keyword">AS</span> average,</span><br><span class="line">    (<span class="keyword">SELECT</span> total_sales <span class="operator">-</span> average) <span class="keyword">AS</span> difference</span><br><span class="line"><span class="keyword">FROM</span> clients c</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> invoices i <span class="keyword">USING</span> (client_id)</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">by</span> c.client_id,name,difference;</span><br></pre></td></tr></table></figure><ul><li>FROM子句中的子查询<br>FROM子句中的子查询可以调用我们经过复杂查询后产生的虚拟表格进行简单的查询。但这种子查询会增加的代码复杂度，在后面我们可以用视图保存复杂查询后的表格——&gt;【视图】</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> </span><br><span class="line">        c.client_id,</span><br><span class="line">         name,</span><br><span class="line">        (<span class="keyword">SELECT</span> <span class="built_in">SUM</span>(invoice_total) <span class="keyword">FROM</span> invoices <span class="keyword">WHERE</span> client_id <span class="operator">=</span> c.client_id) total_sales,</span><br><span class="line">        (<span class="keyword">SELECT</span> <span class="built_in">AVG</span>(invoice_total) <span class="keyword">FROM</span> invoices) average,</span><br><span class="line">        (<span class="keyword">SELECT</span> total_sales <span class="operator">-</span> average) difference</span><br><span class="line"><span class="keyword">FROM</span> clients c</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> invoices i <span class="keyword">USING</span> (client_id)</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> c.client_id,name</span><br><span class="line">) <span class="keyword">AS</span> sales_summary</span><br><span class="line"><span class="keyword">WHERE</span> total_sales <span class="keyword">IS</span> <span class="keyword">NOT NULL</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DataBase 视图</title>
      <link href="/posts/2160201343/"/>
      <url>/posts/2160201343/</url>
      
        <content type="html"><![CDATA[<p>数据库中的视图是一个虚拟表，同真实的表一样，视图包含一系列带有名称的行和列数据，行和列数据来自定义视图查询所引用的表，并且在引用视图时动态生成。但视图并不提供数据</p><h2 id="创建视图">创建视图</h2><p>格式：CREATE VIEW 【视图名】 AS  + 查询语句</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> clients_balance <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">i.client_id,</span><br><span class="line">    name,</span><br><span class="line">    <span class="built_in">SUM</span>(invoice_total<span class="operator">-</span>payment_total) balance</span><br><span class="line"><span class="keyword">FROM</span> invoices i</span><br><span class="line"><span class="keyword">JOIN</span> clients c <span class="keyword">USING</span>(client_id)</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> i.client_id,name</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> i.client_id;</span><br></pre></td></tr></table></figure><h2 id="删除视图">删除视图</h2><p>格式：DROP VIEW 【视图名】</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> clients_balance</span><br></pre></td></tr></table></figure><h2 id="更改视图">更改视图</h2><p>格式：CREATE OR REPLACE VIEW 【视图名】 AS + 查询语句</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">VIEW</span> sales_by_clients <span class="keyword">AS</span>  <span class="comment">-- 创建或更新sales_by_clients视图</span></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">c.client_id,</span><br><span class="line">c.name,</span><br><span class="line"><span class="built_in">SUM</span>(invoice_total) total_sales</span><br><span class="line"><span class="keyword">FROM</span> clients c</span><br><span class="line"><span class="keyword">JOIN</span> invoices i <span class="keyword">USING</span>(client_id)</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> client_id, name</span><br></pre></td></tr></table></figure><h2 id="可更新视图">可更新视图</h2><p>可以使用INSERT、UPDATE、DELETE语句的视图<br><strong>成立条件：没有使用DISTINCT，聚合函数，GROUP BY子句/HAVING子句，UNION的视图</strong><br>示例：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">VIEW</span> invoices_with_balance <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">invoice_id,</span><br><span class="line">number,</span><br><span class="line">client_id,</span><br><span class="line">invoice_total,</span><br><span class="line">payment_total,</span><br><span class="line">invoice_total <span class="operator">-</span> payment_total <span class="keyword">AS</span> balance,</span><br><span class="line">invoice_date,</span><br><span class="line">due_date,</span><br><span class="line">payment_date</span><br><span class="line"><span class="keyword">FROM</span> invoices</span><br><span class="line"><span class="keyword">WHERE</span> (invoice_total <span class="operator">-</span> payment_total) <span class="operator">&gt;</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><h2 id="with-check-option子句">WITH CHECK OPTION子句</h2><p>添加在创建视图语句的最后，在使用UPDATE语句或DELETE语句更新视图时，<strong>假如该行为会使视图中的某行消失，系统会返回错误提示</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">VIEW</span> invoices_with_balance <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">invoice_id,</span><br><span class="line">number,</span><br><span class="line">client_id,</span><br><span class="line">invoice_total,</span><br><span class="line">payment_total,</span><br><span class="line">invoice_total <span class="operator">-</span> payment_total <span class="keyword">AS</span> balance,</span><br><span class="line">invoice_date,</span><br><span class="line">due_date,</span><br><span class="line">payment_date</span><br><span class="line"><span class="keyword">FROM</span> invoices</span><br><span class="line"><span class="keyword">WHERE</span> (invoice_total <span class="operator">-</span> payment_total) <span class="operator">&gt;</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">WITH</span> <span class="keyword">CHECK</span> OPTION；</span><br><span class="line"></span><br><span class="line"><span class="keyword">UPDATE</span> invoices_with_balance</span><br><span class="line"><span class="keyword">SET</span> payment_total <span class="operator">=</span> invoice_total</span><br><span class="line"><span class="keyword">WHERE</span> invoice_id <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"><span class="comment">-- 查询结果：#1369 - CHECK OPTION failed &#x27;sql_invoicing.invoices_with_balance&#x27;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DataBase 聚合函数</title>
      <link href="/posts/3438945314/"/>
      <url>/posts/3438945314/</url>
      
        <content type="html"><![CDATA[<h2 id="函数简述">函数简述</h2><table><thead><tr><th>MAX()</th><th>求该列中的最大值</th></tr></thead><tbody><tr><td>MIN()</td><td>求该列中的最小值</td></tr><tr><td>AVG()</td><td>求该列的平均值</td></tr><tr><td>SUM()</td><td>求该列的值之和</td></tr><tr><td>COUNT()</td><td>统计该列中有多少条记录</td></tr></tbody></table><ol><li>所有聚合函数只计算非空值。</li><li>不能用于WHERE子句<br>（因为聚合函数是对已确定的数据集进行处理，而WHERE子句属于还在确定的阶段）</li></ol><h2 id="group-by子句">GROUP BY子句</h2><p>根据一定的规则，进行分组，以by后面跟着的一个或多个字段进行分组</p><ol><li>格式：select 聚合函数(字段1)，字段2 from 表名 where 条件 group by 字段2,字段3</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">p.date,</span><br><span class="line">pm.name payment_method,</span><br><span class="line"><span class="built_in">SUM</span>(amount) total_payments</span><br><span class="line"><span class="keyword">FROM</span> payments p, payment_methods pm</span><br><span class="line"><span class="keyword">WHERE</span> p.payment_method <span class="operator">=</span> pm.payment_method_id</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="type">date</span>, name;</span><br></pre></td></tr></table></figure><ol start="2"><li>通过HAVING子句过滤分组后的数据<br>格式：select 聚合函数(字段1)，字段2 from 表名 where 条件 group by 字段2,字段3 having 过滤条件</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">c.customer_id,</span><br><span class="line">    c.first_name,</span><br><span class="line">    c.last_name,</span><br><span class="line">    <span class="built_in">SUM</span>(oi.quantity <span class="operator">*</span> oi.unit_price) <span class="keyword">AS</span> total_sales</span><br><span class="line"><span class="keyword">FROM</span> customers c</span><br><span class="line"><span class="keyword">JOIN</span> orders o <span class="keyword">USING</span>(customer_id)</span><br><span class="line"><span class="keyword">JOIN</span> order_items oi <span class="keyword">USING</span>(order_id)</span><br><span class="line"><span class="keyword">WHERE</span> state <span class="operator">=</span> <span class="string">&#x27;VA&#x27;</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> </span><br><span class="line">c.customer_id,</span><br><span class="line">    c.first_name,</span><br><span class="line">    c.last_name</span><br><span class="line"><span class="keyword">HAVING</span> total_sales<span class="operator">&gt;</span><span class="number">100</span>;</span><br></pre></td></tr></table></figure><h2 id="rollup-运算符">ROLLUP 运算符</h2><p>用于计算总和，但只能用于聚合值的列，且使用时，GROUP BY 后的字段不能用别名<br><strong>注：ROLLUP只适用于Mysql</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">name payment_method,</span><br><span class="line">    <span class="built_in">SUM</span>(p.amount) total</span><br><span class="line"><span class="keyword">FROM</span> payments p</span><br><span class="line"><span class="keyword">JOIN</span> payment_methods pm</span><br><span class="line"><span class="keyword">ON</span> p.payment_method <span class="operator">=</span> pm.payment_method_id</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> name <span class="keyword">WITH</span> <span class="keyword">ROLLUP</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DataBase 连接</title>
      <link href="/posts/4201200877/"/>
      <url>/posts/4201200877/</url>
      
        <content type="html"><![CDATA[<h1 id="内连接-inner-join">内连接 —— INNER JOIN</h1><ol><li>用于连接两个表的数据，通过<strong>ON关键字+条件语句</strong>来过滤数据</li></ol><ul><li>内连接不加关联条件的结果就是笛卡尔积</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> order_id,o.product_id,quantity,o.unit_price</span><br><span class="line"><span class="keyword">FROM</span> order_items o</span><br><span class="line">（<span class="keyword">INNER</span>） <span class="keyword">JOIN</span> products p <span class="comment">--实际INNER可写可不写，结果一致</span></span><br><span class="line"> <span class="keyword">ON</span> o.product_id <span class="operator">=</span> p.product_id</span><br></pre></td></tr></table></figure><h2 id="跨表连接">跨表连接</h2><ol><li>用于连接不同数据库的多张表的数据，通过在表名前加上相应的数据库前缀来实现</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">USE sql_store;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> order_items oi</span><br><span class="line"><span class="keyword">JOIN</span> sql_inventory.products p</span><br><span class="line"><span class="keyword">ON</span> oi.product_id <span class="operator">=</span> p.product_id;</span><br></pre></td></tr></table></figure><h2 id="自连接">自连接</h2><ol><li>通过给同一张表取两个别名来实现自连接</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">e.employee_id,</span><br><span class="line">    e.first_name,</span><br><span class="line">    m.first_name</span><br><span class="line"><span class="keyword">FROM</span> employees e</span><br><span class="line"><span class="keyword">JOIN</span> employees m</span><br><span class="line"><span class="keyword">ON</span> e.reports_to <span class="operator">=</span> m.employee_id;</span><br></pre></td></tr></table></figure><h2 id="多表连接">多表连接</h2><ol><li>通过多个JOIN语句来实现多表连接</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">p.payment_id,</span><br><span class="line">    c.name <span class="keyword">AS</span> name, </span><br><span class="line">    p.invoice_id,</span><br><span class="line">    p.date,</span><br><span class="line">    p.amount,</span><br><span class="line">    pm.name <span class="keyword">AS</span> payment_method</span><br><span class="line"><span class="keyword">FROM</span> payments p</span><br><span class="line"><span class="keyword">JOIN</span> payment_methods pm</span><br><span class="line"><span class="keyword">ON</span> p.payment_method <span class="operator">=</span> pm.payment_method_id</span><br><span class="line"><span class="keyword">JOIN</span> clients c</span><br><span class="line"><span class="keyword">ON</span> p.client_id <span class="operator">=</span> c.client_id;</span><br></pre></td></tr></table></figure><h2 id="复合连接">复合连接</h2><ol><li>当表的记录是通过多列作为复合主键来作为唯一标识时，需要通过复合条件来实现连接</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> order_items oi</span><br><span class="line"><span class="keyword">JOIN</span> order_item_notes oin</span><br><span class="line"><span class="keyword">ON</span> oi.order_id <span class="operator">=</span> oin.order_id</span><br><span class="line">    <span class="keyword">AND</span> oi.product_id <span class="operator">=</span> oin.product_id;</span><br></pre></td></tr></table></figure><h2 id="隐式连接">隐式连接</h2><ol><li>除了使用JOIN语句，还可以使用WHERE子句来实现连接</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> orders o, customers c</span><br><span class="line"><span class="keyword">WHERE</span> o.customer_id <span class="operator">=</span> c.customer_id; <span class="comment">-- 注意：不写WHERE子句会出笛卡尔积的情况</span></span><br></pre></td></tr></table></figure><h1 id="外连接-outer-join">外连接 —— OUTER JOIN</h1><p>悬浮元组：内连接时不满足条件而被舍弃的元组<br>左外连接：A<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⋊</mo></mrow><annotation encoding="application/x-tex">\rtimes</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66334em;vertical-align:-0.08167em;"></span><span class="mord amsrm">⋊</span></span></span></span>B，假设有表A、B，通过左外连接(LEFT OUTER JOIN)会保留表A的悬浮元组<br>右外连接：A<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⋉</mo></mrow><annotation encoding="application/x-tex">\ltimes</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66334em;vertical-align:-0.08167em;"></span><span class="mord amsrm">⋉</span></span></span></span>B，假设有表A、B，通过右外连接(RIGHT OUTER JOIN)会保留表B的悬浮元组</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">p.product_id,</span><br><span class="line">    p.name,</span><br><span class="line">    oi.quantity</span><br><span class="line"><span class="keyword">FROM</span> products p</span><br><span class="line"><span class="keyword">LEFT</span> (<span class="keyword">OUTER</span>) <span class="keyword">JOIN</span> order_items oi <span class="comment">--OUTER与INNER一样可写可不写</span></span><br><span class="line"><span class="keyword">ON</span> p.product_id <span class="operator">=</span> oi.product_id;</span><br></pre></td></tr></table></figure><h2 id="多表外连接">多表外连接</h2><p>根据实际需要查询的情况，来使用相应的外连接</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">USE sql_store;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">o.order_date,</span><br><span class="line">    o.order_id,</span><br><span class="line">    c.first_name,</span><br><span class="line">    sh.name <span class="keyword">AS</span> shipper,  </span><br><span class="line">    os.name <span class="keyword">AS</span> status</span><br><span class="line"><span class="keyword">FROM</span> orders o</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> shippers sh  </span><br><span class="line"><span class="comment">-- 因为orders表里部分订单没有发货人信息，如果不使用外连接，我们无法得到所有订单的信息</span></span><br><span class="line"><span class="keyword">ON</span> sh.shipper_id <span class="operator">=</span> o.shipper_id</span><br><span class="line"><span class="keyword">JOIN</span> order_statuses os</span><br><span class="line"><span class="keyword">ON</span> os.order_status_id <span class="operator">=</span> o.status</span><br><span class="line"><span class="keyword">JOIN</span> customers c</span><br><span class="line"><span class="keyword">ON</span> c.customer_id <span class="operator">=</span> o.customer_id;</span><br></pre></td></tr></table></figure><h2 id="自外连接">自外连接</h2><p>在数据库sql_hr中，employees表中有一条记录的report_to列为空值，当我们使用内连接时，就无法查询到该条记录的信息，但实际查询是要显示所有员工的信息，那这时候就需要使用外连接</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USE sql_hr;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">e.employee_id,</span><br><span class="line">    e.first_name,</span><br><span class="line">    m.first_name <span class="keyword">AS</span> manager</span><br><span class="line"><span class="keyword">FROM</span> employees e</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> employees m</span><br><span class="line"><span class="keyword">ON</span> e.reports_to <span class="operator">=</span> m.employee_id;</span><br></pre></td></tr></table></figure><h2 id="using子句">USING子句</h2><p>用于JOIN语句过滤数据的另一个关键字，只能用于<strong>两个表中列名称相同的列</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">p.date,</span><br><span class="line">    c.name client,</span><br><span class="line">    p.amount,</span><br><span class="line">    pm.name payment_method</span><br><span class="line"><span class="keyword">FROM</span> payments p</span><br><span class="line"><span class="keyword">JOIN</span> clients c</span><br><span class="line"><span class="keyword">USING</span>(client_id)</span><br><span class="line"><span class="keyword">JOIN</span> payment_methods pm</span><br><span class="line"><span class="keyword">ON</span> p.payment_method <span class="operator">=</span> pm.payment_method_id</span><br><span class="line"><span class="comment">--因为p表中的payment_method和pm表中的payment_method_id名称不同，故不能使用USING</span></span><br></pre></td></tr></table></figure><h2 id="自然连接">自然连接</h2><p>自然连接是一种特殊的等值连接，他要求两个关系表中进行连接的必须是相同的属性列（名字相同），无须添加连接条件，并且在结果中消除重复的属性列。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">o.order_id,</span><br><span class="line">    c.first_name</span><br><span class="line"><span class="keyword">FROM</span> orders o </span><br><span class="line"><span class="keyword">NATURAL</span> <span class="keyword">JOIN</span> customers c;</span><br></pre></td></tr></table></figure><h2 id="交叉连接">交叉连接</h2><p>交叉连接（CROSS JOIN）一般用来返回连接表的笛卡尔积</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--显式语法</span></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">c.first_name customer,</span><br><span class="line">    p.name product</span><br><span class="line"><span class="keyword">FROM</span> customers c</span><br><span class="line"><span class="keyword">CROSS</span> <span class="keyword">JOIN</span> products p</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> c.first_name;</span><br><span class="line"></span><br><span class="line"><span class="comment">--隐式语法</span></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">c.first_name customer,</span><br><span class="line">    p.name product</span><br><span class="line"><span class="keyword">FROM</span> customers c,products p</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> c.first_name;</span><br></pre></td></tr></table></figure><h2 id="联合">联合</h2><p>UNION，将多条select语句的结果，在字段数相同(即Select语句返回的结果列数相同)的情况下，在记录的层次上进行拼接。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">USE sql_store;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">customer_id,</span><br><span class="line">    first_name,</span><br><span class="line">    points,</span><br><span class="line">    &quot;Bronze&quot; <span class="keyword">AS</span> types</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> points <span class="operator">&lt;</span> <span class="number">2000</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">customer_id,</span><br><span class="line">    first_name,</span><br><span class="line">    points,</span><br><span class="line">    &quot;Silver&quot; <span class="keyword">AS</span> types</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> points <span class="keyword">between</span> <span class="number">2000</span> <span class="keyword">and</span> <span class="number">3000</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">customer_id,</span><br><span class="line">    first_name,</span><br><span class="line">    points,</span><br><span class="line">    &quot;Gold&quot; <span class="keyword">AS</span> types</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> points <span class="operator">&gt;</span> <span class="number">3000</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> first_name; </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>tags</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>categories</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
  
</search>
